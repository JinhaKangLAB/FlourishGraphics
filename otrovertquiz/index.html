<!DOCTYPE html><html><head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The <title> is inserted by Flourish -->

    <!-- Link to a stylesheet, or include an inline <style> section here -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
    <link rel="stylesheet" type="text/css" href="extra-styles.css">
    <link rel="stylesheet" type="text/css" href="style.css">
    <base target="_top">
  <title>Are you an otrovert?</title></head>
  <body>
    <!-- If you want to start with a non-empty document, add elements here -->
    <!-- Relative links are rewritten to refer to the files in the static directory -->
  

<script>window.Flourish = {"static_prefix":".","environment":"live","is_read_only":true};</script><script>var template=function(e){"use strict";function t(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function n(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function r(){}var o=.7,a=1/o,i="\\s*([+-]?\\d+)\\s*",u="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",s="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",l=/^#([0-9a-f]{3,8})$/,c=new RegExp(`^rgb\\(${i},${i},${i}\\)$`),f=new RegExp(`^rgb\\(${s},${s},${s}\\)$`),d=new RegExp(`^rgba\\(${i},${i},${i},${u}\\)$`),h=new RegExp(`^rgba\\(${s},${s},${s},${u}\\)$`),p=new RegExp(`^hsl\\(${u},${s},${s}\\)$`),m=new RegExp(`^hsla\\(${u},${s},${s},${u}\\)$`),g={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function v(){return this.rgb().formatHex()}function y(){return this.rgb().formatRgb()}function b(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=l.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?_(t):3===n?new E(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?w(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?w(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=c.exec(e))?new E(t[1],t[2],t[3],1):(t=f.exec(e))?new E(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=d.exec(e))?w(t[1],t[2],t[3],t[4]):(t=h.exec(e))?w(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=p.exec(e))?C(t[1],t[2]/100,t[3]/100,1):(t=m.exec(e))?C(t[1],t[2]/100,t[3]/100,t[4]):g.hasOwnProperty(e)?_(g[e]):"transparent"===e?new E(NaN,NaN,NaN,0):null}function _(e){return new E(e>>16&255,e>>8&255,255&e,1)}function w(e,t,n,r){return r<=0&&(e=t=n=NaN),new E(e,t,n,r)}function E(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function N(){return`#${A(this.r)}${A(this.g)}${A(this.b)}`}function M(){const e=x(this.opacity);return`${1===e?"rgb(":"rgba("}${I(this.r)}, ${I(this.g)}, ${I(this.b)}${1===e?")":`, ${e})`}`}function x(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function I(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function A(e){return((e=I(e))<16?"0":"")+e.toString(16)}function C(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new T(e,t,n,r)}function S(e){if(e instanceof T)return new T(e.h,e.s,e.l,e.opacity);if(e instanceof r||(e=b(e)),!e)return new T;if(e instanceof T)return e;var t=(e=e.rgb()).r/255,n=e.g/255,o=e.b/255,a=Math.min(t,n,o),i=Math.max(t,n,o),u=NaN,s=i-a,l=(i+a)/2;return s?(u=t===i?(n-o)/s+6*(n<o):n===i?(o-t)/s+2:(t-n)/s+4,s/=l<.5?i+a:2-i-a,u*=60):s=l>0&&l<1?0:u,new T(u,s,l,e.opacity)}function T(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function D(e){return(e=(e||0)%360)<0?e+360:e}function O(e){return Math.max(0,Math.min(1,e||0))}function R(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}t(r,b,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:v,formatHex:v,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return S(this).formatHsl()},formatRgb:y,toString:y}),t(E,(function(e,t,n,o){return 1===arguments.length?function(e){return e instanceof r||(e=b(e)),e?new E((e=e.rgb()).r,e.g,e.b,e.opacity):new E}(e):new E(e,t,n,null==o?1:o)}),n(r,{brighter(e){return e=null==e?a:Math.pow(a,e),new E(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?o:Math.pow(o,e),new E(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new E(I(this.r),I(this.g),I(this.b),x(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:N,formatHex:N,formatHex8:function(){return`#${A(this.r)}${A(this.g)}${A(this.b)}${A(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:M,toString:M})),t(T,(function(e,t,n,r){return 1===arguments.length?S(e):new T(e,t,n,null==r?1:r)}),n(r,{brighter(e){return e=null==e?a:Math.pow(a,e),new T(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?o:Math.pow(o,e),new T(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,o=2*n-r;return new E(R(e>=240?e-240:e+120,o,r),R(e,o,r),R(e<120?e+240:e-120,o,r),this.opacity)},clamp(){return new T(D(this.h),O(this.s),O(this.l),x(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=x(this.opacity);return`${1===e?"hsl(":"hsla("}${D(this.h)}, ${100*O(this.s)}%, ${100*O(this.l)}%${1===e?")":`, ${e})`}`}}));var k="$";function L(){}function F(e,t){var n=new L;if(e instanceof L)e.each((function(e,t){n.set(t,e)}));else if(Array.isArray(e)){var r,o=-1,a=e.length;if(null==t)for(;++o<a;)n.set(o,e[o]);else for(;++o<a;)n.set(t(r=e[o],o,e),r)}else if(e)for(var i in e)n.set(i,e[i]);return n}function P(){}L.prototype=F.prototype={constructor:L,has:function(e){return k+e in this},get:function(e){return this[k+e]},set:function(e,t){return this[k+e]=t,this},remove:function(e){var t=k+e;return t in this&&delete this[t]},clear:function(){for(var e in this)e[0]===k&&delete this[e]},keys:function(){var e=[];for(var t in this)t[0]===k&&e.push(t.slice(1));return e},values:function(){var e=[];for(var t in this)t[0]===k&&e.push(this[t]);return e},entries:function(){var e=[];for(var t in this)t[0]===k&&e.push({key:t.slice(1),value:this[t]});return e},size:function(){var e=0;for(var t in this)t[0]===k&&++e;return e},empty:function(){for(var e in this)if(e[0]===k)return!1;return!0},each:function(e){for(var t in this)t[0]===k&&e(this[t],t.slice(1),this)}};var U=F.prototype;P.prototype={constructor:P,has:U.has,add:function(e){return this[k+(e+="")]=e,this},remove:U.remove,clear:U.clear,values:U.keys,size:U.size,empty:U.empty,each:U.each};const Y="undefined"!=typeof window&&"undefined"!=typeof document&&"function"==typeof document.createElement&&"function"==typeof document.body?.appendChild&&"undefined"!=typeof HTMLElement,V=document.createElement("canvas"),$=V.getContext("2d"),H=document.createElementNS("http://www.w3.org/2000/svg","svg"),q=document.createElementNS("http://www.w3.org/2000/svg","text");H.appendChild(q),Y&&(V.style.position="fixed",V.style.left="1000vw",H.style.position="fixed",H.style.left="1000vw",document.body.appendChild(V),document.body.appendChild(H));let B=null;function j(e,t){var n=function(e,t){if("string"!=typeof e)return!1;var n=b(e);return n.opacity=void 0!==t?t:1,n}(e,t);return!!n&&n.toString()}function z(e,t,n,r){let o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];"string"!=typeof e&&(e=String(e));const a=e=>$.measureTextWithTnums(e).width>r,i=(e,t)=>{let n=$.measureText(e).width;if(n<=t)return e;let r=1,o=e;do{o=e.substring(0,e.length-r)+"…",n=$.measureTextWithTnums(o).width}while(n>t&&++r<e.length);return o.length<1&&(o=e.substring(0,1)+"…"),o};$.font=t;let u=[];if(Object.defineProperty(u,"widest_line",{value:0,enumerable:!0,writable:!0}),Object.defineProperty(u,"has_truncated",{value:!1,enumerable:!0,writable:!0}),void 0===e||Number.isInteger(n)&&n<=0)return u;if(0===e.length)return u.push(""),u;if(r<=0)return e.length>0&&(u.push(e.slice(0,1)+"…"),u.widest_line=$.measureTextWithTnums(u[0]).width),u;if(!e||0===e.length||0===n||r<=0)return u;const s=e.split(/\s+/g);if(!a(e))return u.push(e),u.widest_line=$.measureTextWithTnums(e).width,u.has_truncated=!1,u;let l=new String(s[0]);if(l&&a(l))return o?l=i(l,r):s.length>1&&(l+="…"),u.push(l),u.widest_line=$.measureTextWithTnums(l).width,u.has_truncated=!0,u;let c="",f=!1;if(s.forEach((e=>{if(!f)if(a(c+(c?" ":"")+e)){if(c){$.measureTextWithTnums(c).width>r&&(c=i(c,r),f=!0),u.push(c),c=""}c=e}else c+=(c?" ":"")+e})),c&&!f&&u.push(i(c,r)),u.length>n){if(u.length>n&&Number.isInteger(n)){u.splice(n,u.length-n);let e=u[u.length-1];a(e+"…")&&(e=i(e,r-$.measureTextWithTnums("…").width)),"…"!==e.slice(-1)&&(e+="…"),u[u.length-1]=e,f=!0}}return u.widest_line=Math.max(...u.map((e=>$.measureTextWithTnums(e).width))),u.has_truncated=f,u}var G,X,W;function K(){document.body.querySelector(".font-samples").innerHTML=""}function Q(e){W||(W=e||["normal","bold"]);var t="";["mobile_big","tablet","desktop","big_screen"].forEach((function(e){var n="@media(min-width: "+gi["breakpoint_"+e]+"px) {\n",r="html { font-size:"+gi["font_size_"+e]+"%; }";t+=n+r+"\n}\n\n"}));var n="html { \n font-size:"+gi.font_size_mobile_small+"%; \n -webkit-font-smoothing: antialiased; \n -moz-osx-font-smoothing: auto; } \n\n\n";G.innerHTML=n+t;var r=[gi.body_font,gi.title_font,gi.subtitle_font,gi.footer_font];r.forEach((function(e){if(e){for(var t=!1,n=document.head.querySelectorAll("link.layout-font"),r=0;r<n.length;r++){n[r].href==e.url&&(t=!0)}if(!t){var o=document.createElement("link");o.setAttribute("rel","stylesheet"),o.setAttribute("href",e.url),o.className="layout-font",document.head.appendChild(o),function(e){document.body.querySelector(".font-samples")||((X=document.createElement("div")).className="font-samples",X.style.visibility="hidden",X.style.overflow="hidden",X.style.height=0,document.body.appendChild(X)),W.forEach((function(t){var n=document.createElement("div");n.className="font-sample-el",n.innerText=e.name,n.style.fontFamily=e.name,n.style.fontWeight=t,X.appendChild(n)}))}(e)}}}));for(var o=document.head.querySelectorAll("link.layout-font"),a=0;a<o.length;a++){var i=o[a],u=!1;r.forEach((function(e){e&&e.url==i.href&&(u=!0)})),u||i.parentElement.removeChild(i)}document.body.style.fontFamily=gi.body_font.name}$.measureTextWithTnums=function(e){if(!Y)return $.measureText(e);const t=window.getComputedStyle(this.canvas);if(!((t.fontFeatureSettings||"").includes("tnum")||(t.fontVariantNumeric||"").includes("tabular-nums")))return this.measureText(e);if(null===B&&function(){const e="0123456789.,£",t=document.createElement("canvas"),n=document.createElement("canvas"),r=t.getContext("2d"),o=n.getContext("2d");t.setAttribute("style","font-feature-settings: normal; font-variant-numeric: normal; position: fixed; left: 1000vw;"),n.setAttribute("style",'font-feature-settings: "tnum" 1; font-variant-numeric: tabular-nums; position: fixed; left: 1000vw;'),r.font=o.font=$.font,document.body.appendChild(t),document.body.appendChild(n);const a=r.measureText(e).width,i=o.measureText(e).width;B=a!==i,document.body.removeChild(t),document.body.removeChild(n)}(),B)return this.measureText(e);q.textContent=e,q.setAttribute("style",`font: ${$.font}; font-feature-settings: 'tnum' 1; font-variant-numeric: tabular-nums; position: fixed; left: 1000vw;`);let n=q.getBBox().width;return{...this.measureText(e),width:n}};var Z,J,ee,te,ne,re,oe,ae,ie,ue,se=Object.freeze({"stack-default":["header","controls","legend","primary","footer"],"stack-2":["primary","header","controls","legend","footer"],"stack-3":["header","primary","controls","legend","footer"],"stack-4":["controls","primary","header","legend","footer"],"stack-5":["header","controls","primary","legend","footer"],"stack-6":["header","legend","primary","controls","footer"],"grid-1":{wrapper:{display:"grid","grid-template-rows":"min-content min-content minmax(min-content,auto) min-content","grid-template-columns":"1fr 2fr"},header:{"grid-column-start":1},legend:{"grid-column-start":1},controls:{"grid-column-start":1},primary:{"grid-column-start":2,"grid-row":"1 / -1"},footer:{"grid-column-start":"1","grid-row-start":4}}});function le(e){return window.innerWidth!==Z&&(Z=window.innerWidth,J=parseFloat(getComputedStyle(document.documentElement).fontSize)),e*J}function ce(e){return"justify"==e?"":"left"==e?"start":"right"==e?"end":"center"==e?"center":void 0}function fe(e){return 0!==e.indexOf("http://")&&0!==e.indexOf("https://")?"http://"+e:e}function de(){return gi.header_logo_enabled&&gi.header_logo_src}function he(){var e="top"==gi.header_border||"top_and_bottom"==gi.header_border,t="bottom"==gi.header_border||"top_and_bottom"==gi.header_border;ee.style.textAlign=ce(gi.header_align),ee.style.margin=0,ee.style.borderTop=e?gi.header_border_width+"px "+gi.header_border_style+" "+gi.header_border_color:null,ee.style.borderBottom=t?gi.header_border_width+"px "+gi.header_border_style+" "+gi.header_border_color:null,ee.style.paddingTop=e?gi.header_border_space+"rem":"",ee.style.paddingBottom=t?gi.header_border_space+"rem":"",te.innerHTML=gi.title?gi.title:"",te.setAttribute("id","flourish-header-title"),te.style.fontFamily=gi.title_font?gi.title_font.name:"inherit",te.style.fontSize=("custom"!=gi.title_size?gi.title_size:gi.title_size_custom)+"rem",te.style.lineHeight=gi.title_line_height,te.style.fontWeight=gi.title_weight,te.style.color=gi.title_color||gi.font_color,te.style.margin=0,te.style.paddingTop=gi.title?("custom"==gi.title_space_above?gi.title_space_above_custom:gi.title_space_above)+"rem":0,ne.innerHTML=gi.subtitle?gi.subtitle:"",ne.setAttribute("id","flourish-header-subtitle"),ne.style.fontFamily=gi.subtitle_font?gi.subtitle_font.name:"inherit",ne.style.fontSize=("custom"!=gi.subtitle_size?gi.subtitle_size:gi.subtitle_size_custom)+"rem",ne.style.lineHeight=gi.subtitle_line_height,ne.style.fontWeight=gi.subtitle_weight,ne.style.color=gi.subtitle_color||gi.font_color,ne.style.margin=0,ne.style.paddingTop=gi.subtitle?("custom"==gi.subtitle_space_above?gi.subtitle_space_above_custom:gi.subtitle_space_above)+"rem":0,re.innerHTML=gi.header_text?gi.header_text:"",re.setAttribute("id","flourish-header-text"),re.style.fontSize=("custom"!=gi.header_text_size?gi.header_text_size:gi.header_text_size_custom)+"rem",re.style.lineHeight=gi.header_text_line_height,re.style.fontWeight=gi.header_text_weight,re.style.margin=0,re.style.color=gi.header_text_color||gi.font_color,re.style.paddingTop=gi.header_text?("custom"==gi.header_text_space_above?gi.header_text_space_above_custom:gi.header_text_space_above)+"rem":0,oe.style.clear="both",ae.innerHTML="",de()&&((ie=ie||document.createElement("img")).className="flourish-header-logo",ie.src=fe(gi.header_logo_src),ie.alt=gi.header_logo_alt,ie.style.position="inside"==gi.header_logo_align?"":"fixed",ie.style.height=gi.header_logo_height+"rem",ie.style.top="outside"==gi.header_logo_align?0:"",ie.style.left="outside"==gi.header_logo_align&&"left"==gi.header_logo_position_outside?0:"",ie.style.right="outside"==gi.header_logo_align&&"right"==gi.header_logo_position_outside?0:"",ie.style.marginTop=gi.header_logo_margin_top+"rem",ie.style.marginBottom=gi.header_logo_margin_bottom+"rem",ie.style.marginLeft=gi.header_logo_margin_left+"rem",ie.style.marginRight=gi.header_logo_margin_right+"rem",ie.style.float="top"==gi.header_logo_position_inside||"outside"==gi.header_logo_align?"":gi.header_logo_position_inside,ie.style.width="auto",gi.header_logo_link_url?((ue=document.createElement("a")).target="_blank",ue.appendChild(ie),ae.appendChild(ue),ie.style.cursor="pointer",ue.href=fe(gi.header_logo_link_url)):ae.appendChild(ie))}
/** @preserve
  /////    SAPC APCA - Advanced Perceptual Contrast Algorithm
  /////           Beta 0.1.9 W3 • contrast function only
  /////           DIST: W3 • Revision date: July 3, 2022
  /////    Function to parse color values and determine Lc contrast
  /////    Copyright © 2019-2022 by Andrew Somers. All Rights Reserved.
  /////    LICENSE: W3 LICENSE
  /////    CONTACT: Please use the ISSUES or DISCUSSIONS tab at:
  /////    https://github.com/Myndex/SAPC-APCA/
  /////
  ///////////////////////////////////////////////////////////////////////////////
  /////
  /////    MINIMAL IMPORTS:
  /////      import { APCAcontrast, sRGBtoY, displayP3toY,
  /////               calcAPCA, fontLookupAPCA } from 'apca-w3';
  /////      import { colorParsley } from 'colorparsley';
  /////
  /////    FORWARD CONTRAST USAGE:
  /////      Lc = APCAcontrast( sRGBtoY( TEXTcolor ) , sRGBtoY( BACKGNDcolor ) );
  /////    Where the colors are sent as an rgba array [255,255,255,1]
  /////
  /////    Retrieving an array of font sizes for the contrast:
  /////      fontArray = fontLookupAPCA(Lc);
  /////
  /////    Live Demonstrator at https://www.myndex.com/APCA/
  // */
const pe={mainTRC:2.4,get mainTRCencode(){return 1/this.mainTRC},sRco:.2126729,sGco:.7151522,sBco:.072175,normBG:.56,normTXT:.57,revTXT:.62,revBG:.65,blkThrs:.022,blkClmp:1.414,scaleBoW:1.14,scaleWoB:1.14,loBoWoffset:.027,loWoBoffset:.027,deltaYmin:5e-4,loClip:.1,mFactor:1.9468554433171,get mFactInv(){return 1/this.mFactor},mOffsetIn:.0387393816571401,mExpAdj:.283343396420869,get mExp(){return this.mExpAdj/this.blkClmp},mOffsetOut:.312865795870758};function me(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[0,0,0];function t(e){return Math.pow(e/255,pe.mainTRC)}return pe.sRco*t(e[0])+pe.sGco*t(e[1])+pe.sBco*t(e[2])}function ge(e,t){if("string"!=typeof e)return!1;var n=b(e);return n.opacity=1,n}function ve(e,t){if(!e||!t)return void console.warn("No valid color",e,t);const n=me(Object.values(ge(e))),r=me(Object.values(ge(t)));return Math.abs(function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;const r=[0,1.1];if(isNaN(e)||isNaN(t)||Math.min(e,t)<r[0]||Math.max(e,t)>r[1])return 0;let o=0,a=0,i="BoW";return e=e>pe.blkThrs?e:e+Math.pow(pe.blkThrs-e,pe.blkClmp),t=t>pe.blkThrs?t:t+Math.pow(pe.blkThrs-t,pe.blkClmp),Math.abs(t-e)<pe.deltaYmin?0:(t>e?(o=(Math.pow(t,pe.normBG)-Math.pow(e,pe.normTXT))*pe.scaleBoW,a=o<pe.loClip?0:o-pe.loBoWoffset):(i="WoB",o=(Math.pow(t,pe.revBG)-Math.pow(e,pe.revTXT))*pe.scaleWoB,a=o>-pe.loClip?0:o+pe.loWoBoffset),n<0?100*a:0==n?Math.round(100*Math.abs(a))+"<sub>"+i+"</sub>":Number.isInteger(n)?(100*a).toFixed(n):0)}(n,r))}const ye=new Date,be=new Date;function _e(e,t,n,r){function o(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return o.floor=t=>(e(t=new Date(+t)),t),o.ceil=n=>(e(n=new Date(n-1)),t(n,1),e(n),n),o.round=e=>{const t=o(e),n=o.ceil(e);return e-t<n-e?t:n},o.offset=(e,n)=>(t(e=new Date(+e),null==n?1:Math.floor(n)),e),o.range=(n,r,a)=>{const i=[];if(n=o.ceil(n),a=null==a?1:Math.floor(a),!(n<r&&a>0))return i;let u;do{i.push(u=new Date(+n)),t(n,a),e(n)}while(u<n&&n<r);return i},o.filter=n=>_e((t=>{if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)}),((e,r)=>{if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););})),n&&(o.count=(t,r)=>(ye.setTime(+t),be.setTime(+r),e(ye),e(be),Math.floor(n(ye,be))),o.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?o.filter(r?t=>r(t)%e==0:t=>o.count(0,t)%e==0):o:null)),o}const we=6e4,Ee=864e5,Ne=6048e5,Me=_e((e=>e.setHours(0,0,0,0)),((e,t)=>e.setDate(e.getDate()+t)),((e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*we)/Ee),(e=>e.getDate()-1));Me.range;const xe=_e((e=>{e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCDate(e.getUTCDate()+t)}),((e,t)=>(t-e)/Ee),(e=>e.getUTCDate()-1));xe.range;const Ie=_e((e=>{e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCDate(e.getUTCDate()+t)}),((e,t)=>(t-e)/Ee),(e=>Math.floor(e/Ee)));function Ae(e){return _e((t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)}),((e,t)=>{e.setDate(e.getDate()+7*t)}),((e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*we)/Ne))}Ie.range;const Ce=Ae(0),Se=Ae(1),Te=Ae(2),De=Ae(3),Oe=Ae(4),Re=Ae(5),ke=Ae(6);function Le(e){return _e((t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCDate(e.getUTCDate()+7*t)}),((e,t)=>(t-e)/Ne))}Ce.range,Se.range,Te.range,De.range,Oe.range,Re.range,ke.range;const Fe=Le(0),Pe=Le(1),Ue=Le(2),Ye=Le(3),Ve=Le(4),$e=Le(5),He=Le(6);Fe.range,Pe.range,Ue.range,Ye.range,Ve.range,$e.range,He.range;const qe=_e((e=>{e.setMonth(0,1),e.setHours(0,0,0,0)}),((e,t)=>{e.setFullYear(e.getFullYear()+t)}),((e,t)=>t.getFullYear()-e.getFullYear()),(e=>e.getFullYear()));qe.every=e=>isFinite(e=Math.floor(e))&&e>0?_e((t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)}),((t,n)=>{t.setFullYear(t.getFullYear()+n*e)})):null,qe.range;const Be=_e((e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)}),((e,t)=>t.getUTCFullYear()-e.getUTCFullYear()),(e=>e.getUTCFullYear()));Be.every=e=>isFinite(e=Math.floor(e))&&e>0?_e((t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),((t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)})):null,Be.range;class je extends Map{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ge;if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const[t,n]of e)this.set(t,n)}get(e){return super.get(ze(this,e))}has(e){return super.has(ze(this,e))}set(e,t){return super.set(function(e,t){let{_intern:n,_key:r}=e;const o=r(t);return n.has(o)?n.get(o):(n.set(o,t),t)}(this,e),t)}delete(e){return super.delete(function(e,t){let{_intern:n,_key:r}=e;const o=r(t);n.has(o)&&(t=n.get(o),n.delete(o));return t}(this,e))}}function ze(e,t){let{_intern:n,_key:r}=e;const o=r(t);return n.has(o)?n.get(o):t}function Ge(e){return null!==e&&"object"==typeof e?e.valueOf():e}function Xe(e){return e}function We(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return function(e,t,n,r){return function e(o,a){if(a>=r.length)return n(o);const i=new je,u=r[a++];let s=-1;for(const e of o){const t=u(e,++s,o),n=i.get(t);n?n.push(e):i.set(t,[e])}for(const[t,n]of i)i.set(t,e(n,a));return t(i)}(e,0)}(e,Xe,Xe,n)}function Ke(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Qe(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Ze(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}var Je,et,tt={"-":"",_:" ",0:"0"},nt=/^\s*\d+/,rt=/^%/,ot=/[\\^$*+?|[\]().{}]/g;function at(e,t,n){var r=e<0?"-":"",o=(r?-e:e)+"",a=o.length;return r+(a<n?new Array(n-a+1).join(t)+o:o)}function it(e){return e.replace(ot,"\\$&")}function ut(e){return new RegExp("^(?:"+e.map(it).join("|")+")","i")}function st(e){return new Map(e.map(((e,t)=>[e.toLowerCase(),t])))}function lt(e,t,n){var r=nt.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function ct(e,t,n){var r=nt.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function ft(e,t,n){var r=nt.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function dt(e,t,n){var r=nt.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function ht(e,t,n){var r=nt.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function pt(e,t,n){var r=nt.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function mt(e,t,n){var r=nt.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function gt(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function vt(e,t,n){var r=nt.exec(t.slice(n,n+1));return r?(e.q=3*r[0]-3,n+r[0].length):-1}function yt(e,t,n){var r=nt.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function bt(e,t,n){var r=nt.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function _t(e,t,n){var r=nt.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function wt(e,t,n){var r=nt.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function Et(e,t,n){var r=nt.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function Nt(e,t,n){var r=nt.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function Mt(e,t,n){var r=nt.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function xt(e,t,n){var r=nt.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function It(e,t,n){var r=rt.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function At(e,t,n){var r=nt.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function Ct(e,t,n){var r=nt.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function St(e,t){return at(e.getDate(),t,2)}function Tt(e,t){return at(e.getHours(),t,2)}function Dt(e,t){return at(e.getHours()%12||12,t,2)}function Ot(e,t){return at(1+Me.count(qe(e),e),t,3)}function Rt(e,t){return at(e.getMilliseconds(),t,3)}function kt(e,t){return Rt(e,t)+"000"}function Lt(e,t){return at(e.getMonth()+1,t,2)}function Ft(e,t){return at(e.getMinutes(),t,2)}function Pt(e,t){return at(e.getSeconds(),t,2)}function Ut(e){var t=e.getDay();return 0===t?7:t}function Yt(e,t){return at(Ce.count(qe(e)-1,e),t,2)}function Vt(e){var t=e.getDay();return t>=4||0===t?Oe(e):Oe.ceil(e)}function $t(e,t){return e=Vt(e),at(Oe.count(qe(e),e)+(4===qe(e).getDay()),t,2)}function Ht(e){return e.getDay()}function qt(e,t){return at(Se.count(qe(e)-1,e),t,2)}function Bt(e,t){return at(e.getFullYear()%100,t,2)}function jt(e,t){return at((e=Vt(e)).getFullYear()%100,t,2)}function zt(e,t){return at(e.getFullYear()%1e4,t,4)}function Gt(e,t){var n=e.getDay();return at((e=n>=4||0===n?Oe(e):Oe.ceil(e)).getFullYear()%1e4,t,4)}function Xt(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+at(t/60|0,"0",2)+at(t%60,"0",2)}function Wt(e,t){return at(e.getUTCDate(),t,2)}function Kt(e,t){return at(e.getUTCHours(),t,2)}function Qt(e,t){return at(e.getUTCHours()%12||12,t,2)}function Zt(e,t){return at(1+xe.count(Be(e),e),t,3)}function Jt(e,t){return at(e.getUTCMilliseconds(),t,3)}function en(e,t){return Jt(e,t)+"000"}function tn(e,t){return at(e.getUTCMonth()+1,t,2)}function nn(e,t){return at(e.getUTCMinutes(),t,2)}function rn(e,t){return at(e.getUTCSeconds(),t,2)}function on(e){var t=e.getUTCDay();return 0===t?7:t}function an(e,t){return at(Fe.count(Be(e)-1,e),t,2)}function un(e){var t=e.getUTCDay();return t>=4||0===t?Ve(e):Ve.ceil(e)}function sn(e,t){return e=un(e),at(Ve.count(Be(e),e)+(4===Be(e).getUTCDay()),t,2)}function ln(e){return e.getUTCDay()}function cn(e,t){return at(Pe.count(Be(e)-1,e),t,2)}function fn(e,t){return at(e.getUTCFullYear()%100,t,2)}function dn(e,t){return at((e=un(e)).getUTCFullYear()%100,t,2)}function hn(e,t){return at(e.getUTCFullYear()%1e4,t,4)}function pn(e,t){var n=e.getUTCDay();return at((e=n>=4||0===n?Ve(e):Ve.ceil(e)).getUTCFullYear()%1e4,t,4)}function mn(){return"+0000"}function gn(){return"%"}function vn(e){return+e}function yn(e){return Math.floor(+e/1e3)}Je=function(e){var t=e.dateTime,n=e.date,r=e.time,o=e.periods,a=e.days,i=e.shortDays,u=e.months,s=e.shortMonths,l=ut(o),c=st(o),f=ut(a),d=st(a),h=ut(i),p=st(i),m=ut(u),g=st(u),v=ut(s),y=st(s),b={a:function(e){return i[e.getDay()]},A:function(e){return a[e.getDay()]},b:function(e){return s[e.getMonth()]},B:function(e){return u[e.getMonth()]},c:null,d:St,e:St,f:kt,g:jt,G:Gt,H:Tt,I:Dt,j:Ot,L:Rt,m:Lt,M:Ft,p:function(e){return o[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:vn,s:yn,S:Pt,u:Ut,U:Yt,V:$t,w:Ht,W:qt,x:null,X:null,y:Bt,Y:zt,Z:Xt,"%":gn},_={a:function(e){return i[e.getUTCDay()]},A:function(e){return a[e.getUTCDay()]},b:function(e){return s[e.getUTCMonth()]},B:function(e){return u[e.getUTCMonth()]},c:null,d:Wt,e:Wt,f:en,g:dn,G:pn,H:Kt,I:Qt,j:Zt,L:Jt,m:tn,M:nn,p:function(e){return o[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:vn,s:yn,S:rn,u:on,U:an,V:sn,w:ln,W:cn,x:null,X:null,y:fn,Y:hn,Z:mn,"%":gn},w={a:function(e,t,n){var r=h.exec(t.slice(n));return r?(e.w=p.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(e,t,n){var r=f.exec(t.slice(n));return r?(e.w=d.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(e,t,n){var r=v.exec(t.slice(n));return r?(e.m=y.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(e,t,n){var r=m.exec(t.slice(n));return r?(e.m=g.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(e,n,r){return M(e,t,n,r)},d:bt,e:bt,f:xt,g:mt,G:pt,H:wt,I:wt,j:_t,L:Mt,m:yt,M:Et,p:function(e,t,n){var r=l.exec(t.slice(n));return r?(e.p=c.get(r[0].toLowerCase()),n+r[0].length):-1},q:vt,Q:At,s:Ct,S:Nt,u:ct,U:ft,V:dt,w:lt,W:ht,x:function(e,t,r){return M(e,n,t,r)},X:function(e,t,n){return M(e,r,t,n)},y:mt,Y:pt,Z:gt,"%":It};function E(e,t){return function(n){var r,o,a,i=[],u=-1,s=0,l=e.length;for(n instanceof Date||(n=new Date(+n));++u<l;)37===e.charCodeAt(u)&&(i.push(e.slice(s,u)),null!=(o=tt[r=e.charAt(++u)])?r=e.charAt(++u):o="e"===r?" ":"0",(a=t[r])&&(r=a(n,o)),i.push(r),s=u+1);return i.push(e.slice(s,u)),i.join("")}}function N(e,t){return function(n){var r,o,a=Ze(1900,void 0,1);if(M(a,e,n+="",0)!=n.length)return null;if("Q"in a)return new Date(a.Q);if("s"in a)return new Date(1e3*a.s+("L"in a?a.L:0));if(t&&!("Z"in a)&&(a.Z=0),"p"in a&&(a.H=a.H%12+12*a.p),void 0===a.m&&(a.m="q"in a?a.q:0),"V"in a){if(a.V<1||a.V>53)return null;"w"in a||(a.w=1),"Z"in a?(o=(r=Qe(Ze(a.y,0,1))).getUTCDay(),r=o>4||0===o?Pe.ceil(r):Pe(r),r=xe.offset(r,7*(a.V-1)),a.y=r.getUTCFullYear(),a.m=r.getUTCMonth(),a.d=r.getUTCDate()+(a.w+6)%7):(o=(r=Ke(Ze(a.y,0,1))).getDay(),r=o>4||0===o?Se.ceil(r):Se(r),r=Me.offset(r,7*(a.V-1)),a.y=r.getFullYear(),a.m=r.getMonth(),a.d=r.getDate()+(a.w+6)%7)}else("W"in a||"U"in a)&&("w"in a||(a.w="u"in a?a.u%7:"W"in a?1:0),o="Z"in a?Qe(Ze(a.y,0,1)).getUTCDay():Ke(Ze(a.y,0,1)).getDay(),a.m=0,a.d="W"in a?(a.w+6)%7+7*a.W-(o+5)%7:a.w+7*a.U-(o+6)%7);return"Z"in a?(a.H+=a.Z/100|0,a.M+=a.Z%100,Qe(a)):Ke(a)}}function M(e,t,n,r){for(var o,a,i=0,u=t.length,s=n.length;i<u;){if(r>=s)return-1;if(37===(o=t.charCodeAt(i++))){if(o=t.charAt(i++),!(a=w[o in tt?t.charAt(i++):o])||(r=a(e,n,r))<0)return-1}else if(o!=n.charCodeAt(r++))return-1}return r}return b.x=E(n,b),b.X=E(r,b),b.c=E(t,b),_.x=E(n,_),_.X=E(r,_),_.c=E(t,_),{format:function(e){var t=E(e+="",b);return t.toString=function(){return e},t},parse:function(e){var t=N(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=E(e+="",_);return t.toString=function(){return e},t},utcParse:function(e){var t=N(e+="",!0);return t.toString=function(){return e},t}}}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),et=Je.format,Je.parse,Je.utcFormat,Je.utcParse;var bn=Uint8Array,_n=Uint16Array,wn=Int32Array,En=new bn([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Nn=new bn([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Mn=new bn([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),xn=function(e,t){for(var n=new _n(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];var o=new wn(n[30]);for(r=1;r<30;++r)for(var a=n[r];a<n[r+1];++a)o[a]=a-n[r]<<5|r;return{b:n,r:o}},In=xn(En,2),An=In.b,Cn=In.r;An[28]=258,Cn[258]=28;for(var Sn=xn(Nn,0).r,Tn=new _n(32768),Dn=0;Dn<32768;++Dn){var On=(43690&Dn)>>1|(21845&Dn)<<1;On=(61680&(On=(52428&On)>>2|(13107&On)<<2))>>4|(3855&On)<<4,Tn[Dn]=((65280&On)>>8|(255&On)<<8)>>1}var Rn=function(e,t,n){for(var r=e.length,o=0,a=new _n(t);o<r;++o)e[o]&&++a[e[o]-1];var i,u=new _n(t);for(o=1;o<t;++o)u[o]=u[o-1]+a[o-1]<<1;if(n){i=new _n(1<<t);var s=15-t;for(o=0;o<r;++o)if(e[o])for(var l=o<<4|e[o],c=t-e[o],f=u[e[o]-1]++<<c,d=f|(1<<c)-1;f<=d;++f)i[Tn[f]>>s]=l}else for(i=new _n(r),o=0;o<r;++o)e[o]&&(i[o]=Tn[u[e[o]-1]++]>>15-e[o]);return i},kn=new bn(288);for(Dn=0;Dn<144;++Dn)kn[Dn]=8;for(Dn=144;Dn<256;++Dn)kn[Dn]=9;for(Dn=256;Dn<280;++Dn)kn[Dn]=7;for(Dn=280;Dn<288;++Dn)kn[Dn]=8;var Ln=new bn(32);for(Dn=0;Dn<32;++Dn)Ln[Dn]=5;var Fn=Rn(kn,9,0),Pn=Rn(Ln,5,0),Un=function(e){return(e+7)/8|0},Yn=function(e,t,n){return(null==n||n>e.length)&&(n=e.length),new bn(e.subarray(t,n))},Vn=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],$n=function(e,t,n){var r=new Error(t||Vn[e]);if(r.code=e,Error.captureStackTrace&&Error.captureStackTrace(r,$n),!n)throw r;return r},Hn=function(e,t,n){n<<=7&t;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8},qn=function(e,t,n){n<<=7&t;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8,e[r+2]|=n>>16},Bn=function(e,t){for(var n=[],r=0;r<e.length;++r)e[r]&&n.push({s:r,f:e[r]});var o=n.length,a=n.slice();if(!o)return{t:Qn,l:0};if(1==o){var i=new bn(n[0].s+1);return i[n[0].s]=1,{t:i,l:1}}n.sort((function(e,t){return e.f-t.f})),n.push({s:-1,f:25001});var u=n[0],s=n[1],l=0,c=1,f=2;for(n[0]={s:-1,f:u.f+s.f,l:u,r:s};c!=o-1;)u=n[n[l].f<n[f].f?l++:f++],s=n[l!=c&&n[l].f<n[f].f?l++:f++],n[c++]={s:-1,f:u.f+s.f,l:u,r:s};var d=a[0].s;for(r=1;r<o;++r)a[r].s>d&&(d=a[r].s);var h=new _n(d+1),p=jn(n[c-1],h,0);if(p>t){r=0;var m=0,g=p-t,v=1<<g;for(a.sort((function(e,t){return h[t.s]-h[e.s]||e.f-t.f}));r<o;++r){var y=a[r].s;if(!(h[y]>t))break;m+=v-(1<<p-h[y]),h[y]=t}for(m>>=g;m>0;){var b=a[r].s;h[b]<t?m-=1<<t-h[b]++-1:++r}for(;r>=0&&m;--r){var _=a[r].s;h[_]==t&&(--h[_],++m)}p=t}return{t:new bn(h),l:p}},jn=function(e,t,n){return-1==e.s?Math.max(jn(e.l,t,n+1),jn(e.r,t,n+1)):t[e.s]=n},zn=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new _n(++t),r=0,o=e[0],a=1,i=function(e){n[r++]=e},u=1;u<=t;++u)if(e[u]==o&&u!=t)++a;else{if(!o&&a>2){for(;a>138;a-=138)i(32754);a>2&&(i(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(i(o),--a;a>6;a-=6)i(8304);a>2&&(i(a-3<<5|8208),a=0)}for(;a--;)i(o);a=1,o=e[u]}return{c:n.subarray(0,r),n:t}},Gn=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},Xn=function(e,t,n){var r=n.length,o=Un(t+2);e[o]=255&r,e[o+1]=r>>8,e[o+2]=255^e[o],e[o+3]=255^e[o+1];for(var a=0;a<r;++a)e[o+a+4]=n[a];return 8*(o+4+r)},Wn=function(e,t,n,r,o,a,i,u,s,l,c){Hn(t,c++,n),++o[256];for(var f=Bn(o,15),d=f.t,h=f.l,p=Bn(a,15),m=p.t,g=p.l,v=zn(d),y=v.c,b=v.n,_=zn(m),w=_.c,E=_.n,N=new _n(19),M=0;M<y.length;++M)++N[31&y[M]];for(M=0;M<w.length;++M)++N[31&w[M]];for(var x=Bn(N,7),I=x.t,A=x.l,C=19;C>4&&!I[Mn[C-1]];--C);var S,T,D,O,R=l+5<<3,k=Gn(o,kn)+Gn(a,Ln)+i,L=Gn(o,d)+Gn(a,m)+i+14+3*C+Gn(N,I)+2*N[16]+3*N[17]+7*N[18];if(s>=0&&R<=k&&R<=L)return Xn(t,c,e.subarray(s,s+l));if(Hn(t,c,1+(L<k)),c+=2,L<k){S=Rn(d,h,0),T=d,D=Rn(m,g,0),O=m;var F=Rn(I,A,0);Hn(t,c,b-257),Hn(t,c+5,E-1),Hn(t,c+10,C-4),c+=14;for(M=0;M<C;++M)Hn(t,c+3*M,I[Mn[M]]);c+=3*C;for(var P=[y,w],U=0;U<2;++U){var Y=P[U];for(M=0;M<Y.length;++M){var V=31&Y[M];Hn(t,c,F[V]),c+=I[V],V>15&&(Hn(t,c,Y[M]>>5&127),c+=Y[M]>>12)}}}else S=Fn,T=kn,D=Pn,O=Ln;for(M=0;M<u;++M){var $=r[M];if($>255){qn(t,c,S[(V=$>>18&31)+257]),c+=T[V+257],V>7&&(Hn(t,c,$>>23&31),c+=En[V]);var H=31&$;qn(t,c,D[H]),c+=O[H],H>3&&(qn(t,c,$>>5&8191),c+=Nn[H])}else qn(t,c,S[$]),c+=T[$]}return qn(t,c,S[256]),c+T[256]},Kn=new wn([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Qn=new bn(0),Zn=function(){for(var e=new Int32Array(256),t=0;t<256;++t){for(var n=t,r=9;--r;)n=(1&n&&-306674912)^n>>>1;e[t]=n}return e}(),Jn=function(){var e=-1;return{p:function(t){for(var n=e,r=0;r<t.length;++r)n=Zn[255&n^t[r]]^n>>>8;e=n},d:function(){return~e}}},er=function(e,t,n,r,o){if(!o&&(o={l:1},t.dictionary)){var a=t.dictionary.subarray(-32768),i=new bn(a.length+e.length);i.set(a),i.set(e,a.length),e=i,o.w=a.length}return function(e,t,n,r,o,a){var i=a.z||e.length,u=new bn(r+i+5*(1+Math.ceil(i/7e3))+o),s=u.subarray(r,u.length-o),l=a.l,c=7&(a.r||0);if(t){c&&(s[0]=a.r>>3);for(var f=Kn[t-1],d=f>>13,h=8191&f,p=(1<<n)-1,m=a.p||new _n(32768),g=a.h||new _n(p+1),v=Math.ceil(n/3),y=2*v,b=function(t){return(e[t]^e[t+1]<<v^e[t+2]<<y)&p},_=new wn(25e3),w=new _n(288),E=new _n(32),N=0,M=0,x=a.i||0,I=0,A=a.w||0,C=0;x+2<i;++x){var S=b(x),T=32767&x,D=g[S];if(m[T]=D,g[S]=T,A<=x){var O=i-x;if((N>7e3||I>24576)&&(O>423||!l)){c=Wn(e,s,0,_,w,E,M,I,C,x-C,c),I=N=M=0,C=x;for(var R=0;R<286;++R)w[R]=0;for(R=0;R<30;++R)E[R]=0}var k=2,L=0,F=h,P=T-D&32767;if(O>2&&S==b(x-P))for(var U=Math.min(d,O)-1,Y=Math.min(32767,x),V=Math.min(258,O);P<=Y&&--F&&T!=D;){if(e[x+k]==e[x+k-P]){for(var $=0;$<V&&e[x+$]==e[x+$-P];++$);if($>k){if(k=$,L=P,$>U)break;var H=Math.min(P,$-2),q=0;for(R=0;R<H;++R){var B=x-P+R&32767,j=B-m[B]&32767;j>q&&(q=j,D=B)}}}P+=(T=D)-(D=m[T])&32767}if(L){_[I++]=268435456|Cn[k]<<18|Sn[L];var z=31&Cn[k],G=31&Sn[L];M+=En[z]+Nn[G],++w[257+z],++E[G],A=x+k,++N}else _[I++]=e[x],++w[e[x]]}}for(x=Math.max(x,A);x<i;++x)_[I++]=e[x],++w[e[x]];c=Wn(e,s,l,_,w,E,M,I,C,x-C,c),l||(a.r=7&c|s[c/8|0]<<3,c-=7,a.h=g,a.p=m,a.i=x,a.w=A)}else{for(x=a.w||0;x<i+l;x+=65535){var X=x+65535;X>=i&&(s[c/8|0]=l,X=i),c=Xn(s,c+1,e.subarray(x,X))}a.i=i}return Yn(u,0,r+Un(c)+o)}(e,null==t.level?6:t.level,null==t.mem?o.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(e.length)))):20:12+t.mem,n,r,o)},tr=function(e,t){var n={};for(var r in e)n[r]=e[r];for(var r in t)n[r]=t[r];return n},nr=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8};function rr(e,t){return er(e,t||{},0,0)}var or=function(e,t,n,r){for(var o in e){var a=e[o],i=t+o,u=r;Array.isArray(a)&&(u=tr(r,a[1]),a=a[0]),a instanceof bn?n[i]=[a,u]:(n[i+="/"]=[new bn(0),u],or(a,i,n,r))}},ar="undefined"!=typeof TextEncoder&&new TextEncoder,ir="undefined"!=typeof TextDecoder&&new TextDecoder;try{ir.decode(Qn,{stream:!0})}catch(e){}function ur(e,t){if(ar)return ar.encode(e);for(var n=e.length,r=new bn(e.length+(e.length>>1)),o=0,a=function(e){r[o++]=e},i=0;i<n;++i){if(o+5>r.length){var u=new bn(o+8+(n-i<<1));u.set(r),r=u}var s=e.charCodeAt(i);s<128||t?a(s):s<2048?(a(192|s>>6),a(128|63&s)):s>55295&&s<57344?(a(240|(s=65536+(1047552&s)|1023&e.charCodeAt(++i))>>18),a(128|s>>12&63),a(128|s>>6&63),a(128|63&s)):(a(224|s>>12),a(128|s>>6&63),a(128|63&s))}return Yn(r,0,o)}var sr=function(e){var t=0;if(e)for(var n in e){var r=e[n].length;r>65535&&$n(9),t+=r+4}return t},lr=function(e,t,n,r,o,a,i,u){var s=r.length,l=n.extra,c=u&&u.length,f=sr(l);nr(e,t,null!=i?33639248:67324752),t+=4,null!=i&&(e[t++]=20,e[t++]=n.os),e[t]=20,t+=2,e[t++]=n.flag<<1|(a<0&&8),e[t++]=o&&8,e[t++]=255&n.compression,e[t++]=n.compression>>8;var d=new Date(null==n.mtime?Date.now():n.mtime),h=d.getFullYear()-1980;if((h<0||h>119)&&$n(10),nr(e,t,h<<25|d.getMonth()+1<<21|d.getDate()<<16|d.getHours()<<11|d.getMinutes()<<5|d.getSeconds()>>1),t+=4,-1!=a&&(nr(e,t,n.crc),nr(e,t+4,a<0?-a-2:a),nr(e,t+8,n.size)),nr(e,t+12,s),nr(e,t+14,f),t+=16,null!=i&&(nr(e,t,c),nr(e,t+6,n.attrs),nr(e,t+10,i),t+=14),e.set(r,t),t+=s,f)for(var p in l){var m=l[p],g=m.length;nr(e,t,+p),nr(e,t+2,g),e.set(m,t+4),t+=4+g}return c&&(e.set(u,t),t+=c),t};function cr(e,t){t||(t={});var n={},r=[];or(e,"",n,t);var o=0,a=0;for(var i in n){var u=n[i],s=u[0],l=u[1],c=0==l.level?0:8,f=(N=ur(i)).length,d=l.comment,h=d&&ur(d),p=h&&h.length,m=sr(l.extra);f>65535&&$n(11);var g=c?rr(s,l):s,v=g.length,y=Jn();y.p(s),r.push(tr(l,{size:s.length,crc:y.d(),c:g,f:N,m:h,u:f!=i.length||h&&d.length!=p,o:o,compression:c})),o+=30+f+m+v,a+=76+2*(f+m)+(p||0)+v}for(var b=new bn(a+22),_=o,w=a-o,E=0;E<r.length;++E){var N=r[E];lr(b,N.o,N,N.f,N.u,N.c.length);var M=30+N.f.length+sr(N.extra);b.set(N.c,N.o+M),lr(b,o,N,N.f,N.u,N.c.length,N.o,N.m),o+=16+M+(N.m?N.m.length:0)}return function(e,t,n,r,o){nr(e,t,101010256),nr(e,t+8,n),nr(e,t+10,n),nr(e,t+12,r),nr(e,t+16,o)}(b,o,r.length,w,_),b}var fr=new Date,dr=new Date;function hr(e,t,n,r){function o(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return o.floor=function(t){return e(t=new Date(+t)),t},o.ceil=function(n){return e(n=new Date(n-1)),t(n,1),e(n),n},o.round=function(e){var t=o(e),n=o.ceil(e);return e-t<n-e?t:n},o.offset=function(e,n){return t(e=new Date(+e),null==n?1:Math.floor(n)),e},o.range=function(n,r,a){var i,u=[];if(n=o.ceil(n),a=null==a?1:Math.floor(a),!(n<r&&a>0))return u;do{u.push(i=new Date(+n)),t(n,a),e(n)}while(i<n&&n<r);return u},o.filter=function(n){return hr((function(t){if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)}),(function(e,r){if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););}))},n&&(o.count=function(t,r){return fr.setTime(+t),dr.setTime(+r),e(fr),e(dr),Math.floor(n(fr,dr))},o.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?o.filter(r?function(t){return r(t)%e==0}:function(t){return o.count(0,t)%e==0}):o:null}),o}var pr=864e5,mr=6048e5,gr=hr((function(e){e.setHours(0,0,0,0)}),(function(e,t){e.setDate(e.getDate()+t)}),(function(e,t){return(t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/pr}),(function(e){return e.getDate()-1}));function vr(e){return hr((function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)}),(function(e,t){e.setDate(e.getDate()+7*t)}),(function(e,t){return(t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/mr}))}gr.range;var yr=vr(0),br=vr(1),_r=vr(2),wr=vr(3),Er=vr(4),Nr=vr(5),Mr=vr(6);yr.range,br.range,_r.range,wr.range,Er.range,Nr.range,Mr.range;var xr=hr((function(e){e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,t){e.setFullYear(e.getFullYear()+t)}),(function(e,t){return t.getFullYear()-e.getFullYear()}),(function(e){return e.getFullYear()}));xr.every=function(e){return isFinite(e=Math.floor(e))&&e>0?hr((function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,n){t.setFullYear(t.getFullYear()+n*e)})):null},xr.range;var Ir=hr((function(e){e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+t)}),(function(e,t){return(t-e)/pr}),(function(e){return e.getUTCDate()-1}));function Ar(e){return hr((function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+7*t)}),(function(e,t){return(t-e)/mr}))}Ir.range;var Cr=Ar(0),Sr=Ar(1),Tr=Ar(2),Dr=Ar(3),Or=Ar(4),Rr=Ar(5),kr=Ar(6);Cr.range,Sr.range,Tr.range,Dr.range,Or.range,Rr.range,kr.range;var Lr=hr((function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)}),(function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()}),(function(e){return e.getUTCFullYear()}));function Fr(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Pr(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Ur(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}Lr.every=function(e){return isFinite(e=Math.floor(e))&&e>0?hr((function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n*e)})):null},Lr.range;var Yr,Vr,$r,Hr={"-":"",_:" ",0:"0"},qr=/^\s*\d+/,Br=/^%/,jr=/[\\^$*+?|[\]().{}]/g;function zr(e,t,n){var r=e<0?"-":"",o=(r?-e:e)+"",a=o.length;return r+(a<n?new Array(n-a+1).join(t)+o:o)}function Gr(e){return e.replace(jr,"\\$&")}function Xr(e){return new RegExp("^(?:"+e.map(Gr).join("|")+")","i")}function Wr(e){for(var t={},n=-1,r=e.length;++n<r;)t[e[n].toLowerCase()]=n;return t}function Kr(e,t,n){var r=qr.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function Qr(e,t,n){var r=qr.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function Zr(e,t,n){var r=qr.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function Jr(e,t,n){var r=qr.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function eo(e,t,n){var r=qr.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function to(e,t,n){var r=qr.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function no(e,t,n){var r=qr.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function ro(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function oo(e,t,n){var r=qr.exec(t.slice(n,n+1));return r?(e.q=3*r[0]-3,n+r[0].length):-1}function ao(e,t,n){var r=qr.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function io(e,t,n){var r=qr.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function uo(e,t,n){var r=qr.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function so(e,t,n){var r=qr.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function lo(e,t,n){var r=qr.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function co(e,t,n){var r=qr.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function fo(e,t,n){var r=qr.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function ho(e,t,n){var r=qr.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function po(e,t,n){var r=Br.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function mo(e,t,n){var r=qr.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function go(e,t,n){var r=qr.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function vo(e,t){return zr(e.getDate(),t,2)}function yo(e,t){return zr(e.getHours(),t,2)}function bo(e,t){return zr(e.getHours()%12||12,t,2)}function _o(e,t){return zr(1+gr.count(xr(e),e),t,3)}function wo(e,t){return zr(e.getMilliseconds(),t,3)}function Eo(e,t){return wo(e,t)+"000"}function No(e,t){return zr(e.getMonth()+1,t,2)}function Mo(e,t){return zr(e.getMinutes(),t,2)}function xo(e,t){return zr(e.getSeconds(),t,2)}function Io(e){var t=e.getDay();return 0===t?7:t}function Ao(e,t){return zr(yr.count(xr(e)-1,e),t,2)}function Co(e){var t=e.getDay();return t>=4||0===t?Er(e):Er.ceil(e)}function So(e,t){return e=Co(e),zr(Er.count(xr(e),e)+(4===xr(e).getDay()),t,2)}function To(e){return e.getDay()}function Do(e,t){return zr(br.count(xr(e)-1,e),t,2)}function Oo(e,t){return zr(e.getFullYear()%100,t,2)}function Ro(e,t){return zr((e=Co(e)).getFullYear()%100,t,2)}function ko(e,t){return zr(e.getFullYear()%1e4,t,4)}function Lo(e,t){var n=e.getDay();return zr((e=n>=4||0===n?Er(e):Er.ceil(e)).getFullYear()%1e4,t,4)}function Fo(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+zr(t/60|0,"0",2)+zr(t%60,"0",2)}function Po(e,t){return zr(e.getUTCDate(),t,2)}function Uo(e,t){return zr(e.getUTCHours(),t,2)}function Yo(e,t){return zr(e.getUTCHours()%12||12,t,2)}function Vo(e,t){return zr(1+Ir.count(Lr(e),e),t,3)}function $o(e,t){return zr(e.getUTCMilliseconds(),t,3)}function Ho(e,t){return $o(e,t)+"000"}function qo(e,t){return zr(e.getUTCMonth()+1,t,2)}function Bo(e,t){return zr(e.getUTCMinutes(),t,2)}function jo(e,t){return zr(e.getUTCSeconds(),t,2)}function zo(e){var t=e.getUTCDay();return 0===t?7:t}function Go(e,t){return zr(Cr.count(Lr(e)-1,e),t,2)}function Xo(e){var t=e.getUTCDay();return t>=4||0===t?Or(e):Or.ceil(e)}function Wo(e,t){return e=Xo(e),zr(Or.count(Lr(e),e)+(4===Lr(e).getUTCDay()),t,2)}function Ko(e){return e.getUTCDay()}function Qo(e,t){return zr(Sr.count(Lr(e)-1,e),t,2)}function Zo(e,t){return zr(e.getUTCFullYear()%100,t,2)}function Jo(e,t){return zr((e=Xo(e)).getUTCFullYear()%100,t,2)}function ea(e,t){return zr(e.getUTCFullYear()%1e4,t,4)}function ta(e,t){var n=e.getUTCDay();return zr((e=n>=4||0===n?Or(e):Or.ceil(e)).getUTCFullYear()%1e4,t,4)}function na(){return"+0000"}function ra(){return"%"}function oa(e){return+e}function aa(e){return Math.floor(+e/1e3)}function ia(e){throw new TypeError("Expected a value of type string but got a value of type "+typeof e)}function ua(e){return function(t){return"string"!=typeof t&&ia(t),(t=t.trim())?e(t):null}}!function(e){Yr=function(e){var t=e.dateTime,n=e.date,r=e.time,o=e.periods,a=e.days,i=e.shortDays,u=e.months,s=e.shortMonths,l=Xr(o),c=Wr(o),f=Xr(a),d=Wr(a),h=Xr(i),p=Wr(i),m=Xr(u),g=Wr(u),v=Xr(s),y=Wr(s),b={a:function(e){return i[e.getDay()]},A:function(e){return a[e.getDay()]},b:function(e){return s[e.getMonth()]},B:function(e){return u[e.getMonth()]},c:null,d:vo,e:vo,f:Eo,g:Ro,G:Lo,H:yo,I:bo,j:_o,L:wo,m:No,M:Mo,p:function(e){return o[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:oa,s:aa,S:xo,u:Io,U:Ao,V:So,w:To,W:Do,x:null,X:null,y:Oo,Y:ko,Z:Fo,"%":ra},_={a:function(e){return i[e.getUTCDay()]},A:function(e){return a[e.getUTCDay()]},b:function(e){return s[e.getUTCMonth()]},B:function(e){return u[e.getUTCMonth()]},c:null,d:Po,e:Po,f:Ho,g:Jo,G:ta,H:Uo,I:Yo,j:Vo,L:$o,m:qo,M:Bo,p:function(e){return o[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:oa,s:aa,S:jo,u:zo,U:Go,V:Wo,w:Ko,W:Qo,x:null,X:null,y:Zo,Y:ea,Z:na,"%":ra},w={a:function(e,t,n){var r=h.exec(t.slice(n));return r?(e.w=p[r[0].toLowerCase()],n+r[0].length):-1},A:function(e,t,n){var r=f.exec(t.slice(n));return r?(e.w=d[r[0].toLowerCase()],n+r[0].length):-1},b:function(e,t,n){var r=v.exec(t.slice(n));return r?(e.m=y[r[0].toLowerCase()],n+r[0].length):-1},B:function(e,t,n){var r=m.exec(t.slice(n));return r?(e.m=g[r[0].toLowerCase()],n+r[0].length):-1},c:function(e,n,r){return M(e,t,n,r)},d:io,e:io,f:ho,g:no,G:to,H:so,I:so,j:uo,L:fo,m:ao,M:lo,p:function(e,t,n){var r=l.exec(t.slice(n));return r?(e.p=c[r[0].toLowerCase()],n+r[0].length):-1},q:oo,Q:mo,s:go,S:co,u:Qr,U:Zr,V:Jr,w:Kr,W:eo,x:function(e,t,r){return M(e,n,t,r)},X:function(e,t,n){return M(e,r,t,n)},y:no,Y:to,Z:ro,"%":po};function E(e,t){return function(n){var r,o,a,i=[],u=-1,s=0,l=e.length;for(n instanceof Date||(n=new Date(+n));++u<l;)37===e.charCodeAt(u)&&(i.push(e.slice(s,u)),null!=(o=Hr[r=e.charAt(++u)])?r=e.charAt(++u):o="e"===r?" ":"0",(a=t[r])&&(r=a(n,o)),i.push(r),s=u+1);return i.push(e.slice(s,u)),i.join("")}}function N(e,t){return function(n){var r,o,a=Ur(1900,void 0,1);if(M(a,e,n+="",0)!=n.length)return null;if("Q"in a)return new Date(a.Q);if("s"in a)return new Date(1e3*a.s+("L"in a?a.L:0));if(t&&!("Z"in a)&&(a.Z=0),"p"in a&&(a.H=a.H%12+12*a.p),void 0===a.m&&(a.m="q"in a?a.q:0),"V"in a){if(a.V<1||a.V>53)return null;"w"in a||(a.w=1),"Z"in a?(o=(r=Pr(Ur(a.y,0,1))).getUTCDay(),r=o>4||0===o?Sr.ceil(r):Sr(r),r=Ir.offset(r,7*(a.V-1)),a.y=r.getUTCFullYear(),a.m=r.getUTCMonth(),a.d=r.getUTCDate()+(a.w+6)%7):(o=(r=Fr(Ur(a.y,0,1))).getDay(),r=o>4||0===o?br.ceil(r):br(r),r=gr.offset(r,7*(a.V-1)),a.y=r.getFullYear(),a.m=r.getMonth(),a.d=r.getDate()+(a.w+6)%7)}else("W"in a||"U"in a)&&("w"in a||(a.w="u"in a?a.u%7:"W"in a?1:0),o="Z"in a?Pr(Ur(a.y,0,1)).getUTCDay():Fr(Ur(a.y,0,1)).getDay(),a.m=0,a.d="W"in a?(a.w+6)%7+7*a.W-(o+5)%7:a.w+7*a.U-(o+6)%7);return"Z"in a?(a.H+=a.Z/100|0,a.M+=a.Z%100,Pr(a)):Fr(a)}}function M(e,t,n,r){for(var o,a,i=0,u=t.length,s=n.length;i<u;){if(r>=s)return-1;if(37===(o=t.charCodeAt(i++))){if(o=t.charAt(i++),!(a=w[o in Hr?t.charAt(i++):o])||(r=a(e,n,r))<0)return-1}else if(o!=n.charCodeAt(r++))return-1}return r}return b.x=E(n,b),b.X=E(r,b),b.c=E(t,b),_.x=E(n,_),_.X=E(r,_),_.c=E(t,_),{format:function(e){var t=E(e+="",b);return t.toString=function(){return e},t},parse:function(e){var t=N(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=E(e+="",_);return t.toString=function(){return e},t},utcParse:function(e){var t=N(e+="",!0);return t.toString=function(){return e},t}}}(e),Yr.format,Yr.parse,Vr=Yr.utcFormat,$r=Yr.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var sa=new Date(1972,3,27,19,45,5),la={"%b %d":[{regex:/^june\s(30|[12][0-9]|0?[1-9])$/i,toDate:function(e){return new Date(null,5,e.split(/\s/)[1])}},{regex:/^july\s(3[01]|[12][0-9]|0?[1-9])$/i,toDate:function(e){return new Date(null,6,e.split(/\s/)[1])}},{regex:/^sept\s(30|[12][0-9]|0?[1-9])$/i,toDate:function(e){return new Date(null,8,e.split(/\s/)[1])}}],"%d %b":[{regex:/^(0?[1-9]|[1-9][0-9])\sjune$/i,toDate:function(e){return new Date(null,5,e.split(/\s/)[0])}},{regex:/^(0?[1-9]|[1-9][0-9])\sjuly$/i,toDate:function(e){return new Date(null,6,e.split(/\s/)[0])}},{regex:/^(0?[1-9]|[1-9][0-9])\ssept$/i,toDate:function(e){return new Date(null,8,e.split(/\s/)[0])}}]};function ca(e){return function(t){var n=null;return e.forEach((function(e){t.match(e.regex)&&(n=e.toDate(t))})),n}}function fa(e,t){var n,r=$r(e),o=Vr(e);return n=ua("function"==typeof t?function(e){return t(e,null!==r(e))}:function(e){return null!==r(e)}),Object.freeze({test:n,parse:ua((function(t){return r(t)||(la[e]?ca(la[e])(t):null)})),format:function(e){return o(e)},type:"datetime",description:e,id:"datetime$"+e,example:o(sa)})}var da=Object.freeze([fa("%Y-%m-%dT%H:%M:%S.%LZ"),fa("%Y-%m-%d %H:%M:%S"),fa("%Y-%m-%dT%H:%M:%S"),fa("%Y-%m-%dT%H:%M:%SZ"),fa("%d/%m/%Y",(function(e,t){if(!t)return!1;var n=e.split("/").map(parseFloat);return n[0]>0&&n[0]<=31&&n[1]>0&&n[1]<=12&&n[2]>=1e3})),fa("%d/%m/%Y %H:%M",(function(e,t){if(!t)return!1;var n=e.split(/[/ :]/).map(parseFloat);return n[0]>0&&n[0]<=31&&n[1]>0&&n[1]<=12&&n[2]>=1e3&&n[3]>=0&&n[3]<24&&n[4]>=0&&n[4]<60})),fa("%d/%m/%y",(function(e,t){if(!t)return!1;var n=e.split("/").map(parseFloat);return n[0]>0&&n[0]<=31&&n[1]>0&&n[1]<=12&&!isNaN(n[2])})),fa("%m/%d/%Y",(function(e,t){if(!t)return!1;var n=e.split("/").map(parseFloat);return n[0]>0&&n[0]<=12&&n[1]>0&&n[1]<=31&&n[2]>=1e3})),fa("%m/%d/%Y %H:%M",(function(e,t){if(!t)return!1;var n=e.split(/[/ :]/).map(parseFloat);return n[0]>0&&n[0]<=12&&n[1]>0&&n[1]<=31&&n[2]>=1e3&&n[3]>=0&&n[3]<24&&n[4]>=0&&n[4]<60})),fa("%m/%d/%y",(function(e,t){if(!t)return!1;var n=e.split("/").map(parseFloat);return n[0]>0&&n[0]<=12&&n[1]>0&&n[1]<=31&&!isNaN(n[2])})),fa("%Y/%m/%d",(function(e,t){if(!t)return!1;var n=e.split("/").map(parseFloat);return n[0]>=1e3&&n[1]>0&&n[1]<=12&&n[2]>0&&n[2]<=31})),fa("%d-%m-%Y",(function(e,t){if(!t)return!1;var n=e.split("-").map(parseFloat);return n[0]>0&&n[0]<=31&&n[1]>0&&n[1]<=12&&n[2]>=1e3})),fa("%d-%m-%y",(function(e,t){if(!t)return!1;var n=e.split("-").map(parseFloat);return n[0]>0&&n[0]<=31&&n[1]>0&&n[1]<=12&&!isNaN(n[2])})),fa("%d.%m.%Y",(function(e,t){if(!t)return!1;var n=e.split(".").map(parseFloat);return n[0]>0&&n[0]<=31&&n[1]>0&&n[1]<=12&&n[2]>=1e3})),fa("%m.%d.%y",(function(e,t){if(!t)return!1;var n=e.split(".").map(parseFloat);return n[0]>0&&n[0]<=12&&n[1]>0&&n[1]<=31&&!isNaN(n[2])})),fa("%m-%d-%Y",(function(e,t){if(!t)return!1;var n=e.split("-").map(parseFloat);return n[0]>0&&n[0]<=12&&n[1]>0&&n[1]<=31&&n[2]>=1e3})),fa("%m-%d-%y",(function(e,t){if(!t)return!1;var n=e.split("-").map(parseFloat);return n[0]>0&&n[0]<=12&&n[1]>0&&n[1]<=31&&!isNaN(n[2])})),fa("%Y-%m-%d",(function(e,t){if(!t)return!1;var n=e.split("-").map(parseFloat);return n[0]>=1e3&&n[1]>0&&n[1]<=12&&n[2]>0&&n[2]<=31})),fa("%Y-%m",(function(e,t){if(!t)return!1;var n=e.split("-").map(parseFloat);return n[0]>=1e3&&n[1]>0&&n[1]<=12})),fa("%d %b %Y",(function(e,t){if(!t)return!1;var n=e.split(" ").map(parseFloat);return n[0]>0&&n[0]<=31&&n[2]>=1e3})),fa("%d %B %Y",(function(e,t){if(!t)return!1;var n=e.split(" ").map(parseFloat);return n[0]>0&&n[0]<=31&&n[2]>=1e3})),fa("%d %b %y"),fa("%-d %b ’%y"),fa("%d %B %y"),fa("%d-%b-%Y",(function(e,t){if(!t)return!1;var n=e.split("-").map(parseFloat);return n[0]>0&&n[0]<=31&&n[2]>=1e3})),fa("%d-%B-%Y",(function(e,t){if(!t)return!1;var n=e.split("-").map(parseFloat);return n[0]>0&&n[0]<=31&&n[2]>=1e3})),fa("%d-%b-%y"),fa("%d-%B-%y"),fa("%m/%Y",(function(e,t){if(!t)return!1;var n=e.split("/").map(parseFloat);return n[0]>0&&n[0]<=12&&n[1]>=1e3})),fa("%m/%y"),fa("%b %Y",(function(e,t){return!!t&&e.split(" ").map(parseFloat)[1]>=1e3})),fa("%B %Y",(function(e,t){return!!t&&e.split(" ").map(parseFloat)[1]>=1e3})),fa("%b-%y"),fa("%b %y"),fa("%B %y"),fa("%b '%y"),fa("%b ’%y"),fa("%B %-d %Y"),fa("%d %b",(function(e,t){return!!t||!!ca(la["%d %b"])(e)})),fa("%d %B"),fa("%b %d",(function(e,t){return!!t||!!ca(la["%b %d"])(e)})),fa("%B %d"),fa("%d-%m",(function(e,t){if(!t)return!1;var n=e.split("-").map(parseFloat);return n[0]>0&&n[0]<=31&&n[1]>0&&n[1]<=12})),fa("%m-%d"),fa("%d/%m"),fa("%m/%d"),fa("%b %d %Y"),fa("%b %d %Y, %-I.%M%p"),fa("%B"),fa("%b"),fa("%X"),fa("%I:%M %p"),fa("%-I.%M%p"),fa("%H:%M",(function(e,t){if(!t)return!1;var n=e.split(":").map(parseFloat);return n[0]>=0&&n[0]<24})),fa("%H:%M:%S"),fa("%M:%S"),fa("%-I%p"),fa("Q%q %Y",(function(e,t){return!!t&&6===e.replace(/\s/g,"").length})),fa("%Y Q%q",(function(e,t){return!!t&&6===e.replace(/\s/g,"").length})),fa("%YM%m",(function(e,t){if(!t)return!1;var n=e.split("M").map(parseFloat);return n[0]>=1e3&&n[1]>0&&n[1]<=12})),fa("%YQ%q",(function(e,t){if(!t)return!1;var n=e.split("Q").map(parseFloat);return n[0]>=1e3&&n[1]>0&&n[1]<=4})),fa("%YÁ%q",(function(e,t){if(!t)return!1;var n=e.split("Á").map(parseFloat);return n[0]>=1e3&&n[1]>0&&n[1]<=4}))]),ha=Object.freeze([fa("%Y",(function(e,t){if(!t)return!1;var n=parseFloat(e);return n>1499&&n<2200})),fa("%Y%m",(function(e,t){if(!t)return!1;var n=parseFloat(e.slice(0,4)),r=parseFloat(e.slice(4));return n>1e3&&r>0&&r<=12}))]);function pa(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}var ma,ga=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function va(e){if(!(t=ga.exec(e)))throw new Error("invalid format: "+e);var t;return new ya({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function ya(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function ba(e,t){var n=pa(e,t);if(!n)return e+"";var r=n[0],o=n[1];return o<0?"0."+new Array(-o).join("0")+r:r.length>o+1?r.slice(0,o+1)+"."+r.slice(o+1):r+new Array(o-r.length+2).join("0")}va.prototype=ya.prototype,ya.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var _a={"%":function(e,t){return(100*e).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return ba(100*e,t)},r:ba,s:function(e,t){var n=pa(e,t);if(!n)return e+"";var r=n[0],o=n[1],a=o-(ma=3*Math.max(-8,Math.min(8,Math.floor(o/3))))+1,i=r.length;return a===i?r:a>i?r+new Array(a-i+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+pa(e,Math.max(0,t+a-1))[0]},X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}};function wa(e){return e}var Ea=Array.prototype.map,Na=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Ma(e){var t,n,r=void 0===e.grouping||void 0===e.thousands?wa:(t=Ea.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var o=e.length,a=[],i=0,u=t[0],s=0;o>0&&u>0&&(s+u+1>r&&(u=Math.max(1,r-s)),a.push(e.substring(o-=u,o+u)),!((s+=u+1)>r));)u=t[i=(i+1)%t.length];return a.reverse().join(n)}),o=void 0===e.currency?"":e.currency[0]+"",a=void 0===e.currency?"":e.currency[1]+"",i=void 0===e.decimal?".":e.decimal+"",u=void 0===e.numerals?wa:function(e){return function(t){return t.replace(/[0-9]/g,(function(t){return e[+t]}))}}(Ea.call(e.numerals,String)),s=void 0===e.percent?"%":e.percent+"",l=void 0===e.minus?"-":e.minus+"",c=void 0===e.nan?"NaN":e.nan+"";function f(e){var t=(e=va(e)).fill,n=e.align,f=e.sign,d=e.symbol,h=e.zero,p=e.width,m=e.comma,g=e.precision,v=e.trim,y=e.type;"n"===y?(m=!0,y="g"):_a[y]||(void 0===g&&(g=12),v=!0,y="g"),(h||"0"===t&&"="===n)&&(h=!0,t="0",n="=");var b="$"===d?o:"#"===d&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",_="$"===d?a:/[%p]/.test(y)?s:"",w=_a[y],E=/[defgprs%]/.test(y);function N(e){var o,a,s,d=b,N=_;if("c"===y)N=w(e)+N,e="";else{var M=(e=+e)<0||1/e<0;if(e=isNaN(e)?c:w(Math.abs(e),g),v&&(e=function(e){e:for(var t,n=e.length,r=1,o=-1;r<n;++r)switch(e[r]){case".":o=t=r;break;case"0":0===o&&(o=r),t=r;break;default:if(!+e[r])break e;o>0&&(o=0)}return o>0?e.slice(0,o)+e.slice(t+1):e}(e)),M&&0==+e&&"+"!==f&&(M=!1),d=(M?"("===f?f:l:"-"===f||"("===f?"":f)+d,N=("s"===y?Na[8+ma/3]:"")+N+(M&&"("===f?")":""),E)for(o=-1,a=e.length;++o<a;)if(48>(s=e.charCodeAt(o))||s>57){N=(46===s?i+e.slice(o+1):e.slice(o))+N,e=e.slice(0,o);break}}m&&!h&&(e=r(e,1/0));var x=d.length+e.length+N.length,I=x<p?new Array(p-x+1).join(t):"";switch(m&&h&&(e=r(I+e,I.length?p-N.length:1/0),I=""),n){case"<":e=d+e+N+I;break;case"=":e=d+I+e+N;break;case"^":e=I.slice(0,x=I.length>>1)+d+e+N+I.slice(x);break;default:e=I+d+e+N}return u(e)}return g=void 0===g?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),N.toString=function(){return e+""},N}return{format:f,formatPrefix:function(e,t){var n=f(((e=va(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(function(e){return(e=pa(Math.abs(e)))?e[1]:NaN}(t)/3))),o=Math.pow(10,-r),a=Na[8+r/3];return function(e){return n(o*e)+a}}}}var xa={test:ua((function(e){return/^(\+|-)?\d{1,3}(,\d{3})*(\.\d+)?((e|E)(\+|-)?\d+)?$/.test(e.trim())})),parse:ua((function(e){return parseFloat(e.replace(/,/g,""))})),description:"Comma thousand separator, point decimal mark",thousand_separator:",",decimal_mark:".",id:"number$comma_point",example:"12,235.56"},Ia={test:ua((function(e){return/^(\+|-)?\d{1,3}(\s\d{3})*(\.\d+)?((e|E)(\+|-)?\d+)?$/.test(e.trim())})),parse:ua((function(e){return parseFloat(e.replace(/\s/g,""))})),description:"Space thousand separator, point decimal mark",thousand_separator:" ",decimal_mark:".",id:"number$space_point",example:"12 235.56"},Aa={test:ua((function(e){return/^(\+|-)?\d+(\.\d+)?((e|E)(\+|-)?\d+)?$/.test(e.trim())})),parse:ua((function(e){return parseFloat(e)})),description:"No thousand separator, point decimal mark",thousand_separator:"",decimal_mark:".",id:"number$none_point",example:"12235.56"},Ca={test:ua((function(e){return/^(\+|-)?\d{1,3}(\.\d{3})*(,\d+)?((e|E)(\+|-)?\d+)?$/.test(e.trim())})),parse:ua((function(e){return parseFloat(e.replace(/\./g,"").replace(/,/,"."))})),description:"Point thousand separator, comma decimal mark",thousand_separator:".",decimal_mark:",",id:"number$point_comma",example:"12.235,56"},Sa={test:ua((function(e){return/^(\+|-)?\d{1,3}(\s\d{3})*(,\d+)?((e|E)(\+|-)?\d+)?$/.test(e.trim())})),parse:ua((function(e){return parseFloat(e.replace(/\s/g,"").replace(/,/,"."))})),description:"Space thousand separator, comma decimal mark",thousand_separator:" ",decimal_mark:",",id:"number$space_comma",example:"12 235,56"},Ta={test:ua((function(e){return/^(\+|-)?\d+(,\d+)?((e|E)(\+|-)?\d+)?$/.test(e.trim())})),parse:ua((function(e){return parseFloat(e.replace(/,/,"."))})),description:"No thousand separator, comma decimal mark",thousand_separator:"",decimal_mark:",",id:"number$none_comma",example:"12235,56"},Da=Object.freeze([xa,Ia,Ca,Sa,Aa,Ta]);Da.forEach((function(e){e.type="number",e.format=function(e){var t,n,r=Ma({decimal:e.decimal_mark,thousands:e.thousand_separator,grouping:[3],currency:["",""]});return function(e,o){return null===e?"":(o||(o=",.2f"),o!==n&&(n=o,t=r.format(n)),t(e))}}(e),Object.freeze(e)}));var Oa,Ra=Object.freeze({test:function(e){return"string"==typeof e||ia(e)},parse:function(e){return"string"==typeof e?e:ia(e)},format:function(e){if("string"==typeof e)return e},type:"string",description:"Arbitrary string",id:"string$arbitrary_string"}),ka=Object.freeze({datetime:da,number:Da}),La=Object.freeze(["datetime","number","string"]),Fa=Object.freeze({n_max:250,n_failing_values:0,failure_fraction:.05,sort:!0}),Pa=Object.freeze(Object.keys(Fa));function Ua(e,t){return e.index-t.index}function Ya(e,t){return t.n_success-e.n_success||Ua(e,t)}function Va(e){return(""+e).trim()}function $a(e){return void 0===e?function(e){return Va(e)}:"function"==typeof e?function(t,n){return Va(e(t,n))}:function(t){return Va(t[""+e])}}function Ha(e){e?Array.isArray(e)||(e=[e]):e=La;var t=e.reduce((function(e,t){var n=ka[t];return n&&Array.prototype.push.apply(e,n),e}),[]),n=-1!==e.indexOf("string"),r=Pa.reduce((function(e,t){return e[t]=Fa[t],e}),{}),o=function(e,o){o=$a(o);var a=e.map(o).filter(Boolean);if(!a.length)return n?[Ra]:[];var i=Math.min(r.n_max,a.length),u=Math.floor(i*r.failure_fraction),s=r.n_failing_values,l=r.sort?Ya:Ua,c=t.slice().reduce((function(e,t,n){for(var r=c=0,o=[],l=!1,c=0;c<i;c++){var f=a[c];if(!t.test(f)&&(++r>u?l=!0:-1===o.indexOf(f)&&(o.push(f),o.length>s&&(l=!0)),l))break}return l||e.push({interp:t,n_success:i-r,index:n}),e}),[]).sort(l).map((function(e){return e.interp}));return n&&c.push(Ra),c};return Pa.forEach((function(e){var t;o[(t=e,t.replace(/_(\w)/g,(function(e,t){return t.toUpperCase()})))]=function(t){return void 0===t?r[e]:(r[e]=t,o)}})),o}function qa(e){const t=Ha.getInterpretation(e);if(!t)throw new Error(`format_id ${e} not recognised`);return function(){return t.format(...arguments)}}function Ba(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=e;return"datetime"===t&&Boolean(r)&&(r=function(e,t){let n=t;/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}.\d{3}Z$/.test(t)?n=new Date(t):"string"==typeof t&&(n=Ha.getInterpretation(e).parse(n));return qa(e)(n)}(n,r)),"number"===t&&Boolean(r)&&(r=function(e,t){const n=parseFloat(t),r=`,.${(t.toString().split(".")[1]||"").length}f`;let o=qa(e)(t,r);const a={none:"",comma:",",point:".",space:" "},i=e.split("$")[1].split("_")[1];return Number.isInteger(n)&&(o=o.split(a[i])[0]),o}(n,r)),(String(r).includes(",")||String(r).includes('"')||String(r).includes("\r")||String(r).includes("\n"))&&(r=`"${String(r).replace(/"/g,'""')}"`),r}function ja(e){const t=Object.keys(e);let n={};const r=["lines","order","labels","colors","regions_geometry","geo_regions"],o=t.filter((t=>!r.includes(t)&&0!==e[t].length));return o.forEach((t=>{const r=function(e,t){const n=JSON.parse(JSON.stringify(e[t]));return n.column_names=e[t].column_names||{},n.metadata=e[t].metadata||{},n.forEach((e=>{Object.keys(e).forEach((t=>{Object.keys(n.column_names).includes(t)||delete e[t]}))})),n}(e,t);n[t]=r})),{formatted_datasets:n,datasets_to_download:o}}function za(e,t){const n=e[t],{headers:r,header_index_lookup:o}=function(e){const t=[],n={};for(const r in e.column_names)e.column_names[r]&&((Array.isArray(e.column_names[r])?e.column_names[r]:[e.column_names[r]]).forEach((e=>{let n=Ba(e);t.includes(n)||t.push(n)})),Array.isArray(e.column_names[r])?n[r]=e.column_names[r].map((e=>t.indexOf(Ba(e)))):n[r]=t.indexOf(Ba(e.column_names[r])));return{headers:t,header_index_lookup:n}}(n),a=function(e,t,n){const r=[];return e.forEach((t=>{const o=[];for(const r in t){const a=t[r],i=n[r];let u=e.metadata?e.metadata[r]?.type:null,s=e.metadata?e.metadata[r]?.type_id:null;Array.isArray(a)?a.forEach(((t,n)=>{u=e.metadata[r][n]?.type,s=e.metadata[r][n]?.type_id,o[i[n]]=Ba(t,u,s)})):o[i]=Ba(a,u,s)}r.push(o)})),[t.join(",")].concat(r.map((e=>e.join(",")))).join("\n")}(n,r,o);return a}function Ga(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"csv";const t=window.template?.metadata?.visualization_title,n=function(e){return e.replace(/^\.+/,"").replace(/[\/\\]/g,"_").replace(/[<>:"|?*\x00-\x1f]/g,"_").replace(/^(con|prn|aux|nul|com[0-9]|lpt[0-9])$/i,"_$1").trim().replace(/[\s.]+$/,"").slice(0,255)}(t||"Untitled_Visualization");return`${n}.${e}`}Ha.DATETIME_IDS=Object.freeze(da.concat(ha).map((function(e){return e.id}))),Ha.NUMBER_IDS=Object.freeze(Da.map((function(e){return e.id}))),Ha.STRING_IDS=Object.freeze([Ra.id]),Ha.DATETIME_FORMAT_ONLY_IDS=Object.freeze(ha.map((function(e){return e.id}))),Ha.getInterpretation=(Oa=da.concat(ha,Da,Ra).reduce((function(e,t){return e[t.id]=t,e}),{}),function(e){return Oa[e]}),Ha._createAccessorFunction=$a;var Xa="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0;function Wa(e,t,n){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){Ja(r.response,t,n)},r.onerror=function(){console.error("could not download file")},r.send()}function Ka(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return t.status>=200&&t.status<=299}function Qa(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(n){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var Za=Xa.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),Ja=Xa.saveAs||("object"!=typeof window||window!==Xa?function(){}:"download"in HTMLAnchorElement.prototype&&!Za?function(e,t,n){var r=Xa.URL||Xa.webkitURL,o=document.createElement("a");t=t||e.name||"download",o.download=t,o.rel="noopener","string"==typeof e?(o.href=e,o.origin!==location.origin?Ka(o.href)?Wa(e,t,n):Qa(o,o.target="_blank"):Qa(o)):(o.href=r.createObjectURL(e),setTimeout((function(){r.revokeObjectURL(o.href)}),4e4),setTimeout((function(){Qa(o)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,t,n){if(t=t||e.name||"download","string"==typeof e)if(Ka(e))Wa(e,t,n);else{var r=document.createElement("a");r.href=e,r.target="_blank",setTimeout((function(){Qa(r)}))}else navigator.msSaveOrOpenBlob(function(e,t){return void 0===t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob([String.fromCharCode(65279),e],{type:e.type}):e}(e,n),t)}:function(e,t,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),"string"==typeof e)return Wa(e,t,n);var o="application/octet-stream"===e.type,a=/constructor/i.test(Xa.HTMLElement)||Xa.safari,i=/CriOS\/[\d]+/.test(navigator.userAgent);if((i||o&&a||Za)&&"undefined"!=typeof FileReader){var u=new FileReader;u.onloadend=function(){var e=u.result;e=i?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=e:location=e,r=null},u.readAsDataURL(e)}else{var s=Xa.URL||Xa.webkitURL,l=s.createObjectURL(e);r?r.location=l:location.href=l,r=null,setTimeout((function(){s.revokeObjectURL(l)}),4e4)}});let ei,ti,ni,ri,oi;Xa.saveAs=Ja.saveAs=Ja;let ai=!1;function ii(){var e;return(e=document.createElement("style")).type="text/css",e.innerHTML=".flourish-footer { margin: 0; } .flourish-footer p { margin: 0; display: inline; } .flourish-footer p:empty { height: 0; } .flourish-footer a { color: inherit; }",document.head.appendChild(e),ei=document.createElement("footer"),ei.className="flourish-footer",ti=document.createElement("div"),ti.className="flourish-footer-text",ti.setAttribute("id","flourish-footer-text"),ni=document.createElement("div"),ni.className="flourish-footer-logo-container",ei.appendChild(ti),ei.appendChild(ni),ei}function ui(){return gi.background_color_enabled&&!function(e){if(!e)return void console.warn("No valid color",e);const t=ve("#000000",e);return ve("#ffffff",e)<t}(gi.background_color)}function si(){var e=gi.footer_logo_src?gi.footer_logo_src:"";return gi.footer_logo_src_light&&ui()&&(e=gi.footer_logo_src_light),e}function li(){return gi.footer_logo_enabled&&si()}function ci(){var e=[{name:gi.source_name,url:gi.source_url},{name:gi.multiple_sources?gi.source_name_2:"",url:gi.multiple_sources?gi.source_url_2:""},{name:gi.multiple_sources?gi.source_name_3:"",url:gi.multiple_sources?gi.source_url_3:""}].filter((function(e){return e.name||e.url}));ai=e.length>0||gi.footer_note||gi.footer_note_secondary||li();var t,n="top"==gi.footer_border||"top_and_bottom"==gi.footer_border,r="bottom"==gi.footer_border||"top_and_bottom"==gi.footer_border;ei.style.display="flex",ei.style.height=ai?null:0,ei.style.width="100%",ei.style.paddingTop=n?gi.footer_border_space+"rem":"",ei.style.paddingBottom=r?gi.footer_border_space+"rem":"",ei.style.borderTop=n?gi.footer_border_width+"px "+gi.footer_border_style+" "+gi.footer_border_color:"",ei.style.borderBottom=r?gi.footer_border_width+"px "+gi.footer_border_style+" "+gi.footer_border_color:"",ei.style.fontFamily=gi.footer_font?gi.footer_font.name:"inherit",ei.style.fontWeight=gi.footer_text_weight,ei.style.justifyContent="justify"==(t=gi.footer_align)?"space-between":"left"==t?"flex-start":"right"==t?"flex-end":"center"==t?"center":void 0,ei.style.fontSize=gi.footer_text_size+"rem",ei.style.color=gi.footer_text_color||gi.font_color,ei.style.alignItems=gi.footer_align_vertical;var o=document.createElement("span");e.forEach((function(e,t){var n=document.createElement("p");if(t>0&&(n.innerText=", "),e.url){var r=document.createElement("a");r.innerText=e.name||e.url,r.href=fe(e.url),r.target="_blank",n.appendChild(r)}else n.innerText+=e.name||e.url;o.innerHTML+=n.innerHTML})),ti.style.order="left"==gi.footer_logo_order?2:"",ti.style.textAlign=ce(gi.footer_align);const a=""!==o.innerHTML?`${gi.source_label} ${o.innerHTML}`:"",i=gi.footer_note?(""!==o.innerHTML?" • ":"")+fi("primary"):"",u=gi.footer_note_secondary?`<br /><p>${fi("secondary")}</p>`:"";ti.innerHTML=`<p>${a}${i}</p>${u}`,ni.innerHTML="",li()&&(ri=ri||document.createElement("img"),ri.className="flourish-footer-logo",ri.src=fe(si()),ri.alt=gi.footer_logo_alt,ri.style.height=gi.footer_logo_height+"rem",ri.style.marginRight="left"==gi.footer_logo_order?gi.footer_logo_margin+"rem":"",ri.style.marginLeft="right"==gi.footer_logo_order?gi.footer_logo_margin+"rem":"",ri.style.verticalAlign=gi.footer_align_vertical,ri.style.display=li()?"":"none",gi.footer_logo_link_url?(oi=document.createElement("a"),oi.target="_blank",oi.appendChild(ri),ni.appendChild(oi),ri.style.cursor="pointer",oi.href=fe(gi.footer_logo_link_url)):ni.appendChild(ri)),document.querySelectorAll(".fl-data-download-button").forEach((e=>{e.addEventListener("click",(async e=>{e.preventDefault();const{file_name:t,blob:n}=await async function(){const e={},{formatted_datasets:t,datasets_to_download:n}=ja(window.template?.data);if(1===n.length){const e=n[0],r=Ga("csv"),o=za(t,e);return{file_name:r,blob:new Blob(["\ufeff"+o],{type:"text/csv"})}}if(n.length>1){n.forEach((n=>{const r=za(t,n);e[`${n}.csv`]=ur("\ufeff"+r)}));const r=Ga("zip"),o=cr(e);return{file_name:r,blob:new Blob([o],{type:"application/zip"})}}return Flourish.warn("There is no data to download"),null}();try{Ja(n,t)}catch(e){console.error("An error occurred while saving the file:",e)}}))}))}function fi(e){return("primary"===e?gi.footer_note:gi.footer_note_secondary).replace(/{{([^}]+)}}/g,((e,t)=>{if("data_last_updated"===t){return function(e,t){let n="n/a";null!==e&&(n=et(t)(e));return n}(function(e){const t="data_last_updated"===e?"last_updated":e,n=Object.keys(window.template?.data);if(n.length>0){const e=n.map((e=>window.template.data[e].timestamps?.[t]||null)).filter((e=>null!==e));if(0===e.length)return null;return Math.max(...e)}return null}(t),gi.footer_timestamp_format)}if(t.includes("download_data")){return!!window.template.data&&(window.template.data.length||Object.keys(window.template.data).length)?function(e){const t=[...document.querySelectorAll(".fl-data-download-button")],n=[...document.querySelectorAll("#flourish-header-title, #flourish-header-subtitle, #flourish-header-text")].find((e=>Boolean(e.textContent.trim()))),r=`fl-data-download-button-${t.length}`,o=n?`aria-labelledby='${n.id} ${r}'`:"";let a="Download data";if(e.includes('"')){const t=e.indexOf('"'),n=e.lastIndexOf('"');a=e.slice(t+1,n)}return`<a id='${r}' ${o} href='#' class='fl-data-download-button'>${a}</a>`}(t):(Flourish.warn("There is no data to download"),"")}return""}))}function di(){Q(),he(),ci(),document.body.style.backgroundColor=gi.background_color_enabled?gi.background_color:"transparent",document.body.style.backgroundImage=gi.background_image_enabled?"url("+gi.background_image_src+")":"",document.body.style.backgroundSize=gi.background_image_size,document.body.style.backgroundRepeat="no-repeat",document.body.style.backgroundPosition=gi.background_image_position;var e=_i.wrapper.style;e.display="flex",e.height="100vh",e.color=gi.font_color,e.maxWidth="wrapper"==gi.max_width_target?gi.max_width+"px":"",e.marginLeft="wrapper"==gi.max_width_target&&"left"!=gi.max_width_align?"auto":"",e.marginRight="wrapper"==gi.max_width_target&&"right"!=gi.max_width_align?"auto":"",e.padding=gi.margin_top+"rem "+gi.margin_right+"rem "+gi.margin_bottom+"rem "+gi.margin_left+"rem",e.borderTop=gi.border.enabled?gi.border.top.width+"px "+gi.border.top.style+" "+gi.border.top.color:"",e.borderRight=gi.border.enabled?gi.border.right.width+"px "+gi.border.right.style+" "+gi.border.right.color:"",e.borderBottom=gi.border.enabled?gi.border.bottom.width+"px "+gi.border.bottom.style+" "+gi.border.bottom.color:"",e.borderLeft=gi.border.enabled?gi.border.left.width+"px "+gi.border.left.style+" "+gi.border.left.color:"";var t=_i.primary.outer.style,n=_i.legend.outer.style,r=hi();if("stack"==r.mode)r.elements.forEach((function(e,t){_i[e].outer.style.order=10*t}));else for(var o in r.elements)for(var a in r.elements[o]){var i=_i[o].outer||_i[o];i.style[a]=r.elements[o][a],i.style.order=""}_i.header.outer.style.display="",_i.footer.outer.style.display="",_i.controls.outer.style.display="",t.display="flex",n.display="",t.flex="1 1 auto",t.height=null,_i.primary.outer.style.maxWidth="primary"==gi.max_width_target?gi.max_width+"px":"",_i.primary.outer.style.marginLeft="primary"==gi.max_width_target&&"left"!=gi.max_width_align?"auto":"",_i.primary.outer.style.marginRight="primary"==gi.max_width_target&&"right"!=gi.max_width_align?"auto":"";var u=""!=gi.screenreader_text_primary.trim(),s=document.getElementById("fl-layout-primary-description");_i.primary.outer.setAttribute("aria-label","primary visualisation container"),s.innerText=gi.screenreader_text_primary,u?_i.primary.outer.setAttribute("aria-describedBy","fl-layout-primary-description"):_i.primary.outer.removeAttribute("aria-describedBy"),gi.screenreader_hide_primary?_i.primary.inner.setAttribute("aria-hidden",!0):_i.primary.inner.removeAttribute("aria-hidden"),""!=gi.screenreader_label.trim()?Mi().setAttribute("aria-label",gi.screenreader_label):Mi().removeAttribute("aria-label"),bi.map((function(e){var t=_i[e],n=t.outer.style;return{name:e,height:Ei(t.inner),order:parseFloat(n.order),style:n}})).sort((function(e,t){return e.order-t.order})).filter((function(e){if(e.height||"primary"==e.name)return!0;e.style.paddingBottom="",e.style.paddingTop="",e.style.display="none"})).forEach((function(e,t,n){e.style.width="100%",e.style.paddingTop=t?pi("padding"):"",e.style.paddingBottom=t<n.length-1?pi("padding"):""})),_i.wrapper.style.gridColumnGap=pi("gap"),_i.wrapper.style.gridRowGap=pi("gap"),document.body.setAttribute("dir",gi.read_direction),_i.wrapper.setAttribute("dir",gi.read_direction),document.getElementById("fl-layout-wrapper-outer").setAttribute("dir","ltr")}function hi(){var e=window.innerWidth<gi.breakpoint_mobile_big,t=gi.layout_order.indexOf("grid")>-1,n={id:gi.layout_order,mode:t?"grid":"stack",elements:se[gi.layout_order]};return e&&t&&(n.id="stack-default",n.mode="stack",n.elements=se["stack-default"]),n}function pi(e){var t,n=hi();return t="custom"==gi.space_between_sections?gi.space_between_sections_custom:gi.space_between_sections,"grid"==n.mode?"gap"==e?t+"rem":"":"gap"==e?"":t/2+"rem"}var mi=Object.freeze({body_font:{name:"Canva Sans Variable",url:"https://public.flourish.studio/resources/fonts/canva-sans.css"},title_font:null,subtitle_font:null,footer_font:null,read_direction:"ltr",border:{enabled:!1,top:{width:1,color:"#dddddd",style:"solid"},right:{width:1,color:"#dddddd",style:"solid"},bottom:{width:1,color:"#dddddd",style:"solid"},left:{width:1,color:"#dddddd",style:"solid"}},layout_order:"stack-default",margin_top:.75,margin_right:.75,margin_bottom:.75,margin_left:.75,space_between_sections:1,space_between_sections_custom:1,background_color_enabled:!0,background_color:"#ffffff",background_image_enabled:!1,background_image_src:"",background_image_size:"cover",background_image_position:"center center",max_width:600,max_width_target:"none",max_width_align:"center",breakpoint_mobile_small:0,breakpoint_mobile_big:380,breakpoint_tablet:580,breakpoint_desktop:1080,breakpoint_big_screen:1280,font_color:"#333333",font_size_mobile_small:62.5,font_size_mobile_big:75,font_size_tablet:87.5,font_size_desktop:100,font_size_big_screen:120,header_align:"left",header_border:"none",header_border_width:1,header_border_color:"#dddddd",header_border_style:"solid",header_border_space:.5,header_logo_enabled:!1,header_logo_align:"inside",header_logo_src:"",header_logo_alt:"Header logo",header_logo_link_url:"",header_logo_height:3,header_logo_position_inside:"left",header_logo_position_outside:"left",header_logo_margin_top:.25,header_logo_margin_right:.5,header_logo_margin_bottom:0,header_logo_margin_left:0,title:"",title_size:2,title_size_custom:1.6,title_line_height:1.2,title_color:null,title_weight:"bold",title_space_above:0,title_space_above_custom:1.5,title_styling:!1,subtitle:"",subtitle_size:1.4,subtitle_size_custom:1.6,subtitle_line_height:1.2,subtitle_color:null,subtitle_weight:"normal",subtitle_space_above:.5,subtitle_space_above_custom:1.5,subtitle_styling:!1,header_text:"",header_text_size:1.2,header_text_size_custom:1.2,header_text_line_height:1.2,header_text_color:null,header_text_weight:"normal",header_text_space_above:.5,header_text_space_above_custom:1.5,source_label:"Source: ",source_name:"",source_url:"",source_name_2:"",source_url_2:"",source_name_3:"",source_url_3:"",footer_note:"",footer_note_secondary:"",footer_text_size:1,footer_text_color:null,footer_styling:!1,footer_text_weight:"normal",footer_align:"justify",footer_align_vertical:"center",footer_border:"none",footer_border_width:1,footer_border_color:"#dddddd",footer_border_style:"solid",footer_border_space:.5,footer_logo_enabled:!1,footer_logo_src:"",footer_logo_src_light:"",footer_logo_alt:"Footer logo",footer_logo_link_url:"",footer_logo_height:1.5,footer_logo_margin:.25,footer_logo_order:"right",footer_timestamp_format:"%H:%M:%S",screenreader_hide_primary:!0,screenreader_text_primary:"",screenreader_label:""});var gi;function vi(e,t,n){Q(n),e=function(e){return function(){return document.body.classList.add("fl-fonts-loaded"),e.apply(this,arguments)}}(e=e||window.template.update);var r=setTimeout(e,isNaN(t)?500:t),o=[];document.fonts&&o.push(document.fonts.ready),li()&&o.push(function(){if(li())return new Promise((function(e){var t=fe(si());function n(){"undefined"!=typeof Flourish&&Flourish.warn&&Flourish.warn("flourish-layout unable to load image: "+t),e()}ri=ri||document.createElement("img"),ri.onload=function(){e()},ri.onerror=n,ri.oncancel=n,ri.src=t}))}()),de()&&o.push(function(){if(de())return new Promise((function(e){var t=fe(gi.header_logo_src);function n(){"undefined"!=typeof Flourish&&Flourish.warn&&Flourish.warn("flourish-layout unable to load image: "+t),e()}(ie=ie||document.createElement("img")).onload=function(){e()},ie.onerror=n,ie.oncancel=n,ie.src=t}))}()),o.length&&(document.fonts||o.push(new Promise((function(e){setTimeout(e,500)}))),Promise.all(o).then((function(t){document.fonts&&t[0].size&&(clearTimeout(r),e(),K()),document.fonts.addEventListener("loadingdone",(function(){clearTimeout(r),e(),K()}))})))}var yi,bi=["header","controls","legend","primary","footer"],_i={};function wi(e){return e.getBoundingClientRect().width}function Ei(e){return e.getBoundingClientRect().height}function Ni(e,t){var n="fl-layout-"+e,r=document.createElement("section");r.className="fl-layout-container",r.id=n+"-container",r.style.width="100%",r.style.position="relative",r.style.order=t;var o=document.createElement("div");return o.className="fl-layout-inner",o.id=n,o.style.width="100%",o.style.position="relative","primary"==e&&(r.style.display="flex",function(e){var t=document.createElement("p");t.id="fl-layout-primary-description";var n=t.style;n.border="0",n.height="1px",n.width="1px",n.margin="-1px",n.overflow="hidden",n.padding="0",n.position="absolute",n.clip="rect(0 0 0 0)",e.appendChild(t)}(r)),r.appendChild(o),_i.wrapper.appendChild(r),{outer:r,inner:o}}function Mi(){return _i.wrapper}function xi(){return _i.sidebar}function Ii(e){return-1!==bi.indexOf(e)?_i[e].inner:null}function Ai(e){return _i[e]||void 0===e?wi("wrapper"==e||void 0===e?_i.wrapper:_i[e].outer):null}function Ci(e){return _i[e]||void 0===e?"wrapper"==e||void 0===e?wi(_i.wrapper)-Fi("horizontal")-Pi("horizontal"):wi(_i[e].inner):null}function Si(e){return _i[e]||void 0===e?Ei("wrapper"==e||void 0===e?_i.wrapper:_i[e].outer):null}function Ti(e){return _i[e]||void 0===e?"wrapper"==e||void 0===e?Ei(_i.wrapper)-Fi("vertical")-Pi("vertical"):Ei(_i[e].inner):null}function Di(){var e="grid"==hi().mode?0:ki(_i.primary.outer);return Ei(_i.primary.outer)-e}function Oi(){return wi(_i.primary.inner)}function Ri(){return gi.screenreader_hide_primary?"hidden":"readable"}function ki(e){return"grid"==hi().mode?parseFloat(getComputedStyle(_i.wrapper).gap)||0:(parseFloat(getComputedStyle(e).paddingTop)||0)+(parseFloat(getComputedStyle(e).paddingBottom)||0)}function Li(){var e=function(){if(Flourish.fixed_height)return window.innerHeight;var e=window.innerWidth;return e>999?650:e>599?575:400}()-Fi("vertical")-Pi("vertical"),t=function(){var e=hi(),t="grid-1"==e.id?[]:["header","controls","legend","footer"];return t.reduce((function(t,n){var r=Si(n);return r>0&&"grid"==e.mode&&(r+=ki()),t+r}),0)}();return e-t-("grid"==hi().mode?0:ki(_i.primary.outer))}function Fi(e){var t;return"left"==e?t=gi.margin_left:"right"==e?t=gi.margin_right:"top"==e?t=gi.margin_top:"bottom"==e?t=gi.margin_bottom:"horizontal"==e?t=gi.margin_left+gi.margin_right:"vertical"==e&&(t=gi.margin_top+gi.margin_bottom),le(t)}function Pi(e){return gi.border.enabled?"vertical"==e?gi.border.top.width+gi.border.bottom.width:"horizontal"==e?gi.border.left.width+gi.border.right.width:null:0}function Ui(e){var t=_i.primary;if(Flourish.fixed_height||void 0===Flourish.fixed_height)t.inner.style.height="";else{var n=null===e,r=n?Li():e;r+ki(_i.primary.outer)!==parseFloat(t.outer.style.height)&&(_i.wrapper.style.height="",t.outer.style.flex="",t.inner.style.height=r+"px",Flourish.setHeight(n?null:Si()))}}function Yi(e){var t=yi.querySelector(".fl-layout-overlay-message");if(e){yi.style.display="block";var n="string"==typeof e?e:"Your web browser does not support the features used by this content. Consider updating to a modern browser.";t.innerHTML=n}else t.textContent="",yi.style.display="none"}function Vi(){return yi}let $i;function Hi(){$i&&qi(),$i=function(e,t){if("string"==typeof e&&(e=document.querySelector(e)),!e)return console.error("No valid target in createScreenshotSVG"),null;const{width:n,height:r,x:o,y:a}=e.getBoundingClientRect(),i=document.createElementNS("http://www.w3.org/2000/svg","svg");return i.id=t,i.classList.add("flourish-screenshot-svg-container"),i.style.left=o+"px",i.style.top=a+"px",i.style.width=n+"px",i.style.height=r+"px",i.style.position="absolute",e.appendChild(i),{addTextElements:function(t){if("string"==typeof t&&(t=e.querySelectorAll(t)),!t)return console.error("No valid els inside addTextElements"),null;for(const e of t){const{x:t,y:n,width:r}=e.getBoundingClientRect(),o=document.createElementNS("http://www.w3.org/2000/svg","text"),{color:a,"font-family":u,"font-size":s,"font-weight":l,"line-height":c,"padding-left":f,"padding-top":d}=window.getComputedStyle(e),h=`${l} ${s} ${u}`,p=z(e.innerText,h,null,Math.ceil(r)),m=isNaN(parseFloat(c))?1.2*parseFloat(s)+"px":c,g=window.getComputedStyle(e.closest("[style*='opacity']")||e).opacity;p.forEach(((e,n)=>{const r=document.createElementNS("http://www.w3.org/2000/svg","tspan");r.innerHTML=e,r.setAttribute("dy",0===n?parseFloat(d):m),r.setAttribute("dx",parseFloat(f)),r.setAttribute("x",t),r.setAttribute("opacity",g),o.appendChild(r)})),o.style.dominantBaseline="text-before-edge",o.setAttribute("x",t+"px"),o.setAttribute("y",n+"px"),o.setAttribute("font-family",u),o.setAttribute("font-size",s),o.setAttribute("font-weight",l),o.setAttribute("fill",a),i.appendChild(o)}return this},addCircleElements:function(t){if("string"==typeof t&&(t=e.querySelectorAll(t)),!t)return console.error("No valid els inside addCircleElements"),null;for(const e of t){const t=document.createElementNS("http://www.w3.org/2000/svg","circle"),{x:n,y:r,width:o}=e.getBoundingClientRect(),a=window.getComputedStyle(e)["background-color"],u=window.getComputedStyle(e.closest("[style*='opacity']")||e).opacity,s=o/2;t.setAttribute("cx",n+s+"px"),t.setAttribute("cy",r+s+"px"),t.setAttribute("r",s+"px"),t.setAttribute("opacity",u),t.setAttribute("fill",a),"rgba(0, 0, 0, 0)"===a&&t.setAttribute("stroke","#CCC"),i.appendChild(t)}return this},addSwatchElements:function(t,n){if("string"==typeof t&&(t=e.querySelectorAll(t)),!t)return console.error("No valid els inside addSwatchElements"),null;"string"==typeof n&&(n=e.querySelectorAll(n));for(const[e,r]of t.entries()){const t=document.createElementNS("http://www.w3.org/2000/svg","rect"),{x:o,y:a,width:u,height:s}=r.getBoundingClientRect(),l=n[e]?.getBoundingClientRect()?.y,c=window.getComputedStyle(r)["background-color"],f=window.getComputedStyle(r).border,[,d,h,p,m]=f.replace(/\s/g,"").match(/rgba?\((\d+(?:\.\d+)?),(\d+(?:\.\d+)?),(\d+(?:\.\d+)?)(?:,(\d+(?:\.\d+)?))?\)/i),g=m?`rgba(${d},${h},${p},${m})`:`rgb(${d},${h},${p})`||"#000",v=f.split(" ")[0]||0;let y=window.getComputedStyle(r)["border-radius"]||0;y=parseFloat(y);const b=window.getComputedStyle(r.closest("[style*='opacity']")||r).opacity;t.setAttribute("x",o),t.setAttribute("y",l||a),t.setAttribute("width",`${u}px`),t.setAttribute("height",`${s}px`),t.setAttribute("rx",y),t.setAttribute("ry",y),t.setAttribute("opacity",b),t.setAttribute("fill",c),t.setAttribute("stroke",g),t.setAttribute("stroke-width",v),"rgba(0, 0, 0, 0)"===c&&t.setAttribute("stroke","#CCC"),i.appendChild(t)}return this},addGradient:function(t,n,r){if("string"==typeof t&&(t=e.querySelector(t)),!t)return console.error("No valid els inside addCircleElements"),null;const o=document.createElementNS("http://www.w3.org/2000/svg","g"),{x:a,y:u,width:s,height:l}=t.getBoundingClientRect(),{max:c,min:f}=r,d=c-f;for(let e=0;e<=s;e++){const t=document.createElementNS("http://www.w3.org/2000/svg","line");t.setAttribute("stroke",n(f+e*d/s)),t.setAttribute("x1",e+a),t.setAttribute("y1",u),t.setAttribute("x2",e+a),t.setAttribute("y2",l+u),o.appendChild(t)}return i.appendChild(o),this},remove:function(){i.remove()}}}(this.getWrapper(),"fl-layout-svg-screenshot-container"),$i.addTextElements("#fl-layout-header-container h2"),$i.addTextElements("#fl-layout-header-container h3"),$i.addTextElements("#fl-layout-header-container p"),$i.addTextElements("#fl-layout-footer .flourish-footer-text")}function qi(){$i.remove(),$i=null}var Bi=Object.freeze({input_decimal_separator:".",output_separators:",."});var ji=Object.freeze({transform_labels:!1,transform:"multiply",multiply_divide_constant:1,exponentiate_constant:0,multiplier:1,prefix:"",n_dec:2,suffix:"",strip_zeros:!0,strip_separator:!0,negative_sign:"-$nk"});function zi(e,t){var n=e.n_dec>=0?Math.floor(e.n_dec):Math.ceil(e.n_dec),r=t(",."+(n>0?n:"0")+"f"),o=t.decimal,a=t.thousands,i=e.strip_zeros&&n>0?new RegExp("\\"+o+"?0+$"):null,u=e.strip_separator&&a,s=e.negative_sign,l=function(e){var t=1;return e.transform_labels&&(t="multiply"===e.transform?e.multiply_divide_constant:"divide"===e.transform?1/e.multiply_divide_constant:Math.pow(10,e.exponentiate_constant)),function(e){return e*t}}(e);return function(t){var o=n>=0?l(t):function(e,t){if(!(t=t>0?Math.floor(t):Math.ceil(t)))return Math.round(e);var n=Math.pow(10,Math.abs(t));return t>0?Math.round(e*n)/n:Math.round(e/n)*n}(l(t),n),c=o<0,f=Math.abs(o),d=u&&a&&f>=1e3&&f<1e4,h=r(f);return i&&(h=h.replace(i,"")),d&&(h=h.replace(a,"")),c&&"none"!==s?"-$nk"===s?"-"+e.prefix+h+e.suffix:"$-nk"===s?e.prefix+"-"+h+e.suffix:"($nk)"===s?"("+e.prefix+h+e.suffix+")":e.prefix+"("+h+")"+e.suffix:e.prefix+h+e.suffix}}function Gi(){return this.declarations=[],this}function Xi(e){return this.selector=e,this.styles=[],this}Gi.prototype.select=function(e){if(!e)return this;var t=new Xi(e);return t.parent=this,this.addDeclaration(t),t},Gi.prototype.addDeclaration=function(e){return this.declarations.push(e),this},Gi.prototype.print=function(){var e="";return this.declarations.forEach((function(t){e+=t.selector+" {\n",t.styles.forEach((function(t){e+="\t"+t[0]+": "+t[1]+";\n"})),e+="}\n\n"})),e},Gi.prototype.clear=function(){return this.declarations=[],this},Xi.prototype.style=function(e,t){var n="function"==typeof value_?t():t;return""!==n&&null!=n&&this.styles.push([e,n]),this},Xi.prototype.select=function(e){return this.parent.select(this.selector+" "+e)};function Wi(e,t){var n=function(e,t){if("string"!=typeof e)return!1;var n=b(e);return n.opacity=void 0!==t?t:1,n}(e,t);return!!n&&n.toString()}document.createElement("canvas").getContext("2d");var Ki=Object.freeze({background:null,font_color:null,background_selected:"#2886b2",font_color_selected:"#ffffff",background_hover:null,font_color_hover:null,border_width:1,border_transparency:.25,border_color:null,border_radius:3});function Qi(e,t,n){for(var r in this._state=e,Ki)void 0===this._state[r]&&(this._state[r]=Ki[r]);return this._layout=n||{},this._styles=new Gi,this._selector=t,this._createStylesheet(),this}Qi.prototype._createStylesheet=function(){this._stylesheet=document.createElement("style"),this._stylesheet.className="fl-ui-styles-button",document.head.appendChild(this._stylesheet)},Qi.prototype.update=function(){this._styles.clear();var e=this._state.background||this._layout.background_color||"#ffffff",t=this._state.font_color||this._layout.font_color||"#333333",n=Wi(this._state.border_color||t,this._state.border_transparency),r=window.getComputedStyle(document.body).direction||"ltr";this._styles.select(this._selector+".fl-control.hidden").style("display","none"),this._styles.select(this._selector+".fl-control .button").style("overflow","hidden").style("white-space","nowrap").style("margin","0 2px 0 0 !important").style("background-color",e).style("color",t).style("border",this._state.border_width+"px solid "+n).style("border-radius",this._state.border_radius+"px"),this._styles.select(this._selector+".fl-control .button:hover").style("background-color",this._state.background_hover||e).style("color",this._state.font_color_hover||t),this._styles.select(this._selector+".fl-control .button.selected").style("background-color",this._state.background_selected).style("color",this._state.font_color_selected),this._styles.select(this._selector+".grouped.fl-control .button").style("border-right","none").style("border-radius","0").style("margin","0");var o="rtl"===r,a=o?":last-child":":first-child",i=o?":first-child":":last-child";this._styles.select(this._selector+".grouped.fl-control .button"+a).style("border-radius",this._state.border_radius+"px 0 0 "+this._state.border_radius+"px"),this._styles.select(this._selector+".grouped.fl-control .button"+i).style("border-radius","0 "+this._state.border_radius+"px "+this._state.border_radius+"px 0").style("border-right",this._state.border_width+"px solid "+n),this._styles.select(this._selector+".grouped.fl-control.fixed-width:not(.hidden)").style("width",this._state.grouped_width+"%"),this._stylesheet.innerHTML=this._styles.print()};var Zi=Object.freeze({background:null,font_color:null,border_style:"bottom",border_width:1,border_color:null,border_transparency:.25,border_radius:3});function Ji(e,t,n){for(var r in this._state=e,Zi)void 0===this._state[r]&&(this._state[r]=Zi[r]);return this._layout=n||{},this._styles=new Gi,this._selector=t,this._createStylesheet(),this}Ji.prototype._createStylesheet=function(){this._stylesheet=document.createElement("style"),this._stylesheet.className="fl-ui-styles-dropdown",document.head.appendChild(this._stylesheet)},Ji.prototype.update=function(){this._styles.clear();var e=this._state.background||this._layout.background_color||"#ffffff",t=this._state.font_color||this._layout.font_color||"#333333",n=Wi(this._state.border_color||t,this._state.border_transparency);this._styles.select(this._selector+" .heading").style("margin-bottom","0.4em"),this._styles.select(this._selector).style("pointer-events","all"),this._styles.select(this._selector+" select").style("display","inline-block").style("cursor","pointer").style("overflow","hidden").style("white-space","nowrap").style("position","relative").style("font-family","inherit").style("background-color",e).style("color",t).style("border","bottom"==this._state.border_style?this._state.border_width+"px solid transparent":this._state.border_width+"px solid "+n).style("border-bottom","bottom"==this._state.border_style?this._state.border_width+"px solid "+n:null).style("border-radius","bottom"==this._state.border_style?null:this._state.border_radius+"px"),this._styles.select(this._selector+":after").style("right","bottom"==this._state.border_style?null:this._state.border_width+5+"px").style("color",t),this._styles.select(this._selector+" .main .current").style("line-height","1em").style("height","100%").style("max-width","88%").style("display","inline-block").style("overflow","hidden").style("vertical-align","top"),this._styles.select(this._selector+" .list").style("top","2px").style("min-width","100%").style("padding","2px").style("display","none").style("max-height","200px").style("overflow-y","auto").style("box-shadow","0 1px 4px rgba(0, 0, 0, .1)").style("margin-top","2px").select(".list-item").style("line-height","1em").style("cursor","pointer").style("font-weight","normal").style("color",t),this._styles.select(this._selector+".open .list").style("display","block").style("border",this._state.border_width+"px solid "+n).style("background-color",e).style("z-index","1").style("animation","dropdown-out 200ms"),this._styles.select(this._selector+" .list-item:hover").style("opacity","0.6"),this._styles.select(this._selector+" .list-item.selected, "+this._selector+" .list-item.selected:hover").style("opacity","1").style("cursor","default"),"bottom"==this._state.border_style&&this._styles.select(this._selector+" .main").style("padding-left",0).style("padding-right","0.1rem"),this._stylesheet.innerHTML=this._styles.print()};var eu={layout:{},number_format:{},localization:{},external_write:{},animation_duration:250,questions:[],question_flow:"horizontal",navigation:null,section:"question",parser:null,default_info:[{question_types:["number input"],value:0},{question_types:["text input","dropdown","single response buttons","multi response buttons","single date picker","range date picker","multi date picker"],value:""},{question_types:["rating","single slider","range slider",""],value:null}],design:{advanced:!1,align_horizontal:"center",align_vertical:"center",max_width:70,margin_vertical:2.5,padding_vertical:2.5,padding_horizontal:1.5,border_type:"border-bottom",border_width:1.5,border_style:"solid",border_color:"#DDDDDD",border_radius:3,background:null,shadow:!0,shadow_values:"2px 2px 30px",shadow_color:"rgba(0,0,0,0.05)",question:{margin_vertical:.5,margin_horizontal:.2,padding:0,font_size:1.6,font_size_custom:1.4,font_color:null,font_style:"normal",font_weight:"normal",line_height:1.4,border_radius:0,bg_color:null,bg_opacity:.5},context:{margin_vertical:.5,margin_horizontal:.2,font_size:1.4,font_color:null,font_style:"normal",font_weight:"normal",line_height:1.4},answer:{margin_vertical:1,margin_horizontal:.2},controls:{advanced:!1,position:"top_right",button:{symbol_back:"←",symbol_forward:"→",margin:0,padding_factor:2,font_size:1,font_color:"#000000",font_style:"normal",font_weight:"normal",border_width:0,border_style:"solid",border_color:"#E0E6EB",border_radius:3,bg_color:"#FFFFFF",bg_opacity:.7}},progress:{show:!0,position:"top",height:.25,margin:.05,bg_color:"#68a0f0",bg_opacity:.8}},submit:{flex_direction:"column",border:!0,bg_type:"color",bg_color:null,bg_image_src:"",bg_image_size:"cover",comment:{text:"Hit this button ↓ to see your results",style_toggle:!1,margin:.5,font_size:"custom",font_size_custom:1,font_color:null,font_style:"normal",font_weight:"normal",line_height:1.2},button:{text:"Submit",style_toggle:!1,margin:.5,padding_factor:2.5,font_size:1.4,font_size_custom:1.4,font_style:"normal",font_weight:"bold",border_style:"solid",box_shadow:!0,use_default_styles:!0,bg_color:"#FFFFFF",bg_color_hover:"#F5F9FF",font_color:"#000000",font_color_hover:null,border_width:1,border_color:null,border_transparency:1,border_radius:5}},result:{variables:"var_a = q_3 + 10\nvar_b = AVERAGE([var_a], q_4)\nvar_c = q_5\nvar_d = q_6\nvar_e = q_7\nvar_f = q_8\nvar_g = q_9",input:"<i>Use variables set or calculated in the <b>Variables</b> field:</i> <br><br>\n\nvar_a: {{var_a}}<br>\nvar_b: {{var_b}}<br>\nvar_c: {{var_c}}<br>\nvar_d: {{var_d}}<br>\nvar_e: {{var_e}}<br>\nvar_f: {{var_f}}<br>\nvar_g: {{var_g}}<br><br>\n\n<i>...or use variable values directly in the <b>Result</b> field</i>:<br><br>\n\nq_10: {{q_10}}<br>\nq_11: {{q_11}}<br>\nq_12: {{q_12}}<br>\nq_13: {{q_13}}<br>\nq_14: {{q_14}}",advanced:!1,border_type:"border",border_width:1,border_style:"solid",border_color:"#DDDDDD",font_size:1.4,font_size_custom:1.4,font_color:null,font_style:"normal",font_weight:"normal",line_height:2,bg_type:"color",bg_color:null,bg_image_src:"",bg_image_size:"cover"},dropdown_style:{},dropdown:{padding_factor:2.5,font_size:1,font_size_custom:1,font_style:"normal",font_weight:"normal",border_style:"solid",shadow:!0,shadow_values:"2px 2px 2px",shadow_color:"rgba(0,0,0,0.05)",placeholder:"Please select..."},input:{input_advanced:!1,date_advanced:!0,color:null,background_color:null,width:4,padding:.25,margin:.2,border_width:1,border_style:"solid",border_color:"#CCCCCC",border_radius:3,align:"start"},number:{input_placeholder:""},text:{input_placeholder:""},button_style:{background_selected:"#73A0EA",background_hover:"#F5F9FF"},button:{container_width:100,margin:.5,padding_factor:2.5,justify_content:"center",border_style:"solid",font_size:1},date:{advanced:!1,format:"Y-m-d",width:16,padding:.25,margin:.2,input_placeholder:"Select Date...",border_width:1,border_style:"solid",border_color:"#CCCCCC",border_radius:3,align:"start",calendar_position:{vertical:"auto",horizontal:"left"}},rating:{advanced:!1,container_width:80,wrap_margin_vertical:.2,wrap_margin_horizontal:.4,wrap_padding_vertical:.2,wrap_padding_horizontal:.4,label_width:2,label_color:null,label_position:"above",icon_type:"star",icon_width:2,icon_height:2,icon_margin:.2,icon_fill_base:"#EEEEEE",icon_stroke_base:"#AAAAAA",icon_fill_active:"#E9AC54",icon_stroke_active:"#D1810F",icon_stroke_width:2},slider:{advanced:!1,container_width:100,wrap_margin_vertical:1,wrap_margin_horizontal:.4,ticks:!1,tooltips:!0,track_height:.5,track_border_radius:3,track_base_color:"#DDDDDD",track_active_color:"#679FF0",track_border_color:null,track_border_width:1,handle_size:300,handle_shape:"circle",handle_width:150,handle_color:"#679FF0",handle_border_radius:3,handle_box_shadow:!1,handle_border_color:"#FFFFFF",handle_border_width:1,tick_color:null,tick_padding:.5,tick_number_padding:.5,tooltip_background:!1}};var tu=Object.freeze({enabled:!1,endpoint:""});function nu(e,t,n){if(function(e,t){return e?Array.isArray(e)||null===e?(Flourish.warn("The data to send has to be a Javascript object (excluding Arrays)"),!1):!!t||(Flourish.warn("Your endpoint URL is not defined - please set one."),!1):(Flourish.warn("There's no data to send"),!1)}(e,t.endpoint)){var r=new XMLHttpRequest;r.open("POST",t.endpoint),r.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),r.onreadystatechange=function(){4===r.readyState&&200===r.status&&n&&console.log("Request sent and response received 📯",r.response),4===r.readyState&&200!==r.status&&Flourish.warn(`Application level issue. The server responded with a status of ${r.status}`)},r.onerror=function(){Flourish.warn("Network level issue.")};var o=Object.keys(e).map((function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])})).join("&");o+=`&host=${encodeURIComponent(window.location.host)}`,o+=`&pathname=${encodeURIComponent(window.location.pathname)}`,n&&(console.log("params from external write:",t),console.log("encoded from external write:",o)),r.send(o)}}Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(e){var t=this;do{if(Element.prototype.matches.call(t,e))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null});const ru=function(e){for(var t in gi=e,mi)void 0===gi[t]&&(gi[t]=mi[t]);return(G=document.createElement("style")).id="flourish-page-styles",G.type="text/css",document.head.appendChild(G),_i.wrapper=function(){var e=document.createElement("div");e.id="fl-layout-wrapper-outer",e.style.display="flex";var t=document.createElement("main");t.id="fl-layout-wrapper",t.style.display="flex",t.style.flexGrow="1",t.style.flexDirection="column",t.style.boxSizing="border-box",t.style.overflow="hidden";var n=document.createElement("aside");return n.id="fl-layout-sidebar",n.style.position="relative",_i.sidebar=n,e.appendChild(t),e.appendChild(n),document.body.appendChild(e),t}(),bi.forEach((function(e,t){_i[e]=Ni(e,t)})),Ii("header").appendChild(function(){(ee=document.createElement("header")).className="flourish-header";var e=document.createElement("hgroup");return te=document.createElement("h2"),ne=document.createElement("h3"),re=document.createElement("p"),(oe=document.createElement("div")).className="clearfix",(ae=document.createElement("div")).className="flourish-header-logo-container",ee.appendChild(ae),ee.appendChild(e),e.appendChild(te),e.appendChild(ne),ee.appendChild(re),ee.appendChild(oe),ee}()),Ii("footer").appendChild(ii()),_i.primary.outer.style.overflow="hidden",function(){var e=_i.primary.outer;e.style.position="relative",(yi=document.createElement("div")).id="fl-layout-overlay";var t=yi.style;t.position="absolute",t.display="none",t.width="100%",t.height="100%",t.top=0,t.left=0,t.backgroundColor="rgb(200,200,200)",t.zIndex=999999,t.pointerEvents="none";var n=document.createElement("p");n.className="fl-layout-overlay-message",(t=n.style).color="#333333",t.fontSize="1.5rem",t.paddingLeft="15%",t.paddingRight="15%",t.width="100%",t.boxSizing="border-box",t.position="absolute",t.top="50%",t.transform="translate(0, -50%)",t.margin="0",t.textAlign="center",yi.appendChild(n),e.appendChild(yi)}(),{update:di,getWrapper:Mi,getSidebar:xi,getSection:Ii,getOuterWidth:Ai,getInnerWidth:Ci,getOuterHeight:Si,getInnerHeight:Ti,getPrimaryHeight:Di,getPrimaryWidth:Oi,getDefaultPrimaryHeight:Li,getPrimaryScreenReadability:Ri,setHeight:Ui,showOverlay:Yi,remToPx:le,getOverlay:Vi,awaitFonts:vi,prepareScreenshotSVG:Hi,clearScreenshotSVG:qi}}(eu.layout),ou=function(e){for(var t in Bi)void 0===e[t]&&(e[t]=Bi[t]);return{getParser:function(){return t=e.input_decimal_separator,n=new RegExp("[^-0-9eE"+t+"]","g"),function(e){return"number"==typeof e?e:""===e||void 0===e?NaN:parseFloat(e.replace(n,"").replace(t,"."))};var t,n},getFormatterFunction:function(){return t=e.output_separators,n=t.length>1,r=n?t.charAt(1):t.charAt(0),o=n?t.charAt(0):"",a=Ma(function(e,t){return{decimal:e,thousands:t,grouping:[3],currency:["",""]}}(r,o)).format,a.decimal=r,a.thousands=o,a;var t,n,r,o,a}}}(eu.localization),au=function(e){for(var t in ji)void 0===e[t]&&(e[t]=ji[t]);return function(t){return zi(e,t)}}(eu.number_format),iu=function(e,t,n){return new Ji(e,t,n)}(eu.dropdown_style,".answer-dropdown-container",eu.layout),uu=function(e,t,n){return new Qi(e,t,n)}(eu.button_style,".answer-button-container",eu.layout),su=function(e){for(var t in tu)void 0===e[t]&&(e[t]=tu[t]);return nu}(eu.external_write);var lu={},cu="http://www.w3.org/1999/xhtml",fu={svg:"http://www.w3.org/2000/svg",xhtml:cu,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function du(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),fu.hasOwnProperty(t)?{space:fu[t],local:e}:e}function hu(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===cu&&t.documentElement.namespaceURI===cu?t.createElement(e):t.createElementNS(n,e)}}function pu(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function mu(e){var t=du(e);return(t.local?pu:hu)(t)}function gu(){}function vu(e){return null==e?gu:function(){return this.querySelector(e)}}function yu(e){return null==e?[]:Array.isArray(e)?e:Array.from(e)}function bu(){return[]}function _u(e){return null==e?bu:function(){return this.querySelectorAll(e)}}function wu(e){return function(){return this.matches(e)}}function Eu(e){return function(t){return t.matches(e)}}var Nu=Array.prototype.find;function Mu(){return this.firstElementChild}var xu=Array.prototype.filter;function Iu(){return Array.from(this.children)}function Au(e){return new Array(e.length)}function Cu(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}function Su(e,t,n,r,o,a){for(var i,u=0,s=t.length,l=a.length;u<l;++u)(i=t[u])?(i.__data__=a[u],r[u]=i):n[u]=new Cu(e,a[u]);for(;u<s;++u)(i=t[u])&&(o[u]=i)}function Tu(e,t,n,r,o,a,i){var u,s,l,c=new Map,f=t.length,d=a.length,h=new Array(f);for(u=0;u<f;++u)(s=t[u])&&(h[u]=l=i.call(s,s.__data__,u,t)+"",c.has(l)?o[u]=s:c.set(l,s));for(u=0;u<d;++u)l=i.call(e,a[u],u,a)+"",(s=c.get(l))?(r[u]=s,s.__data__=a[u],c.delete(l)):n[u]=new Cu(e,a[u]);for(u=0;u<f;++u)(s=t[u])&&c.get(h[u])===s&&(o[u]=s)}function Du(e){return e.__data__}function Ou(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}function Ru(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function ku(e){return function(){this.removeAttribute(e)}}function Lu(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Fu(e,t){return function(){this.setAttribute(e,t)}}function Pu(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Uu(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}function Yu(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function Vu(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function $u(e){return function(){this.style.removeProperty(e)}}function Hu(e,t,n){return function(){this.style.setProperty(e,t,n)}}function qu(e,t,n){return function(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function Bu(e,t){return e.style.getPropertyValue(t)||Vu(e).getComputedStyle(e,null).getPropertyValue(t)}function ju(e){return function(){delete this[e]}}function zu(e,t){return function(){this[e]=t}}function Gu(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}function Xu(e){return e.trim().split(/^|\s+/)}function Wu(e){return e.classList||new Ku(e)}function Ku(e){this._node=e,this._names=Xu(e.getAttribute("class")||"")}function Qu(e,t){for(var n=Wu(e),r=-1,o=t.length;++r<o;)n.add(t[r])}function Zu(e,t){for(var n=Wu(e),r=-1,o=t.length;++r<o;)n.remove(t[r])}function Ju(e){return function(){Qu(this,e)}}function es(e){return function(){Zu(this,e)}}function ts(e,t){return function(){(t.apply(this,arguments)?Qu:Zu)(this,e)}}function ns(){this.textContent=""}function rs(e){return function(){this.textContent=e}}function os(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}function as(){this.innerHTML=""}function is(e){return function(){this.innerHTML=e}}function us(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}function ss(){this.nextSibling&&this.parentNode.appendChild(this)}function ls(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function cs(){return null}function fs(){var e=this.parentNode;e&&e.removeChild(this)}function ds(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function hs(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function ps(e){return function(){var t=this.__on;if(t){for(var n,r=0,o=-1,a=t.length;r<a;++r)n=t[r],e.type&&n.type!==e.type||n.name!==e.name?t[++o]=n:this.removeEventListener(n.type,n.listener,n.options);++o?t.length=o:delete this.__on}}}function ms(e,t,n){return function(){var r,o=this.__on,a=function(e){return function(t){e.call(this,t,this.__data__)}}(t);if(o)for(var i=0,u=o.length;i<u;++i)if((r=o[i]).type===e.type&&r.name===e.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=a,r.options=n),void(r.value=t);this.addEventListener(e.type,a,n),r={type:e.type,name:e.name,value:t,listener:a,options:n},o?o.push(r):this.__on=[r]}}function gs(e,t,n){var r=Vu(e),o=r.CustomEvent;"function"==typeof o?o=new o(t,n):(o=r.document.createEvent("Event"),n?(o.initEvent(t,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(t,!1,!1)),e.dispatchEvent(o)}function vs(e,t){return function(){return gs(this,e,t)}}function ys(e,t){return function(){return gs(this,e,t.apply(this,arguments))}}Cu.prototype={constructor:Cu,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}},Ku.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var bs=[null];function _s(e,t){this._groups=e,this._parents=t}function ws(){return new _s([[document.documentElement]],bs)}function Es(e){return"string"==typeof e?new _s([[document.querySelector(e)]],[document.documentElement]):new _s([[e]],bs)}function Ns(e){return"string"==typeof e?new _s([document.querySelectorAll(e)],[document.documentElement]):new _s([yu(e)],bs)}_s.prototype=ws.prototype={constructor:_s,select:function(e){"function"!=typeof e&&(e=vu(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var a,i,u=t[o],s=u.length,l=r[o]=new Array(s),c=0;c<s;++c)(a=u[c])&&(i=e.call(a,a.__data__,c,u))&&("__data__"in a&&(i.__data__=a.__data__),l[c]=i);return new _s(r,this._parents)},selectAll:function(e){e="function"==typeof e?function(e){return function(){return yu(e.apply(this,arguments))}}(e):_u(e);for(var t=this._groups,n=t.length,r=[],o=[],a=0;a<n;++a)for(var i,u=t[a],s=u.length,l=0;l<s;++l)(i=u[l])&&(r.push(e.call(i,i.__data__,l,u)),o.push(i));return new _s(r,o)},selectChild:function(e){return this.select(null==e?Mu:function(e){return function(){return Nu.call(this.children,e)}}("function"==typeof e?e:Eu(e)))},selectChildren:function(e){return this.selectAll(null==e?Iu:function(e){return function(){return xu.call(this.children,e)}}("function"==typeof e?e:Eu(e)))},filter:function(e){"function"!=typeof e&&(e=wu(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var a,i=t[o],u=i.length,s=r[o]=[],l=0;l<u;++l)(a=i[l])&&e.call(a,a.__data__,l,i)&&s.push(a);return new _s(r,this._parents)},data:function(e,t){if(!arguments.length)return Array.from(this,Du);var n=t?Tu:Su,r=this._parents,o=this._groups;"function"!=typeof e&&(e=function(e){return function(){return e}}(e));for(var a=o.length,i=new Array(a),u=new Array(a),s=new Array(a),l=0;l<a;++l){var c=r[l],f=o[l],d=f.length,h=Ou(e.call(c,c&&c.__data__,l,r)),p=h.length,m=u[l]=new Array(p),g=i[l]=new Array(p);n(c,f,m,g,s[l]=new Array(d),h,t);for(var v,y,b=0,_=0;b<p;++b)if(v=m[b]){for(b>=_&&(_=b+1);!(y=g[_])&&++_<p;);v._next=y||null}}return(i=new _s(i,r))._enter=u,i._exit=s,i},enter:function(){return new _s(this._enter||this._groups.map(Au),this._parents)},exit:function(){return new _s(this._exit||this._groups.map(Au),this._parents)},join:function(e,t,n){var r=this.enter(),o=this,a=this.exit();return"function"==typeof e?(r=e(r))&&(r=r.selection()):r=r.append(e+""),null!=t&&(o=t(o))&&(o=o.selection()),null==n?a.remove():n(a),r&&o?r.merge(o).order():o},merge:function(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,o=n.length,a=r.length,i=Math.min(o,a),u=new Array(o),s=0;s<i;++s)for(var l,c=n[s],f=r[s],d=c.length,h=u[s]=new Array(d),p=0;p<d;++p)(l=c[p]||f[p])&&(h[p]=l);for(;s<o;++s)u[s]=n[s];return new _s(u,this._parents)},selection:function(){return this},order:function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r,o=e[t],a=o.length-1,i=o[a];--a>=0;)(r=o[a])&&(i&&4^r.compareDocumentPosition(i)&&i.parentNode.insertBefore(r,i),i=r);return this},sort:function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=Ru);for(var n=this._groups,r=n.length,o=new Array(r),a=0;a<r;++a){for(var i,u=n[a],s=u.length,l=o[a]=new Array(s),c=0;c<s;++c)(i=u[c])&&(l[c]=i);l.sort(t)}return new _s(o,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,a=r.length;o<a;++o){var i=r[o];if(i)return i}return null},size:function(){let e=0;for(const t of this)++e;return e},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var o,a=t[n],i=0,u=a.length;i<u;++i)(o=a[i])&&e.call(o,o.__data__,i,a);return this},attr:function(e,t){var n=du(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==t?n.local?Lu:ku:"function"==typeof t?n.local?Yu:Uu:n.local?Pu:Fu)(n,t))},style:function(e,t,n){return arguments.length>1?this.each((null==t?$u:"function"==typeof t?qu:Hu)(e,t,null==n?"":n)):Bu(this.node(),e)},property:function(e,t){return arguments.length>1?this.each((null==t?ju:"function"==typeof t?Gu:zu)(e,t)):this.node()[e]},classed:function(e,t){var n=Xu(e+"");if(arguments.length<2){for(var r=Wu(this.node()),o=-1,a=n.length;++o<a;)if(!r.contains(n[o]))return!1;return!0}return this.each(("function"==typeof t?ts:t?Ju:es)(n,t))},text:function(e){return arguments.length?this.each(null==e?ns:("function"==typeof e?os:rs)(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?as:("function"==typeof e?us:is)(e)):this.node().innerHTML},raise:function(){return this.each(ss)},lower:function(){return this.each(ls)},append:function(e){var t="function"==typeof e?e:mu(e);return this.select((function(){return this.appendChild(t.apply(this,arguments))}))},insert:function(e,t){var n="function"==typeof e?e:mu(e),r=null==t?cs:"function"==typeof t?t:vu(t);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(fs)},clone:function(e){return this.select(e?hs:ds)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,t,n){var r,o,a=function(e){return e.trim().split(/^|\s+/).map((function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}}))}(e+""),i=a.length;if(!(arguments.length<2)){for(u=t?ms:ps,r=0;r<i;++r)this.each(u(a[r],t,n));return this}var u=this.node().__on;if(u)for(var s,l=0,c=u.length;l<c;++l)for(r=0,s=u[l];r<i;++r)if((o=a[r]).type===s.type&&o.name===s.name)return s.value},dispatch:function(e,t){return this.each(("function"==typeof t?ys:vs)(e,t))},[Symbol.iterator]:function*(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r,o=e[t],a=0,i=o.length;a<i;++a)(r=o[a])&&(yield r)}};class Ms{constructor(e){this.data=[],this.max_index,this.current_index=0,this._init(e)}_init(e){const t=e.map((e=>({order_index:null,element_type:"question",progress_bar:!0,progress_bar_show:!0,allowed:!0})));this.data=[...t,{order_index:null,element_type:"submit",progress_bar:!1,progress_bar_show:!1,allowed:!0},{order_index:null,element_type:"result",progress_bar:!1,progress_bar_show:!1,allowed:!1}].map(((e,t)=>({...e,order_index:t}))),this.max_index=this.data.length-1}getOrderIndex(e){const t=this.data.filter((t=>t.element_type===e));if(1!==t.length)throw Error("Navigation index can only be returned for single objects");return t[0].order_index}setCurrentIndex(e){"+"===e&&this.data[this.current_index+1]&&this.data[this.current_index+1].allowed&&(this.current_index=Math.min(this.current_index+1,this.max_index)),"-"===e&&this.data[this.current_index-1]&&this.data[this.current_index-1].allowed&&(this.current_index=Math.max(this.current_index-1,0))}handler(e){this.setCurrentIndex(e),this.setCurrentSection(this.data[this.current_index].element_type),Ns("#wrapper-template .element").style("display","none"),Es(`#wrapper-template .element-${this.current_index}`).style("display","flex");const t=this.data[this.current_index];Es("#wrapper-progress").style("display",t.progress_bar_show?"flex":"none")}getNumberOfProgressBars(){return this.data.filter((e=>e.order_index<=this.current_index&&e.progress_bar)).length}toggleResultAccess(e){this.data.forEach((t=>{"result"===t.element_type&&(t.allowed=e)}))}getNavigationDatum(){return this.data[this.current_index]}setCurrentSection(e){eu.section=e}}function xs(e,t){const n=new Map(t);let r=new Map(t.map((e=>[e[0],e[1].value])));return e.length&&function(e,t){const n=t.map((e=>e[0]));for(let t=0;t<e.length;t++){const r=e[t],o=r.split(":");if(!r)return!1;if(!r.includes(":"))return Flourish.warn("Make sure your number specifications in the Answers column are either blank or follow the format 'min: value :: max: value' etc. For example, 'min: 0 :: max: 50'."),!1;if(!o[1])return!1;if(!n.includes(o[0]))return Flourish.warn(`Your number specification key '${o[0]}' in the Answers binding is not valid`),!1}return!0}(e,t)?(e.forEach((e=>{const t=e.split(":");"number"===n.get(t[0]).type&&(t[1]=+t[1]),"string"===n.get(t[0]).type&&(t[1]=t[1]?String(t[1]):""),"value_array"===n.get(t[0]).type&&(t[1]=t[1].split(",").map((e=>+e)).filter(((e,t)=>t<2))),void 0===n.get(t[0])&&Flourish.warn(`Numeric option "${t[0]}" unknown.`),r.set(t[0],t[1])})),r):r}function Is(e,t){const n=(r=e.answers_raw).length?r.split("::").map((e=>e.trim())):[];var r;let o;switch(e.question_type){case"number input":o=function(e,t){return{...e,answers:t,numeric_options:xs(t,[["min",{value:"",type:"number"}],["max",{value:"",type:"number"}],["step",{value:"",type:"number"}]])}}(e,n);break;case"single slider":case"range slider":o=function(e,t){const n=xs(t,[["min",{value:0,type:"number"}],["max",{value:100,type:"number"}],["step",{value:1,type:"number"}],["value",{value:[50],type:"value_array"}],["prefix",{value:"",type:"string"}],["suffix",{value:"",type:"string "}]]),r=n.get("value").length;return"single slider"===e.question_type&&1!==r&&Flourish.warn(`Single sliders must have 1 value but this slider has ${r} values`),"range slider"===e.question_type&&2!==r&&Flourish.warn(`Range sliders must have 2 values but this slider has ${r} value(s)`),{...e,answers:t,numeric_options:n}}(e,n);break;case"rating":o=function(e,t,n){return e.answers=t.map((e=>{const t=e.split(">>").map((e=>e.trim()));return{order_index:n,answer:t[0],answer_label:t[1]||""}})),e}(e,n,t);break;default:o=function(e,t,n){return e.answers=t.map((e=>({order_index:n,answer:e}))),e}(e,n,t)}return o}function As(){return!!function(){for(const e of lu.questions)if(["single response buttons","multi response buttons","dropdown","rating"].includes(e.question_type)&&(!e.answers_raw||!e.answers_raw.length))return Flourish.warn(`Your question type "${e.question_type}" requires answers, but you don't seem to have provided any?`),!1;return!0}()&&(eu.navigation=new Ms(lu.questions),eu.questions=lu.questions.map(((e,t)=>{const n=eu.navigation.data[t].order_index;return{...Is(e,n),value:[],order_index:n}})),!0)}var Cs={value:function(){}};function Ss(){for(var e,t=0,n=arguments.length,r={};t<n;++t){if(!(e=arguments[t]+"")||e in r||/[\s.]/.test(e))throw new Error("illegal type: "+e);r[e]=[]}return new Ts(r)}function Ts(e){this._=e}function Ds(e,t){for(var n,r=0,o=e.length;r<o;++r)if((n=e[r]).name===t)return n.value}function Os(e,t,n){for(var r=0,o=e.length;r<o;++r)if(e[r].name===t){e[r]=Cs,e=e.slice(0,r).concat(e.slice(r+1));break}return null!=n&&e.push({name:t,value:n}),e}Ts.prototype=Ss.prototype={constructor:Ts,on:function(e,t){var n,r,o=this._,a=(r=o,(e+"").trim().split(/^|\s+/).map((function(e){var t="",n=e.indexOf(".");if(n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),e&&!r.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:t}}))),i=-1,u=a.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++i<u;)if(n=(e=a[i]).type)o[n]=Os(o[n],e.name,t);else if(null==t)for(n in o)o[n]=Os(o[n],e.name,null);return this}for(;++i<u;)if((n=(e=a[i]).type)&&(n=Ds(o[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Ts(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,o=new Array(n),a=0;a<n;++a)o[a]=arguments[a+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=0,n=(r=this._[e]).length;a<n;++a)r[a].value.apply(t,o)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],o=0,a=r.length;o<a;++o)r[o].value.apply(t,n)}};var Rs,ks,Ls=0,Fs=0,Ps=0,Us=0,Ys=0,Vs=0,$s="object"==typeof performance&&performance.now?performance:Date,Hs="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function qs(){return Ys||(Hs(Bs),Ys=$s.now()+Vs)}function Bs(){Ys=0}function js(){this._call=this._time=this._next=null}function zs(e,t,n){var r=new js;return r.restart(e,t,n),r}function Gs(){Ys=(Us=$s.now())+Vs,Ls=Fs=0;try{!function(){qs(),++Ls;for(var e,t=Rs;t;)(e=Ys-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Ls}()}finally{Ls=0,function(){var e,t,n=Rs,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:Rs=t);ks=e,Ws(r)}(),Ys=0}}function Xs(){var e=$s.now(),t=e-Us;t>1e3&&(Vs-=t,Us=e)}function Ws(e){Ls||(Fs&&(Fs=clearTimeout(Fs)),e-Ys>24?(e<1/0&&(Fs=setTimeout(Gs,e-$s.now()-Vs)),Ps&&(Ps=clearInterval(Ps))):(Ps||(Us=$s.now(),Ps=setInterval(Xs,1e3)),Ls=1,Hs(Gs)))}function Ks(e,t,n){var r=new js;return t=null==t?0:+t,r.restart((n=>{r.stop(),e(n+t)}),t,n),r}js.prototype=zs.prototype={constructor:js,restart:function(e,t,n){if("function"!=typeof e)throw new TypeError("callback is not a function");n=(null==n?qs():+n)+(null==t?0:+t),this._next||ks===this||(ks?ks._next=this:Rs=this,ks=this),this._call=e,this._time=n,Ws()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ws())}};var Qs=Ss("start","end","cancel","interrupt"),Zs=[];function Js(e,t,n,r,o,a){var i=e.__transition;if(i){if(n in i)return}else e.__transition={};!function(e,t,n){var r,o=e.__transition;function a(e){n.state=1,n.timer.restart(i,n.delay,n.time),n.delay<=e&&i(e-n.delay)}function i(a){var l,c,f,d;if(1!==n.state)return s();for(l in o)if((d=o[l]).name===n.name){if(3===d.state)return Ks(i);4===d.state?(d.state=6,d.timer.stop(),d.on.call("interrupt",e,e.__data__,d.index,d.group),delete o[l]):+l<t&&(d.state=6,d.timer.stop(),d.on.call("cancel",e,e.__data__,d.index,d.group),delete o[l])}if(Ks((function(){3===n.state&&(n.state=4,n.timer.restart(u,n.delay,n.time),u(a))})),n.state=2,n.on.call("start",e,e.__data__,n.index,n.group),2===n.state){for(n.state=3,r=new Array(f=n.tween.length),l=0,c=-1;l<f;++l)(d=n.tween[l].value.call(e,e.__data__,n.index,n.group))&&(r[++c]=d);r.length=c+1}}function u(t){for(var o=t<n.duration?n.ease.call(null,t/n.duration):(n.timer.restart(s),n.state=5,1),a=-1,i=r.length;++a<i;)r[a].call(e,o);5===n.state&&(n.on.call("end",e,e.__data__,n.index,n.group),s())}function s(){for(var r in n.state=6,n.timer.stop(),delete o[t],o)return;delete e.__transition}o[t]=n,n.timer=zs(a,0,n.time)}(e,n,{name:t,index:r,group:o,on:Qs,tween:Zs,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:0})}function el(e,t){var n=nl(e,t);if(n.state>0)throw new Error("too late; already scheduled");return n}function tl(e,t){var n=nl(e,t);if(n.state>3)throw new Error("too late; already running");return n}function nl(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function rl(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function ol(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function al(){}var il=.7,ul=1/il,sl="\\s*([+-]?\\d+)\\s*",ll="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",cl="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",fl=/^#([0-9a-f]{3,8})$/,dl=new RegExp("^rgb\\("+[sl,sl,sl]+"\\)$"),hl=new RegExp("^rgb\\("+[cl,cl,cl]+"\\)$"),pl=new RegExp("^rgba\\("+[sl,sl,sl,ll]+"\\)$"),ml=new RegExp("^rgba\\("+[cl,cl,cl,ll]+"\\)$"),gl=new RegExp("^hsl\\("+[ll,cl,cl]+"\\)$"),vl=new RegExp("^hsla\\("+[ll,cl,cl,ll]+"\\)$"),yl={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function bl(){return this.rgb().formatHex()}function _l(){return this.rgb().formatRgb()}function wl(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=fl.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?El(t):3===n?new xl(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?Nl(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?Nl(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=dl.exec(e))?new xl(t[1],t[2],t[3],1):(t=hl.exec(e))?new xl(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=pl.exec(e))?Nl(t[1],t[2],t[3],t[4]):(t=ml.exec(e))?Nl(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=gl.exec(e))?Sl(t[1],t[2]/100,t[3]/100,1):(t=vl.exec(e))?Sl(t[1],t[2]/100,t[3]/100,t[4]):yl.hasOwnProperty(e)?El(yl[e]):"transparent"===e?new xl(NaN,NaN,NaN,0):null}function El(e){return new xl(e>>16&255,e>>8&255,255&e,1)}function Nl(e,t,n,r){return r<=0&&(e=t=n=NaN),new xl(e,t,n,r)}function Ml(e,t,n,r){return 1===arguments.length?function(e){return e instanceof al||(e=wl(e)),e?new xl((e=e.rgb()).r,e.g,e.b,e.opacity):new xl}(e):new xl(e,t,n,null==r?1:r)}function xl(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function Il(){return"#"+Cl(this.r)+Cl(this.g)+Cl(this.b)}function Al(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}function Cl(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function Sl(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Dl(e,t,n,r)}function Tl(e){if(e instanceof Dl)return new Dl(e.h,e.s,e.l,e.opacity);if(e instanceof al||(e=wl(e)),!e)return new Dl;if(e instanceof Dl)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,o=Math.min(t,n,r),a=Math.max(t,n,r),i=NaN,u=a-o,s=(a+o)/2;return u?(i=t===a?(n-r)/u+6*(n<r):n===a?(r-t)/u+2:(t-n)/u+4,u/=s<.5?a+o:2-a-o,i*=60):u=s>0&&s<1?0:i,new Dl(i,u,s,e.opacity)}function Dl(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function Ol(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function Rl(e){return function(){return e}}function kl(e){return 1==(e=+e)?Ll:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):Rl(isNaN(t)?n:t)}}function Ll(e,t){var n=t-e;return n?function(e,t){return function(n){return e+n*t}}(e,n):Rl(isNaN(e)?t:e)}rl(al,wl,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:bl,formatHex:bl,formatHsl:function(){return Tl(this).formatHsl()},formatRgb:_l,toString:_l}),rl(xl,Ml,ol(al,{brighter:function(e){return e=null==e?ul:Math.pow(ul,e),new xl(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?il:Math.pow(il,e),new xl(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Il,formatHex:Il,formatRgb:Al,toString:Al})),rl(Dl,(function(e,t,n,r){return 1===arguments.length?Tl(e):new Dl(e,t,n,null==r?1:r)}),ol(al,{brighter:function(e){return e=null==e?ul:Math.pow(ul,e),new Dl(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?il:Math.pow(il,e),new Dl(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,o=2*n-r;return new xl(Ol(e>=240?e-240:e+120,o,r),Ol(e,o,r),Ol(e<120?e+240:e-120,o,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")")}}));var Fl=function e(t){var n=kl(t);function r(e,t){var r=n((e=Ml(e)).r,(t=Ml(t)).r),o=n(e.g,t.g),a=n(e.b,t.b),i=Ll(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=o(t),e.b=a(t),e.opacity=i(t),e+""}}return r.gamma=e,r}(1);function Pl(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var Ul=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Yl=new RegExp(Ul.source,"g");function Vl(e,t){var n,r,o,a=Ul.lastIndex=Yl.lastIndex=0,i=-1,u=[],s=[];for(e+="",t+="";(n=Ul.exec(e))&&(r=Yl.exec(t));)(o=r.index)>a&&(o=t.slice(a,o),u[i]?u[i]+=o:u[++i]=o),(n=n[0])===(r=r[0])?u[i]?u[i]+=r:u[++i]=r:(u[++i]=null,s.push({i:i,x:Pl(n,r)})),a=Yl.lastIndex;return a<t.length&&(o=t.slice(a),u[i]?u[i]+=o:u[++i]=o),u.length<2?s[0]?function(e){return function(t){return e(t)+""}}(s[0].x):function(e){return function(){return e}}(t):(t=s.length,function(e){for(var n,r=0;r<t;++r)u[(n=s[r]).i]=n.x(e);return u.join("")})}var $l,Hl,ql,Bl,jl=180/Math.PI,zl={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Gl(e,t,n,r,o,a){var i,u,s;return(i=Math.sqrt(e*e+t*t))&&(e/=i,t/=i),(s=e*n+t*r)&&(n-=e*s,r-=t*s),(u=Math.sqrt(n*n+r*r))&&(n/=u,r/=u,s/=u),e*r<t*n&&(e=-e,t=-t,s=-s,i=-i),{translateX:o,translateY:a,rotate:Math.atan2(t,e)*jl,skewX:Math.atan(s)*jl,scaleX:i,scaleY:u}}function Xl(e,t,n,r){function o(e){return e.length?e.pop()+" ":""}return function(a,i){var u=[],s=[];return a=e(a),i=e(i),function(e,r,o,a,i,u){if(e!==o||r!==a){var s=i.push("translate(",null,t,null,n);u.push({i:s-4,x:Pl(e,o)},{i:s-2,x:Pl(r,a)})}else(o||a)&&i.push("translate("+o+t+a+n)}(a.translateX,a.translateY,i.translateX,i.translateY,u,s),function(e,t,n,a){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),a.push({i:n.push(o(n)+"rotate(",null,r)-2,x:Pl(e,t)})):t&&n.push(o(n)+"rotate("+t+r)}(a.rotate,i.rotate,u,s),function(e,t,n,a){e!==t?a.push({i:n.push(o(n)+"skewX(",null,r)-2,x:Pl(e,t)}):t&&n.push(o(n)+"skewX("+t+r)}(a.skewX,i.skewX,u,s),function(e,t,n,r,a,i){if(e!==n||t!==r){var u=a.push(o(a)+"scale(",null,",",null,")");i.push({i:u-4,x:Pl(e,n)},{i:u-2,x:Pl(t,r)})}else 1===n&&1===r||a.push(o(a)+"scale("+n+","+r+")")}(a.scaleX,a.scaleY,i.scaleX,i.scaleY,u,s),a=i=null,function(e){for(var t,n=-1,r=s.length;++n<r;)u[(t=s[n]).i]=t.x(e);return u.join("")}}}var Wl=Xl((function(e){return"none"===e?zl:($l||($l=document.createElement("DIV"),Hl=document.documentElement,ql=document.defaultView),$l.style.transform=e,e=ql.getComputedStyle(Hl.appendChild($l),null).getPropertyValue("transform"),Hl.removeChild($l),Gl(+(e=e.slice(7,-1).split(","))[0],+e[1],+e[2],+e[3],+e[4],+e[5]))}),"px, ","px)","deg)"),Kl=Xl((function(e){return null==e?zl:(Bl||(Bl=document.createElementNS("http://www.w3.org/2000/svg","g")),Bl.setAttribute("transform",e),(e=Bl.transform.baseVal.consolidate())?Gl((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):zl)}),", ",")",")");function Ql(e,t){var n,r;return function(){var o=tl(this,e),a=o.tween;if(a!==n)for(var i=0,u=(r=n=a).length;i<u;++i)if(r[i].name===t){(r=r.slice()).splice(i,1);break}o.tween=r}}function Zl(e,t,n){var r,o;if("function"!=typeof n)throw new Error;return function(){var a=tl(this,e),i=a.tween;if(i!==r){o=(r=i).slice();for(var u={name:t,value:n},s=0,l=o.length;s<l;++s)if(o[s].name===t){o[s]=u;break}s===l&&o.push(u)}a.tween=o}}function Jl(e,t,n){var r=e._id;return e.each((function(){var e=tl(this,r);(e.value||(e.value={}))[t]=n.apply(this,arguments)})),function(e){return nl(e,r).value[t]}}function ec(e,t){var n;return("number"==typeof t?Pl:t instanceof b?Fl:(n=b(t))?(t=n,Fl):Vl)(e,t)}function tc(e){return function(){this.removeAttribute(e)}}function nc(e){return function(){this.removeAttributeNS(e.space,e.local)}}function rc(e,t,n){var r,o,a=n+"";return function(){var i=this.getAttribute(e);return i===a?null:i===r?o:o=t(r=i,n)}}function oc(e,t,n){var r,o,a=n+"";return function(){var i=this.getAttributeNS(e.space,e.local);return i===a?null:i===r?o:o=t(r=i,n)}}function ac(e,t,n){var r,o,a;return function(){var i,u,s=n(this);if(null!=s)return(i=this.getAttribute(e))===(u=s+"")?null:i===r&&u===o?a:(o=u,a=t(r=i,s));this.removeAttribute(e)}}function ic(e,t,n){var r,o,a;return function(){var i,u,s=n(this);if(null!=s)return(i=this.getAttributeNS(e.space,e.local))===(u=s+"")?null:i===r&&u===o?a:(o=u,a=t(r=i,s));this.removeAttributeNS(e.space,e.local)}}function uc(e,t){var n,r;function o(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&function(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}(e,o)),n}return o._value=t,o}function sc(e,t){var n,r;function o(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&function(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}(e,o)),n}return o._value=t,o}function lc(e,t){return function(){el(this,e).delay=+t.apply(this,arguments)}}function cc(e,t){return t=+t,function(){el(this,e).delay=t}}function fc(e,t){return function(){tl(this,e).duration=+t.apply(this,arguments)}}function dc(e,t){return t=+t,function(){tl(this,e).duration=t}}var hc=ws.prototype.constructor;function pc(e){return function(){this.style.removeProperty(e)}}var mc=0;function gc(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function vc(){return++mc}var yc=ws.prototype;gc.prototype={constructor:gc,select:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=vu(e));for(var r=this._groups,o=r.length,a=new Array(o),i=0;i<o;++i)for(var u,s,l=r[i],c=l.length,f=a[i]=new Array(c),d=0;d<c;++d)(u=l[d])&&(s=e.call(u,u.__data__,d,l))&&("__data__"in u&&(s.__data__=u.__data__),f[d]=s,Js(f[d],t,n,d,f,nl(u,n)));return new gc(a,this._parents,t,n)},selectAll:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=_u(e));for(var r=this._groups,o=r.length,a=[],i=[],u=0;u<o;++u)for(var s,l=r[u],c=l.length,f=0;f<c;++f)if(s=l[f]){for(var d,h=e.call(s,s.__data__,f,l),p=nl(s,n),m=0,g=h.length;m<g;++m)(d=h[m])&&Js(d,t,n,m,h,p);a.push(h),i.push(s)}return new gc(a,i,t,n)},selectChild:yc.selectChild,selectChildren:yc.selectChildren,filter:function(e){"function"!=typeof e&&(e=wu(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var a,i=t[o],u=i.length,s=r[o]=[],l=0;l<u;++l)(a=i[l])&&e.call(a,a.__data__,l,i)&&s.push(a);return new gc(r,this._parents,this._name,this._id)},merge:function(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,o=n.length,a=Math.min(r,o),i=new Array(r),u=0;u<a;++u)for(var s,l=t[u],c=n[u],f=l.length,d=i[u]=new Array(f),h=0;h<f;++h)(s=l[h]||c[h])&&(d[h]=s);for(;u<r;++u)i[u]=t[u];return new gc(i,this._parents,this._name,this._id)},selection:function(){return new hc(this._groups,this._parents)},transition:function(){for(var e=this._name,t=this._id,n=vc(),r=this._groups,o=r.length,a=0;a<o;++a)for(var i,u=r[a],s=u.length,l=0;l<s;++l)if(i=u[l]){var c=nl(i,t);Js(i,e,n,l,u,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new gc(r,this._parents,e,n)},call:yc.call,nodes:yc.nodes,node:yc.node,size:yc.size,empty:yc.empty,each:yc.each,on:function(e,t){var n=this._id;return arguments.length<2?nl(this.node(),n).on.on(e):this.each(function(e,t,n){var r,o,a=function(e){return(e+"").trim().split(/^|\s+/).every((function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e}))}(t)?el:tl;return function(){var i=a(this,e),u=i.on;u!==r&&(o=(r=u).copy()).on(t,n),i.on=o}}(n,e,t))},attr:function(e,t){var n=du(e),r="transform"===n?Kl:ec;return this.attrTween(e,"function"==typeof t?(n.local?ic:ac)(n,r,Jl(this,"attr."+e,t)):null==t?(n.local?nc:tc)(n):(n.local?oc:rc)(n,r,t))},attrTween:function(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;var r=du(e);return this.tween(n,(r.local?uc:sc)(r,t))},style:function(e,t,n){var r="transform"==(e+="")?Wl:ec;return null==t?this.styleTween(e,function(e,t){var n,r,o;return function(){var a=Bu(this,e),i=(this.style.removeProperty(e),Bu(this,e));return a===i?null:a===n&&i===r?o:o=t(n=a,r=i)}}(e,r)).on("end.style."+e,pc(e)):"function"==typeof t?this.styleTween(e,function(e,t,n){var r,o,a;return function(){var i=Bu(this,e),u=n(this),s=u+"";return null==u&&(this.style.removeProperty(e),s=u=Bu(this,e)),i===s?null:i===r&&s===o?a:(o=s,a=t(r=i,u))}}(e,r,Jl(this,"style."+e,t))).each(function(e,t){var n,r,o,a,i="style."+t,u="end."+i;return function(){var s=tl(this,e),l=s.on,c=null==s.value[i]?a||(a=pc(t)):void 0;l===n&&o===c||(r=(n=l).copy()).on(u,o=c),s.on=r}}(this._id,e)):this.styleTween(e,function(e,t,n){var r,o,a=n+"";return function(){var i=Bu(this,e);return i===a?null:i===r?o:o=t(r=i,n)}}(e,r,t),n).on("end.style."+e,null)},styleTween:function(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==t)return this.tween(r,null);if("function"!=typeof t)throw new Error;return this.tween(r,function(e,t,n){var r,o;function a(){var a=t.apply(this,arguments);return a!==o&&(r=(o=a)&&function(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}(e,a,n)),r}return a._value=t,a}(e,t,null==n?"":n))},text:function(e){return this.tween("text","function"==typeof e?function(e){return function(){var t=e(this);this.textContent=null==t?"":t}}(Jl(this,"text",e)):function(e){return function(){this.textContent=e}}(null==e?"":e+""))},textTween:function(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(null==e)return this.tween(t,null);if("function"!=typeof e)throw new Error;return this.tween(t,function(e){var t,n;function r(){var r=e.apply(this,arguments);return r!==n&&(t=(n=r)&&function(e){return function(t){this.textContent=e.call(this,t)}}(r)),t}return r._value=e,r}(e))},remove:function(){return this.on("end.remove",function(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}(this._id))},tween:function(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r,o=nl(this.node(),n).tween,a=0,i=o.length;a<i;++a)if((r=o[a]).name===e)return r.value;return null}return this.each((null==t?Ql:Zl)(n,e,t))},delay:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?lc:cc)(t,e)):nl(this.node(),t).delay},duration:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?fc:dc)(t,e)):nl(this.node(),t).duration},ease:function(e){var t=this._id;return arguments.length?this.each(function(e,t){if("function"!=typeof t)throw new Error;return function(){tl(this,e).ease=t}}(t,e)):nl(this.node(),t).ease},easeVarying:function(e){if("function"!=typeof e)throw new Error;return this.each(function(e,t){return function(){var n=t.apply(this,arguments);if("function"!=typeof n)throw new Error;tl(this,e).ease=n}}(this._id,e))},end:function(){var e,t,n=this,r=n._id,o=n.size();return new Promise((function(a,i){var u={value:i},s={value:function(){0==--o&&a()}};n.each((function(){var n=tl(this,r),o=n.on;o!==e&&((t=(e=o).copy())._.cancel.push(u),t._.interrupt.push(u),t._.end.push(s)),n.on=t})),0===o&&a()}))},[Symbol.iterator]:yc[Symbol.iterator]};var bc={time:null,delay:0,duration:250,ease:function(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}};function _c(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}let wc,Ec;function Nc(e,t){const n=b(e);return n.opacity=t,n.toString()}function Mc(e){const t=e.currentStyle||window.getComputedStyle(e),n={top:parseFloat(t.marginTop),right:parseFloat(t.marginRight),bottom:parseFloat(t.marginBottom),left:parseFloat(t.marginLeft)},r={top:parseFloat(t.paddingTop),right:parseFloat(t.paddingRight),bottom:parseFloat(t.paddingBottom),left:parseFloat(t.paddingLeft)},o={top:parseFloat(t.borderTopWidth),right:parseFloat(t.borderRightWidth),bottom:parseFloat(t.borderBottomWidth),left:parseFloat(t.borderLeftWidth)};return{width:t.width.indexOf("vw")>-1?window.innnerWidth*parseInt(t.width,10)/100:parseInt(t.width,10),height:t.height.indexOf("vw")>-1?window.innnerHeight*parseInt(t.height,10)/100:parseInt(t.height,10),margin:n,padding:r,border:o}}function xc(e){return Number.isNaN(+e)?e:+e}var Ic,Ac;function Cc(e){return"object"==typeof e&&"function"==typeof e.to}function Sc(e){e.parentElement.removeChild(e)}function Tc(e){return null!=e}function Dc(e){e.preventDefault()}function Oc(e){return"number"==typeof e&&!isNaN(e)&&isFinite(e)}function Rc(e,t,n){n>0&&(Pc(e,t),setTimeout((function(){Uc(e,t)}),n))}function kc(e){return Math.max(Math.min(e,100),0)}function Lc(e){return Array.isArray(e)?e:[e]}function Fc(e){var t=(e=String(e)).split(".");return t.length>1?t[1].length:0}function Pc(e,t){e.classList&&!/\s/.test(t)?e.classList.add(t):e.className+=" "+t}function Uc(e,t){e.classList&&!/\s/.test(t)?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," ")}function Yc(e){var t=void 0!==window.pageXOffset,n="CSS1Compat"===(e.compatMode||"");return{x:t?window.pageXOffset:n?e.documentElement.scrollLeft:e.body.scrollLeft,y:t?window.pageYOffset:n?e.documentElement.scrollTop:e.body.scrollTop}}function Vc(e,t){return 100/(t-e)}function $c(e,t,n){return 100*t/(e[n+1]-e[n])}function Hc(e,t){for(var n=1;e>=t[n];)n+=1;return n}function qc(e,t,n){if(n>=e.slice(-1)[0])return 100;var r=Hc(n,e),o=e[r-1],a=e[r],i=t[r-1],u=t[r];return i+function(e,t){return $c(e,e[0]<0?t+Math.abs(e[0]):t-e[0],0)}([o,a],n)/Vc(i,u)}function Bc(e,t,n,r){if(100===r)return r;var o=Hc(r,e),a=e[o-1],i=e[o];return n?r-a>(i-a)/2?i:a:t[o-1]?e[o-1]+function(e,t){return Math.round(e/t)*t}(r-e[o-1],t[o-1]):r}ws.prototype.interrupt=function(e){return this.each((function(){!function(e,t){var n,r,o,a=e.__transition,i=!0;if(a){for(o in t=null==t?null:t+"",a)(n=a[o]).name===t?(r=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(r?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete a[o]):i=!1;i&&delete e.__transition}}(this,e)}))},ws.prototype.transition=function(e){var t,n;e instanceof gc?(t=e._id,e=e._name):(t=vc(),(n=bc).time=qs(),e=null==e?null:e+"");for(var r=this._groups,o=r.length,a=0;a<o;++a)for(var i,u=r[a],s=u.length,l=0;l<s;++l)(i=u[l])&&Js(i,e,t,l,u,n||_c(i,t));return new gc(r,this._parents,e,t)},function(e){e.Range="range",e.Steps="steps",e.Positions="positions",e.Count="count",e.Values="values"}(Ic||(Ic={})),function(e){e[e.None=-1]="None",e[e.NoValue=0]="NoValue",e[e.LargeValue=1]="LargeValue",e[e.SmallValue=2]="SmallValue"}(Ac||(Ac={}));var jc=function(){function e(e,t,n){var r;this.xPct=[],this.xVal=[],this.xSteps=[],this.xNumSteps=[],this.xHighestCompleteStep=[],this.xSteps=[n||!1],this.xNumSteps=[!1],this.snap=t;var o=[];for(Object.keys(e).forEach((function(t){o.push([Lc(e[t]),t])})),o.sort((function(e,t){return e[0][0]-t[0][0]})),r=0;r<o.length;r++)this.handleEntryPoint(o[r][1],o[r][0]);for(this.xNumSteps=this.xSteps.slice(0),r=0;r<this.xNumSteps.length;r++)this.handleStepPoint(r,this.xNumSteps[r])}return e.prototype.getDistance=function(e){for(var t=[],n=0;n<this.xNumSteps.length-1;n++)t[n]=$c(this.xVal,e,n);return t},e.prototype.getAbsoluteDistance=function(e,t,n){var r,o=0;if(e<this.xPct[this.xPct.length-1])for(;e>this.xPct[o+1];)o++;else e===this.xPct[this.xPct.length-1]&&(o=this.xPct.length-2);n||e!==this.xPct[o+1]||o++,null===t&&(t=[]);var a=1,i=t[o],u=0,s=0,l=0,c=0;for(r=n?(e-this.xPct[o])/(this.xPct[o+1]-this.xPct[o]):(this.xPct[o+1]-e)/(this.xPct[o+1]-this.xPct[o]);i>0;)u=this.xPct[o+1+c]-this.xPct[o+c],t[o+c]*a+100-100*r>100?(s=u*r,a=(i-100*r)/t[o+c],r=1):(s=t[o+c]*u/100*a,a=0),n?(l-=s,this.xPct.length+c>=1&&c--):(l+=s,this.xPct.length-c>=1&&c++),i=t[o+c]*a;return e+l},e.prototype.toStepping=function(e){return e=qc(this.xVal,this.xPct,e)},e.prototype.fromStepping=function(e){return function(e,t,n){if(n>=100)return e.slice(-1)[0];var r=Hc(n,t),o=e[r-1],a=e[r],i=t[r-1];return function(e,t){return t*(e[1]-e[0])/100+e[0]}([o,a],(n-i)*Vc(i,t[r]))}(this.xVal,this.xPct,e)},e.prototype.getStep=function(e){return e=Bc(this.xPct,this.xSteps,this.snap,e)},e.prototype.getDefaultStep=function(e,t,n){var r=Hc(e,this.xPct);return(100===e||t&&e===this.xPct[r-1])&&(r=Math.max(r-1,1)),(this.xVal[r]-this.xVal[r-1])/n},e.prototype.getNearbySteps=function(e){var t=Hc(e,this.xPct);return{stepBefore:{startValue:this.xVal[t-2],step:this.xNumSteps[t-2],highestStep:this.xHighestCompleteStep[t-2]},thisStep:{startValue:this.xVal[t-1],step:this.xNumSteps[t-1],highestStep:this.xHighestCompleteStep[t-1]},stepAfter:{startValue:this.xVal[t],step:this.xNumSteps[t],highestStep:this.xHighestCompleteStep[t]}}},e.prototype.countStepDecimals=function(){var e=this.xNumSteps.map(Fc);return Math.max.apply(null,e)},e.prototype.hasNoSize=function(){return this.xVal[0]===this.xVal[this.xVal.length-1]},e.prototype.convert=function(e){return this.getStep(this.toStepping(e))},e.prototype.handleEntryPoint=function(e,t){var n;if(!Oc(n="min"===e?0:"max"===e?100:parseFloat(e))||!Oc(t[0]))throw new Error("noUiSlider: 'range' value isn't numeric.");this.xPct.push(n),this.xVal.push(t[0]);var r=Number(t[1]);n?this.xSteps.push(!isNaN(r)&&r):isNaN(r)||(this.xSteps[0]=r),this.xHighestCompleteStep.push(0)},e.prototype.handleStepPoint=function(e,t){if(t)if(this.xVal[e]!==this.xVal[e+1]){this.xSteps[e]=$c([this.xVal[e],this.xVal[e+1]],t,0)/Vc(this.xPct[e],this.xPct[e+1]);var n=(this.xVal[e+1]-this.xVal[e])/this.xNumSteps[e],r=Math.ceil(Number(n.toFixed(3))-1),o=this.xVal[e]+this.xNumSteps[e]*r;this.xHighestCompleteStep[e]=o}else this.xSteps[e]=this.xHighestCompleteStep[e]=this.xVal[e]},e}(),zc={to:function(e){return void 0===e?"":e.toFixed(2)},from:Number},Gc={target:"target",base:"base",origin:"origin",handle:"handle",handleLower:"handle-lower",handleUpper:"handle-upper",touchArea:"touch-area",horizontal:"horizontal",vertical:"vertical",background:"background",connect:"connect",connects:"connects",ltr:"ltr",rtl:"rtl",textDirectionLtr:"txt-dir-ltr",textDirectionRtl:"txt-dir-rtl",draggable:"draggable",drag:"state-drag",tap:"state-tap",active:"active",tooltip:"tooltip",pips:"pips",pipsHorizontal:"pips-horizontal",pipsVertical:"pips-vertical",marker:"marker",markerHorizontal:"marker-horizontal",markerVertical:"marker-vertical",markerNormal:"marker-normal",markerLarge:"marker-large",markerSub:"marker-sub",value:"value",valueHorizontal:"value-horizontal",valueVertical:"value-vertical",valueNormal:"value-normal",valueLarge:"value-large",valueSub:"value-sub"},Xc=".__tooltips",Wc=".__aria";function Kc(e,t){if(!Oc(t))throw new Error("noUiSlider: 'step' is not numeric.");e.singleStep=t}function Qc(e,t){if(!Oc(t))throw new Error("noUiSlider: 'keyboardPageMultiplier' is not numeric.");e.keyboardPageMultiplier=t}function Zc(e,t){if(!Oc(t))throw new Error("noUiSlider: 'keyboardMultiplier' is not numeric.");e.keyboardMultiplier=t}function Jc(e,t){if(!Oc(t))throw new Error("noUiSlider: 'keyboardDefaultStep' is not numeric.");e.keyboardDefaultStep=t}function ef(e,t){if("object"!=typeof t||Array.isArray(t))throw new Error("noUiSlider: 'range' is not an object.");if(void 0===t.min||void 0===t.max)throw new Error("noUiSlider: Missing 'min' or 'max' in 'range'.");e.spectrum=new jc(t,e.snap||!1,e.singleStep)}function tf(e,t){if(t=Lc(t),!Array.isArray(t)||!t.length)throw new Error("noUiSlider: 'start' option is incorrect.");e.handles=t.length,e.start=t}function nf(e,t){if("boolean"!=typeof t)throw new Error("noUiSlider: 'snap' option must be a boolean.");e.snap=t}function rf(e,t){if("boolean"!=typeof t)throw new Error("noUiSlider: 'animate' option must be a boolean.");e.animate=t}function of(e,t){if("number"!=typeof t)throw new Error("noUiSlider: 'animationDuration' option must be a number.");e.animationDuration=t}function af(e,t){var n,r=[!1];if("lower"===t?t=[!0,!1]:"upper"===t&&(t=[!1,!0]),!0===t||!1===t){for(n=1;n<e.handles;n++)r.push(t);r.push(!1)}else{if(!Array.isArray(t)||!t.length||t.length!==e.handles+1)throw new Error("noUiSlider: 'connect' option doesn't match handle count.");r=t}e.connect=r}function uf(e,t){switch(t){case"horizontal":e.ort=0;break;case"vertical":e.ort=1;break;default:throw new Error("noUiSlider: 'orientation' option is invalid.")}}function sf(e,t){if(!Oc(t))throw new Error("noUiSlider: 'margin' option must be numeric.");0!==t&&(e.margin=e.spectrum.getDistance(t))}function lf(e,t){if(!Oc(t))throw new Error("noUiSlider: 'limit' option must be numeric.");if(e.limit=e.spectrum.getDistance(t),!e.limit||e.handles<2)throw new Error("noUiSlider: 'limit' option is only supported on linear sliders with 2 or more handles.")}function cf(e,t){var n;if(!Oc(t)&&!Array.isArray(t))throw new Error("noUiSlider: 'padding' option must be numeric or array of exactly 2 numbers.");if(Array.isArray(t)&&2!==t.length&&!Oc(t[0])&&!Oc(t[1]))throw new Error("noUiSlider: 'padding' option must be numeric or array of exactly 2 numbers.");if(0!==t){for(Array.isArray(t)||(t=[t,t]),e.padding=[e.spectrum.getDistance(t[0]),e.spectrum.getDistance(t[1])],n=0;n<e.spectrum.xNumSteps.length-1;n++)if(e.padding[0][n]<0||e.padding[1][n]<0)throw new Error("noUiSlider: 'padding' option must be a positive number(s).");var r=t[0]+t[1],o=e.spectrum.xVal[0];if(r/(e.spectrum.xVal[e.spectrum.xVal.length-1]-o)>1)throw new Error("noUiSlider: 'padding' option must not exceed 100% of the range.")}}function ff(e,t){switch(t){case"ltr":e.dir=0;break;case"rtl":e.dir=1;break;default:throw new Error("noUiSlider: 'direction' option was not recognized.")}}function df(e,t){if("string"!=typeof t)throw new Error("noUiSlider: 'behaviour' must be a string containing options.");var n=t.indexOf("tap")>=0,r=t.indexOf("drag")>=0,o=t.indexOf("fixed")>=0,a=t.indexOf("snap")>=0,i=t.indexOf("hover")>=0,u=t.indexOf("unconstrained")>=0,s=t.indexOf("invert-connects")>=0,l=t.indexOf("drag-all")>=0,c=t.indexOf("smooth-steps")>=0;if(o){if(2!==e.handles)throw new Error("noUiSlider: 'fixed' behaviour must be used with 2 handles");sf(e,e.start[1]-e.start[0])}if(s&&2!==e.handles)throw new Error("noUiSlider: 'invert-connects' behaviour must be used with 2 handles");if(u&&(e.margin||e.limit))throw new Error("noUiSlider: 'unconstrained' behaviour cannot be used with margin or limit");e.events={tap:n||a,drag:r,dragAll:l,smoothSteps:c,fixed:o,snap:a,hover:i,unconstrained:u,invertConnects:s}}function hf(e,t){if(!1!==t)if(!0===t||Cc(t)){e.tooltips=[];for(var n=0;n<e.handles;n++)e.tooltips.push(t)}else{if((t=Lc(t)).length!==e.handles)throw new Error("noUiSlider: must pass a formatter for all handles.");t.forEach((function(e){if("boolean"!=typeof e&&!Cc(e))throw new Error("noUiSlider: 'tooltips' must be passed a formatter or 'false'.")})),e.tooltips=t}}function pf(e,t){if(t.length!==e.handles)throw new Error("noUiSlider: must pass a attributes for all handles.");e.handleAttributes=t}function mf(e,t){if(!Cc(t))throw new Error("noUiSlider: 'ariaFormat' requires 'to' method.");e.ariaFormat=t}function gf(e,t){if(!function(e){return Cc(e)&&"function"==typeof e.from}(t))throw new Error("noUiSlider: 'format' requires 'to' and 'from' methods.");e.format=t}function vf(e,t){if("boolean"!=typeof t)throw new Error("noUiSlider: 'keyboardSupport' option must be a boolean.");e.keyboardSupport=t}function yf(e,t){e.documentElement=t}function bf(e,t){if("string"!=typeof t&&!1!==t)throw new Error("noUiSlider: 'cssPrefix' must be a string or `false`.");e.cssPrefix=t}function _f(e,t){if("object"!=typeof t)throw new Error("noUiSlider: 'cssClasses' must be an object.");"string"==typeof e.cssPrefix?(e.cssClasses={},Object.keys(t).forEach((function(n){e.cssClasses[n]=e.cssPrefix+t[n]}))):e.cssClasses=t}function wf(e){var t={margin:null,limit:null,padding:null,animate:!0,animationDuration:300,ariaFormat:zc,format:zc},n={step:{r:!1,t:Kc},keyboardPageMultiplier:{r:!1,t:Qc},keyboardMultiplier:{r:!1,t:Zc},keyboardDefaultStep:{r:!1,t:Jc},start:{r:!0,t:tf},connect:{r:!0,t:af},direction:{r:!0,t:ff},snap:{r:!1,t:nf},animate:{r:!1,t:rf},animationDuration:{r:!1,t:of},range:{r:!0,t:ef},orientation:{r:!1,t:uf},margin:{r:!1,t:sf},limit:{r:!1,t:lf},padding:{r:!1,t:cf},behaviour:{r:!0,t:df},ariaFormat:{r:!1,t:mf},format:{r:!1,t:gf},tooltips:{r:!1,t:hf},keyboardSupport:{r:!0,t:vf},documentElement:{r:!1,t:yf},cssPrefix:{r:!0,t:bf},cssClasses:{r:!0,t:_f},handleAttributes:{r:!1,t:pf}},r={connect:!1,direction:"ltr",behaviour:"tap",orientation:"horizontal",keyboardSupport:!0,cssPrefix:"noUi-",cssClasses:Gc,keyboardPageMultiplier:5,keyboardMultiplier:1,keyboardDefaultStep:10};e.format&&!e.ariaFormat&&(e.ariaFormat=e.format),Object.keys(n).forEach((function(o){if(Tc(e[o])||void 0!==r[o])n[o].t(t,Tc(e[o])?e[o]:r[o]);else if(n[o].r)throw new Error("noUiSlider: '"+o+"' is required.")})),t.pips=e.pips;var o=document.createElement("div"),a=void 0!==o.style.msTransform,i=void 0!==o.style.transform;t.transformRule=i?"transform":a?"msTransform":"webkitTransform";return t.style=[["left","top"],["right","bottom"]][t.dir][t.ort],t}function Ef(e,t,n){var r,o,a,i,u,s,l,c=window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"},f=window.CSS&&CSS.supports&&CSS.supports("touch-action","none")&&function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("test",null,t)}catch(e){}return e}(),d=e,h=t.spectrum,p=[],m=[],g=[],v=0,y={},b=!1,_=e.ownerDocument,w=t.documentElement||_.documentElement,E=_.body,N="rtl"===_.dir||1===t.ort?0:100;function M(e,t){var n=_.createElement("div");return t&&Pc(n,t),e.appendChild(n),n}function x(e,n){var r=M(e,t.cssClasses.origin),o=M(r,t.cssClasses.handle);if(M(o,t.cssClasses.touchArea),o.setAttribute("data-handle",String(n)),t.keyboardSupport&&(o.setAttribute("tabindex","0"),o.addEventListener("keydown",(function(e){return function(e,n){if(C()||S(n))return!1;var r=["Left","Right"],o=["Down","Up"],a=["PageDown","PageUp"],i=["Home","End"];t.dir&&!t.ort?r.reverse():t.ort&&!t.dir&&(o.reverse(),a.reverse());var u,s=e.key.replace("Arrow",""),l=s===a[0],c=s===a[1],f=s===o[0]||s===r[0]||l,d=s===o[1]||s===r[1]||c,g=s===i[0],v=s===i[1];if(!(f||d||g||v))return!0;if(e.preventDefault(),d||f){var y=f?0:1,b=ue(n)[y];if(null===b)return!1;!1===b&&(b=h.getDefaultStep(m[n],f,t.keyboardDefaultStep)),b*=c||l?t.keyboardPageMultiplier:t.keyboardMultiplier,b=Math.max(b,1e-7),b*=f?-1:1,u=p[n]+b}else u=v?t.spectrum.xVal[t.spectrum.xVal.length-1]:t.spectrum.xVal[0];return ne(n,h.toStepping(u),!0,!0),W("slide",n),W("update",n),W("change",n),W("set",n),!1}(e,n)}))),void 0!==t.handleAttributes){var a=t.handleAttributes[n];Object.keys(a).forEach((function(e){o.setAttribute(e,a[e])}))}return o.setAttribute("role","slider"),o.setAttribute("aria-orientation",t.ort?"vertical":"horizontal"),0===n?Pc(o,t.cssClasses.handleLower):n===t.handles-1&&Pc(o,t.cssClasses.handleUpper),r.handle=o,r}function I(e,n){return!!n&&M(e,t.cssClasses.connect)}function A(e,n){return!(!t.tooltips||!t.tooltips[n])&&M(e.firstChild,t.cssClasses.tooltip)}function C(){return d.hasAttribute("disabled")}function S(e){return a[e].hasAttribute("disabled")}function T(){s&&(X("update"+Xc),s.forEach((function(e){e&&Sc(e)})),s=null)}function D(){T(),s=a.map(A),G("update"+Xc,(function(e,n,r){if(s&&t.tooltips&&!1!==s[n]){var o=e[n];!0!==t.tooltips[n]&&(o=t.tooltips[n].to(r[n])),s[n].innerHTML=o}}))}function O(e,t){return e.map((function(e){return h.fromStepping(t?h.getStep(e):e)}))}function R(e){var t=function(e){if(e.mode===Ic.Range||e.mode===Ic.Steps)return h.xVal;if(e.mode===Ic.Count){if(e.values<2)throw new Error("noUiSlider: 'values' (>= 2) required for mode 'count'.");for(var t=e.values-1,n=100/t,r=[];t--;)r[t]=t*n;return r.push(100),O(r,e.stepped)}return e.mode===Ic.Positions?O(e.values,e.stepped):e.mode===Ic.Values?e.stepped?e.values.map((function(e){return h.fromStepping(h.getStep(h.toStepping(e)))})):e.values:[]}(e),n={},r=h.xVal[0],o=h.xVal[h.xVal.length-1],a=!1,i=!1,u=0;return t=function(e){return e.filter((function(e){return!this[e]&&(this[e]=!0)}),{})}(t.slice().sort((function(e,t){return e-t}))),t[0]!==r&&(t.unshift(r),a=!0),t[t.length-1]!==o&&(t.push(o),i=!0),t.forEach((function(r,o){var s,l,c,f,d,p,m,g,v,y,b=r,_=t[o+1],w=e.mode===Ic.Steps;for(w&&(s=h.xNumSteps[o]),s||(s=_-b),void 0===_&&(_=b),s=Math.max(s,1e-7),l=b;l<=_;l=Number((l+s).toFixed(7))){for(g=(d=(f=h.toStepping(l))-u)/(e.density||1),y=d/(v=Math.round(g)),c=1;c<=v;c+=1)n[(p=u+c*y).toFixed(5)]=[h.fromStepping(p),0];m=t.indexOf(l)>-1?Ac.LargeValue:w?Ac.SmallValue:Ac.NoValue,!o&&a&&l!==_&&(m=0),l===_&&i||(n[f.toFixed(5)]=[l,m]),u=f}})),n}function k(e,n,r){var o,a,i=_.createElement("div"),u=((o={})[Ac.None]="",o[Ac.NoValue]=t.cssClasses.valueNormal,o[Ac.LargeValue]=t.cssClasses.valueLarge,o[Ac.SmallValue]=t.cssClasses.valueSub,o),s=((a={})[Ac.None]="",a[Ac.NoValue]=t.cssClasses.markerNormal,a[Ac.LargeValue]=t.cssClasses.markerLarge,a[Ac.SmallValue]=t.cssClasses.markerSub,a),l=[t.cssClasses.valueHorizontal,t.cssClasses.valueVertical],c=[t.cssClasses.markerHorizontal,t.cssClasses.markerVertical];function f(e,n){var r=n===t.cssClasses.value,o=r?u:s;return n+" "+(r?l:c)[t.ort]+" "+o[e]}return Pc(i,t.cssClasses.pips),Pc(i,0===t.ort?t.cssClasses.pipsHorizontal:t.cssClasses.pipsVertical),Object.keys(e).forEach((function(o){!function(e,o,a){if((a=n?n(o,a):a)!==Ac.None){var u=M(i,!1);u.className=f(a,t.cssClasses.marker),u.style[t.style]=e+"%",a>Ac.NoValue&&((u=M(i,!1)).className=f(a,t.cssClasses.value),u.setAttribute("data-value",String(o)),u.style[t.style]=e+"%",u.innerHTML=String(r.to(o)))}}(o,e[o][0],e[o][1])})),i}function L(){u&&(Sc(u),u=null)}function F(e){L();var t=R(e),n=e.filter,r=e.format||{to:function(e){return String(Math.round(e))}};return u=d.appendChild(k(t,n,r))}function P(){var e=r.getBoundingClientRect(),n="offset"+["Width","Height"][t.ort];return 0===t.ort?e.width||r[n]:e.height||r[n]}function U(e,n,r,o){var a=function(a){var i,u,s=function(e,t,n){var r=0===e.type.indexOf("touch"),o=0===e.type.indexOf("mouse"),a=0===e.type.indexOf("pointer"),i=0,u=0;0===e.type.indexOf("MSPointer")&&(a=!0);if("mousedown"===e.type&&!e.buttons&&!e.touches)return!1;if(r){var s=function(t){var r=t.target;return r===n||n.contains(r)||e.composed&&e.composedPath().shift()===n};if("touchstart"===e.type){var l=Array.prototype.filter.call(e.touches,s);if(l.length>1)return!1;i=l[0].pageX,u=l[0].pageY}else{var c=Array.prototype.find.call(e.changedTouches,s);if(!c)return!1;i=c.pageX,u=c.pageY}}t=t||Yc(_),(o||a)&&(i=e.clientX+t.x,u=e.clientY+t.y);return e.pageOffset=t,e.points=[i,u],e.cursor=o||a,e}(a,o.pageOffset,o.target||n);return!!s&&(!(C()&&!o.doNotReject)&&(i=d,u=t.cssClasses.tap,!((i.classList?i.classList.contains(u):new RegExp("\\b"+u+"\\b").test(i.className))&&!o.doNotReject)&&(!(e===c.start&&void 0!==s.buttons&&s.buttons>1)&&((!o.hover||!s.buttons)&&(f||s.preventDefault(),s.calcPoint=s.points[t.ort],void r(s,o))))))},i=[];return e.split(" ").forEach((function(e){n.addEventListener(e,a,!!f&&{passive:!0}),i.push([e,a])})),i}function Y(e){var n,o,a,i,u,s,l=100*(e-(n=r,o=t.ort,a=n.getBoundingClientRect(),i=n.ownerDocument,u=i.documentElement,s=Yc(i),/webkit.*Chrome.*Mobile/i.test(navigator.userAgent)&&(s.x=0),o?a.top+s.y-u.clientTop:a.left+s.x-u.clientLeft))/P();return l=kc(l),t.dir?100-l:l}function V(e,t){"mouseout"===e.type&&"HTML"===e.target.nodeName&&null===e.relatedTarget&&H(e,t)}function $(e,n){if(-1===navigator.appVersion.indexOf("MSIE 9")&&0===e.buttons&&0!==n.buttonsProperty)return H(e,n);var r=(t.dir?-1:1)*(e.calcPoint-n.startCalcPoint);Z(r>0,100*r/n.baseSize,n.locations,n.handleNumbers,n.connect)}function H(e,n){n.handle&&(Uc(n.handle,t.cssClasses.active),v-=1),n.listeners.forEach((function(e){w.removeEventListener(e[0],e[1])})),0===v&&(Uc(d,t.cssClasses.drag),te(),e.cursor&&(E.style.cursor="",E.removeEventListener("selectstart",Dc))),t.events.smoothSteps&&(n.handleNumbers.forEach((function(e){ne(e,m[e],!0,!0,!1,!1)})),n.handleNumbers.forEach((function(e){W("update",e)}))),n.handleNumbers.forEach((function(e){W("change",e),W("set",e),W("end",e)}))}function q(e,n){if(!n.handleNumbers.some(S)){var r;if(1===n.handleNumbers.length)r=a[n.handleNumbers[0]].children[0],v+=1,Pc(r,t.cssClasses.active);e.stopPropagation();var o=[],i=U(c.move,w,$,{target:e.target,handle:r,connect:n.connect,listeners:o,startCalcPoint:e.calcPoint,baseSize:P(),pageOffset:e.pageOffset,handleNumbers:n.handleNumbers,buttonsProperty:e.buttons,locations:m.slice()}),u=U(c.end,w,H,{target:e.target,handle:r,listeners:o,doNotReject:!0,handleNumbers:n.handleNumbers}),s=U("mouseout",w,V,{target:e.target,handle:r,listeners:o,doNotReject:!0,handleNumbers:n.handleNumbers});o.push.apply(o,i.concat(u,s)),e.cursor&&(E.style.cursor=getComputedStyle(e.target).cursor,a.length>1&&Pc(d,t.cssClasses.drag),E.addEventListener("selectstart",Dc,!1)),n.handleNumbers.forEach((function(e){W("start",e)}))}}function B(e){e.stopPropagation();var n=Y(e.calcPoint),r=function(e){var t=100,n=!1;return a.forEach((function(r,o){if(!S(o)){var a=m[o],i=Math.abs(a-e);(i<t||i<=t&&e>a||100===i&&100===t)&&(n=o,t=i)}})),n}(n);!1!==r&&(t.events.snap||Rc(d,t.cssClasses.tap,t.animationDuration),ne(r,n,!0,!0),te(),W("slide",r,!0),W("update",r,!0),t.events.snap?q(e,{handleNumbers:[r]}):(W("change",r,!0),W("set",r,!0)))}function j(e){var t=Y(e.calcPoint),n=h.getStep(t),r=h.fromStepping(n);Object.keys(y).forEach((function(e){"hover"===e.split(".")[0]&&y[e].forEach((function(e){e.call(le,r)}))}))}function z(e){e.fixed||a.forEach((function(e,t){U(c.start,e.children[0],q,{handleNumbers:[t]})})),e.tap&&U(c.start,r,B,{}),e.hover&&U(c.move,r,j,{hover:!0}),e.drag&&i.forEach((function(n,r){if(!1!==n&&0!==r&&r!==i.length-1){var o=a[r-1],u=a[r],s=[n],l=[o,u],f=[r-1,r];Pc(n,t.cssClasses.draggable),e.fixed&&(s.push(o.children[0]),s.push(u.children[0])),e.dragAll&&(l=a,f=g),s.forEach((function(e){U(c.start,e,q,{handles:l,handleNumbers:f,connect:n})}))}}))}function G(e,t){y[e]=y[e]||[],y[e].push(t),"update"===e.split(".")[0]&&a.forEach((function(e,t){W("update",t)}))}function X(e){var t=e&&e.split(".")[0],n=t?e.substring(t.length):e;Object.keys(y).forEach((function(e){var r=e.split(".")[0],o=e.substring(r.length);t&&t!==r||n&&n!==o||function(e){return e===Wc||e===Xc}(o)&&n!==o||delete y[e]}))}function W(e,n,r){Object.keys(y).forEach((function(o){var a=o.split(".")[0];e===a&&y[o].forEach((function(e){e.call(le,p.map(t.format.to),n,p.slice(),r||!1,m.slice(),le)}))}))}function K(e,n,r,o,i,u,s){var l;return a.length>1&&!t.events.unconstrained&&(o&&n>0&&(l=h.getAbsoluteDistance(e[n-1],t.margin,!1),r=Math.max(r,l)),i&&n<a.length-1&&(l=h.getAbsoluteDistance(e[n+1],t.margin,!0),r=Math.min(r,l))),a.length>1&&t.limit&&(o&&n>0&&(l=h.getAbsoluteDistance(e[n-1],t.limit,!1),r=Math.min(r,l)),i&&n<a.length-1&&(l=h.getAbsoluteDistance(e[n+1],t.limit,!0),r=Math.max(r,l))),t.padding&&(0===n&&(l=h.getAbsoluteDistance(0,t.padding[0],!1),r=Math.max(r,l)),n===a.length-1&&(l=h.getAbsoluteDistance(100,t.padding[1],!0),r=Math.min(r,l))),s||(r=h.getStep(r)),!((r=kc(r))===e[n]&&!u)&&r}function Q(e,n){var r=t.ort;return(r?n:e)+", "+(r?e:n)}function Z(e,n,r,o,a){var i=r.slice(),u=o[0],s=t.events.smoothSteps,l=[!e,e],c=[e,!e];o=o.slice(),e&&o.reverse(),o.length>1?o.forEach((function(e,t){var r=K(i,e,i[e]+n,l[t],c[t],!1,s);!1===r?n=0:(n=r-i[e],i[e]=r)})):l=c=[!0];var f=!1;o.forEach((function(e,t){f=ne(e,r[e]+n,l[t],c[t],!1,s)||f})),f&&(o.forEach((function(e){W("update",e),W("slide",e)})),null!=a&&W("drag",u))}function J(e,n){return t.dir?100-e-n:e}function ee(e,n){m[e]=n,p[e]=h.fromStepping(n);var r="translate("+Q(J(n,0)-N+"%","0")+")";if(a[e].style[t.transformRule]=r,t.events.invertConnects&&m.length>1){var o=m.every((function(e,t,n){return 0===t||e>=n[t-1]}));if(b!==!o)return b=!b,af(t,t.connect.map((function(e){return!e}))),void se()}re(e),re(e+1),b&&(re(e-1),re(e+2))}function te(){g.forEach((function(e){var t=m[e]>50?-1:1,n=3+(a.length+t*e);a[e].style.zIndex=String(n)}))}function ne(e,t,n,r,o,a){return o||(t=K(m,e,t,n,r,!1,a)),!1!==t&&(ee(e,t),!0)}function re(e){if(i[e]){var n=m.slice();b&&n.sort((function(e,t){return e-t}));var r=0,o=100;0!==e&&(r=n[e-1]),e!==i.length-1&&(o=n[e]);var a=o-r,u="translate("+Q(J(r,a)+"%","0")+")",s="scale("+Q(a/100,"1")+")";i[e].style[t.transformRule]=u+" "+s}}function oe(e,n){return null===e||!1===e||void 0===e?m[n]:("number"==typeof e&&(e=String(e)),!1!==(e=t.format.from(e))&&(e=h.toStepping(e)),!1===e||isNaN(e)?m[n]:e)}function ae(e,n,r){var o=Lc(e),a=void 0===m[0];n=void 0===n||n,t.animate&&!a&&Rc(d,t.cssClasses.tap,t.animationDuration),g.forEach((function(e){ne(e,oe(o[e],e),!0,!1,r)}));var i=1===g.length?0:1;if(a&&h.hasNoSize()&&(r=!0,m[0]=0,g.length>1)){var u=100/(g.length-1);g.forEach((function(e){m[e]=e*u}))}for(;i<g.length;++i)g.forEach((function(e){ne(e,m[e],!0,!0,r)}));te(),g.forEach((function(e){W("update",e),null!==o[e]&&n&&W("set",e)}))}function ie(e){if(void 0===e&&(e=!1),e)return 1===p.length?p[0]:p.slice(0);var n=p.map(t.format.to);return 1===n.length?n[0]:n}function ue(e){var n=m[e],r=h.getNearbySteps(n),o=p[e],a=r.thisStep.step,i=null;if(t.snap)return[o-r.stepBefore.startValue||null,r.stepAfter.startValue-o||null];!1!==a&&o+a>r.stepAfter.startValue&&(a=r.stepAfter.startValue-o),i=o>r.thisStep.startValue?r.thisStep.step:!1!==r.stepBefore.step&&o-r.stepBefore.highestStep,100===n?a=null:0===n&&(i=null);var u=h.countStepDecimals();return null!==a&&!1!==a&&(a=Number(a.toFixed(u))),null!==i&&!1!==i&&(i=Number(i.toFixed(u))),[i,a]}function se(){for(;o.firstChild;)o.removeChild(o.firstChild);for(var e=0;e<=t.handles;e++)i[e]=I(o,t.connect[e]),re(e);z({drag:t.events.drag,fixed:!0})}Pc(l=d,t.cssClasses.target),0===t.dir?Pc(l,t.cssClasses.ltr):Pc(l,t.cssClasses.rtl),0===t.ort?Pc(l,t.cssClasses.horizontal):Pc(l,t.cssClasses.vertical),Pc(l,"rtl"===getComputedStyle(l).direction?t.cssClasses.textDirectionRtl:t.cssClasses.textDirectionLtr),r=M(l,t.cssClasses.base),function(e,n){o=M(n,t.cssClasses.connects),a=[],(i=[]).push(I(o,e[0]));for(var r=0;r<t.handles;r++)a.push(x(n,r)),g[r]=r,i.push(I(o,e[r+1]))}(t.connect,r),z(t.events),ae(t.start),t.pips&&F(t.pips),t.tooltips&&D(),X("update"+Wc),G("update"+Wc,(function(e,n,r,o,i){g.forEach((function(e){var n=a[e],o=K(m,e,0,!0,!0,!0),u=K(m,e,100,!0,!0,!0),s=i[e],l=String(t.ariaFormat.to(r[e]));o=h.fromStepping(o).toFixed(1),u=h.fromStepping(u).toFixed(1),s=h.fromStepping(s).toFixed(1),n.children[0].setAttribute("aria-valuemin",o),n.children[0].setAttribute("aria-valuemax",u),n.children[0].setAttribute("aria-valuenow",s),n.children[0].setAttribute("aria-valuetext",l)}))}));var le={destroy:function(){for(X(Wc),X(Xc),Object.keys(t.cssClasses).forEach((function(e){Uc(d,t.cssClasses[e])}));d.firstChild;)d.removeChild(d.firstChild);delete d.noUiSlider},steps:function(){return g.map(ue)},on:G,off:X,get:ie,set:ae,setHandle:function(e,t,n,r){if(!((e=Number(e))>=0&&e<g.length))throw new Error("noUiSlider: invalid handle number, got: "+e);ne(e,oe(t,e),!0,!0,r),W("update",e),n&&W("set",e)},reset:function(e){ae(t.start,e)},disable:function(e){null!=e?(a[e].setAttribute("disabled",""),a[e].handle.removeAttribute("tabindex")):(d.setAttribute("disabled",""),a.forEach((function(e){e.handle.removeAttribute("tabindex")})))},enable:function(e){null!=e?(a[e].removeAttribute("disabled"),a[e].handle.setAttribute("tabindex","0")):(d.removeAttribute("disabled"),a.forEach((function(e){e.removeAttribute("disabled"),e.handle.setAttribute("tabindex","0")})))},__moveHandles:function(e,t,n){Z(e,t,m,n)},options:n,updateOptions:function(e,r){var o=ie(),a=["margin","limit","padding","range","animate","snap","step","format","pips","tooltips","connect"];a.forEach((function(t){void 0!==e[t]&&(n[t]=e[t])}));var i=wf(n);a.forEach((function(n){void 0!==e[n]&&(t[n]=i[n])})),h=i.spectrum,t.margin=i.margin,t.limit=i.limit,t.padding=i.padding,t.pips?F(t.pips):L(),t.tooltips?D():T(),m=[],ae(Tc(e.start)?e.start:o,r),e.connect&&se()},target:d,removePips:L,removeTooltips:T,getPositions:function(){return m.slice()},getTooltips:function(){return s},getOrigins:function(){return a},pips:F};return le}var Nf={__spectrum:jc,cssClasses:Gc,create:function(e,t){if(!e||!e.nodeName)throw new Error("noUiSlider: create requires a single element, got: "+e);if(e.noUiSlider)throw new Error("noUiSlider: Slider was already initialized.");var n=Ef(e,wf(t),t);return e.noUiSlider=n,n}},Mf=["onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition"],xf={_disable:[],allowInput:!1,allowInvalidPreload:!1,altFormat:"F j, Y",altInput:!1,altInputClass:"form-control input",animate:"object"==typeof window&&-1===window.navigator.userAgent.indexOf("MSIE"),ariaDateFormat:"F j, Y",autoFillDefaultTime:!0,clickOpens:!0,closeOnSelect:!0,conjunction:", ",dateFormat:"Y-m-d",defaultHour:12,defaultMinute:0,defaultSeconds:0,disable:[],disableMobile:!1,enableSeconds:!1,enableTime:!1,errorHandler:function(e){return"undefined"!=typeof console&&console.warn(e)},getWeek:function(e){var t=new Date(e.getTime());t.setHours(0,0,0,0),t.setDate(t.getDate()+3-(t.getDay()+6)%7);var n=new Date(t.getFullYear(),0,4);return 1+Math.round(((t.getTime()-n.getTime())/864e5-3+(n.getDay()+6)%7)/7)},hourIncrement:1,ignoredFocusElements:[],inline:!1,locale:"default",minuteIncrement:5,mode:"single",monthSelectorType:"dropdown",nextArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>",noCalendar:!1,now:new Date,onChange:[],onClose:[],onDayCreate:[],onDestroy:[],onKeyDown:[],onMonthChange:[],onOpen:[],onParseConfig:[],onReady:[],onValueUpdate:[],onYearChange:[],onPreCalendarPosition:[],plugins:[],position:"auto",positionElement:void 0,prevArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>",shorthandCurrentMonth:!1,showMonths:1,static:!1,time_24hr:!1,weekNumbers:!1,wrap:!1},If={weekdays:{shorthand:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longhand:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},months:{shorthand:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longhand:["January","February","March","April","May","June","July","August","September","October","November","December"]},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:0,ordinal:function(e){var t=e%100;if(t>3&&t<21)return"th";switch(t%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},rangeSeparator:" to ",weekAbbreviation:"Wk",scrollTitle:"Scroll to increment",toggleTitle:"Click to toggle",amPM:["AM","PM"],yearAriaLabel:"Year",monthAriaLabel:"Month",hourAriaLabel:"Hour",minuteAriaLabel:"Minute",time_24hr:!1},Af=function(e,t){return void 0===t&&(t=2),("000"+e).slice(-1*t)},Cf=function(e){return!0===e?1:0};function Sf(e,t){var n;return function(){var r=this,o=arguments;clearTimeout(n),n=setTimeout((function(){return e.apply(r,o)}),t)}}var Tf=function(e){return e instanceof Array?e:[e]};function Df(e,t,n){if(!0===n)return e.classList.add(t);e.classList.remove(t)}function Of(e,t,n){var r=window.document.createElement(e);return t=t||"",n=n||"",r.className=t,void 0!==n&&(r.textContent=n),r}function Rf(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function kf(e,t){return t(e)?e:e.parentNode?kf(e.parentNode,t):void 0}function Lf(e,t){var n=Of("div","numInputWrapper"),r=Of("input","numInput "+e),o=Of("span","arrowUp"),a=Of("span","arrowDown");if(-1===navigator.userAgent.indexOf("MSIE 9.0")?r.type="number":(r.type="text",r.pattern="\\d*"),void 0!==t)for(var i in t)r.setAttribute(i,t[i]);return n.appendChild(r),n.appendChild(o),n.appendChild(a),n}function Ff(e){try{return"function"==typeof e.composedPath?e.composedPath()[0]:e.target}catch(t){return e.target}}var Pf=function(){},Uf=function(e,t,n){return n.months[t?"shorthand":"longhand"][e]},Yf={D:Pf,F:function(e,t,n){e.setMonth(n.months.longhand.indexOf(t))},G:function(e,t){e.setHours((e.getHours()>=12?12:0)+parseFloat(t))},H:function(e,t){e.setHours(parseFloat(t))},J:function(e,t){e.setDate(parseFloat(t))},K:function(e,t,n){e.setHours(e.getHours()%12+12*Cf(new RegExp(n.amPM[1],"i").test(t)))},M:function(e,t,n){e.setMonth(n.months.shorthand.indexOf(t))},S:function(e,t){e.setSeconds(parseFloat(t))},U:function(e,t){return new Date(1e3*parseFloat(t))},W:function(e,t,n){var r=parseInt(t),o=new Date(e.getFullYear(),0,2+7*(r-1),0,0,0,0);return o.setDate(o.getDate()-o.getDay()+n.firstDayOfWeek),o},Y:function(e,t){e.setFullYear(parseFloat(t))},Z:function(e,t){return new Date(t)},d:function(e,t){e.setDate(parseFloat(t))},h:function(e,t){e.setHours((e.getHours()>=12?12:0)+parseFloat(t))},i:function(e,t){e.setMinutes(parseFloat(t))},j:function(e,t){e.setDate(parseFloat(t))},l:Pf,m:function(e,t){e.setMonth(parseFloat(t)-1)},n:function(e,t){e.setMonth(parseFloat(t)-1)},s:function(e,t){e.setSeconds(parseFloat(t))},u:function(e,t){return new Date(parseFloat(t))},w:Pf,y:function(e,t){e.setFullYear(2e3+parseFloat(t))}},Vf={D:"",F:"",G:"(\\d\\d|\\d)",H:"(\\d\\d|\\d)",J:"(\\d\\d|\\d)\\w+",K:"",M:"",S:"(\\d\\d|\\d)",U:"(.+)",W:"(\\d\\d|\\d)",Y:"(\\d{4})",Z:"(.+)",d:"(\\d\\d|\\d)",h:"(\\d\\d|\\d)",i:"(\\d\\d|\\d)",j:"(\\d\\d|\\d)",l:"",m:"(\\d\\d|\\d)",n:"(\\d\\d|\\d)",s:"(\\d\\d|\\d)",u:"(.+)",w:"(\\d\\d|\\d)",y:"(\\d{2})"},$f={Z:function(e){return e.toISOString()},D:function(e,t,n){return t.weekdays.shorthand[$f.w(e,t,n)]},F:function(e,t,n){return Uf($f.n(e,t,n)-1,!1,t)},G:function(e,t,n){return Af($f.h(e,t,n))},H:function(e){return Af(e.getHours())},J:function(e,t){return void 0!==t.ordinal?e.getDate()+t.ordinal(e.getDate()):e.getDate()},K:function(e,t){return t.amPM[Cf(e.getHours()>11)]},M:function(e,t){return Uf(e.getMonth(),!0,t)},S:function(e){return Af(e.getSeconds())},U:function(e){return e.getTime()/1e3},W:function(e,t,n){return n.getWeek(e)},Y:function(e){return Af(e.getFullYear(),4)},d:function(e){return Af(e.getDate())},h:function(e){return e.getHours()%12?e.getHours()%12:12},i:function(e){return Af(e.getMinutes())},j:function(e){return e.getDate()},l:function(e,t){return t.weekdays.longhand[e.getDay()]},m:function(e){return Af(e.getMonth()+1)},n:function(e){return e.getMonth()+1},s:function(e){return e.getSeconds()},u:function(e){return e.getTime()},w:function(e){return e.getDay()},y:function(e){return String(e.getFullYear()).substring(2)}},Hf=function(e){var t=e.config,n=void 0===t?xf:t,r=e.l10n,o=void 0===r?If:r,a=e.isMobile,i=void 0!==a&&a;return function(e,t,r){var a=r||o;return void 0===n.formatDate||i?t.split("").map((function(t,r,o){return $f[t]&&"\\"!==o[r-1]?$f[t](e,a,n):"\\"!==t?t:""})).join(""):n.formatDate(e,t,a)}},qf=function(e){var t=e.config,n=void 0===t?xf:t,r=e.l10n,o=void 0===r?If:r;return function(e,t,r,a){if(0===e||e){var i,u=a||o,s=e;if(e instanceof Date)i=new Date(e.getTime());else if("string"!=typeof e&&void 0!==e.toFixed)i=new Date(e);else if("string"==typeof e){var l=t||(n||xf).dateFormat,c=String(e).trim();if("today"===c)i=new Date,r=!0;else if(n&&n.parseDate)i=n.parseDate(e,l);else if(/Z$/.test(c)||/GMT$/.test(c))i=new Date(e);else{for(var f=void 0,d=[],h=0,p=0,m="";h<l.length;h++){var g=l[h],v="\\"===g,y="\\"===l[h-1]||v;if(Vf[g]&&!y){m+=Vf[g];var b=new RegExp(m).exec(e);b&&(f=!0)&&d["Y"!==g?"push":"unshift"]({fn:Yf[g],val:b[++p]})}else v||(m+=".")}i=n&&n.noCalendar?new Date((new Date).setHours(0,0,0,0)):new Date((new Date).getFullYear(),0,1,0,0,0,0),d.forEach((function(e){var t=e.fn,n=e.val;return i=t(i,n,u)||i})),i=f?i:void 0}}if(i instanceof Date&&!isNaN(i.getTime()))return!0===r&&i.setHours(0,0,0,0),i;n.errorHandler(new Error("Invalid date provided: "+s))}}};function Bf(e,t,n){return void 0===n&&(n=!0),!1!==n?new Date(e.getTime()).setHours(0,0,0,0)-new Date(t.getTime()).setHours(0,0,0,0):e.getTime()-t.getTime()}var jf=function(e,t,n){return 3600*e+60*t+n},zf=864e5;function Gf(e){var t=e.defaultHour,n=e.defaultMinute,r=e.defaultSeconds;if(void 0!==e.minDate){var o=e.minDate.getHours(),a=e.minDate.getMinutes(),i=e.minDate.getSeconds();t<o&&(t=o),t===o&&n<a&&(n=a),t===o&&n===a&&r<i&&(r=e.minDate.getSeconds())}if(void 0!==e.maxDate){var u=e.maxDate.getHours(),s=e.maxDate.getMinutes();(t=Math.min(t,u))===u&&(n=Math.min(s,n)),t===u&&n===s&&(r=e.maxDate.getSeconds())}return{hours:t,minutes:n,seconds:r}}"function"!=typeof Object.assign&&(Object.assign=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(!e)throw TypeError("Cannot convert undefined or null to object");for(var r=function(t){t&&Object.keys(t).forEach((function(n){return e[n]=t[n]}))},o=0,a=t;o<a.length;o++){r(a[o])}return e});var Xf=function(){return Xf=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Xf.apply(this,arguments)},Wf=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var a=arguments[t],i=0,u=a.length;i<u;i++,o++)r[o]=a[i];return r};function Kf(e,t){var n={config:Xf(Xf({},xf),Zf.defaultConfig),l10n:If};function r(){var e;return(null===(e=n.calendarContainer)||void 0===e?void 0:e.getRootNode()).activeElement||document.activeElement}function o(e){return e.bind(n)}function a(){var e=n.config;!1===e.weekNumbers&&1===e.showMonths||!0!==e.noCalendar&&window.requestAnimationFrame((function(){if(void 0!==n.calendarContainer&&(n.calendarContainer.style.visibility="hidden",n.calendarContainer.style.display="block"),void 0!==n.daysContainer){var t=(n.days.offsetWidth+1)*e.showMonths;n.daysContainer.style.width=t+"px",n.calendarContainer.style.width=t+(void 0!==n.weekWrapper?n.weekWrapper.offsetWidth:0)+"px",n.calendarContainer.style.removeProperty("visibility"),n.calendarContainer.style.removeProperty("display")}}))}function i(e){if(0===n.selectedDates.length){var t=void 0===n.config.minDate||Bf(new Date,n.config.minDate)>=0?new Date:new Date(n.config.minDate.getTime()),r=Gf(n.config);t.setHours(r.hours,r.minutes,r.seconds,t.getMilliseconds()),n.selectedDates=[t],n.latestSelectedDateObj=t}void 0!==e&&"blur"!==e.type&&function(e){e.preventDefault();var t="keydown"===e.type,r=Ff(e),o=r;void 0!==n.amPM&&r===n.amPM&&(n.amPM.textContent=n.l10n.amPM[Cf(n.amPM.textContent===n.l10n.amPM[0])]);var a=parseFloat(o.getAttribute("min")),i=parseFloat(o.getAttribute("max")),u=parseFloat(o.getAttribute("step")),s=parseInt(o.value,10),l=e.delta||(t?38===e.which?1:-1:0),c=s+u*l;if(void 0!==o.value&&2===o.value.length){var f=o===n.hourElement,d=o===n.minuteElement;c<a?(c=i+c+Cf(!f)+(Cf(f)&&Cf(!n.amPM)),d&&m(void 0,-1,n.hourElement)):c>i&&(c=o===n.hourElement?c-i-Cf(!n.amPM):a,d&&m(void 0,1,n.hourElement)),n.amPM&&f&&(1===u?c+s===23:Math.abs(c-s)>u)&&(n.amPM.textContent=n.l10n.amPM[Cf(n.amPM.textContent===n.l10n.amPM[0])]),o.value=Af(c)}}(e);var o=n._input.value;u(),J(),n._input.value!==o&&n._debouncedChange()}function u(){if(void 0!==n.hourElement&&void 0!==n.minuteElement){var e,t,r=(parseInt(n.hourElement.value.slice(-2),10)||0)%24,o=(parseInt(n.minuteElement.value,10)||0)%60,a=void 0!==n.secondElement?(parseInt(n.secondElement.value,10)||0)%60:0;void 0!==n.amPM&&(e=r,t=n.amPM.textContent,r=e%12+12*Cf(t===n.l10n.amPM[1]));var i=void 0!==n.config.minTime||n.config.minDate&&n.minDateHasTime&&n.latestSelectedDateObj&&0===Bf(n.latestSelectedDateObj,n.config.minDate,!0),u=void 0!==n.config.maxTime||n.config.maxDate&&n.maxDateHasTime&&n.latestSelectedDateObj&&0===Bf(n.latestSelectedDateObj,n.config.maxDate,!0);if(void 0!==n.config.maxTime&&void 0!==n.config.minTime&&n.config.minTime>n.config.maxTime){var s=jf(n.config.minTime.getHours(),n.config.minTime.getMinutes(),n.config.minTime.getSeconds()),c=jf(n.config.maxTime.getHours(),n.config.maxTime.getMinutes(),n.config.maxTime.getSeconds()),f=jf(r,o,a);if(f>c&&f<s){var d=function(e){var t=Math.floor(e/3600),n=(e-3600*t)/60;return[t,n,e-3600*t-60*n]}(s);r=d[0],o=d[1],a=d[2]}}else{if(u){var h=void 0!==n.config.maxTime?n.config.maxTime:n.config.maxDate;(r=Math.min(r,h.getHours()))===h.getHours()&&(o=Math.min(o,h.getMinutes())),o===h.getMinutes()&&(a=Math.min(a,h.getSeconds()))}if(i){var p=void 0!==n.config.minTime?n.config.minTime:n.config.minDate;(r=Math.max(r,p.getHours()))===p.getHours()&&o<p.getMinutes()&&(o=p.getMinutes()),o===p.getMinutes()&&(a=Math.max(a,p.getSeconds()))}}l(r,o,a)}}function s(e){var t=e||n.latestSelectedDateObj;t&&t instanceof Date&&l(t.getHours(),t.getMinutes(),t.getSeconds())}function l(e,t,r){void 0!==n.latestSelectedDateObj&&n.latestSelectedDateObj.setHours(e%24,t,r||0,0),n.hourElement&&n.minuteElement&&!n.isMobile&&(n.hourElement.value=Af(n.config.time_24hr?e:(12+e)%12+12*Cf(e%12==0)),n.minuteElement.value=Af(t),void 0!==n.amPM&&(n.amPM.textContent=n.l10n.amPM[Cf(e>=12)]),void 0!==n.secondElement&&(n.secondElement.value=Af(r)))}function c(e){var t=Ff(e),n=parseInt(t.value)+(e.delta||0);(n/1e3>1||"Enter"===e.key&&!/[^\d]/.test(n.toString()))&&T(n)}function f(e,t,r,o){return t instanceof Array?t.forEach((function(t){return f(e,t,r,o)})):e instanceof Array?e.forEach((function(e){return f(e,t,r,o)})):(e.addEventListener(t,r,o),void n._handlers.push({remove:function(){return e.removeEventListener(t,r,o)}}))}function d(){X("onChange")}function h(e,t){var r=void 0!==e?n.parseDate(e):n.latestSelectedDateObj||(n.config.minDate&&n.config.minDate>n.now?n.config.minDate:n.config.maxDate&&n.config.maxDate<n.now?n.config.maxDate:n.now),o=n.currentYear,a=n.currentMonth;try{void 0!==r&&(n.currentYear=r.getFullYear(),n.currentMonth=r.getMonth())}catch(e){e.message="Invalid date supplied: "+r,n.config.errorHandler(e)}t&&n.currentYear!==o&&(X("onYearChange"),E()),!t||n.currentYear===o&&n.currentMonth===a||X("onMonthChange"),n.redraw()}function p(e){var t=Ff(e);~t.className.indexOf("arrow")&&m(e,t.classList.contains("arrowUp")?1:-1)}function m(e,t,n){var r=e&&Ff(e),o=n||r&&r.parentNode&&r.parentNode.firstChild,a=W("increment");a.delta=t,o&&o.dispatchEvent(a)}function g(e,t,r,o){var a=D(t,!0),i=Of("span",e,t.getDate().toString());return i.dateObj=t,i.$i=o,i.setAttribute("aria-label",n.formatDate(t,n.config.ariaDateFormat)),-1===e.indexOf("hidden")&&0===Bf(t,n.now)&&(n.todayDateElem=i,i.classList.add("today"),i.setAttribute("aria-current","date")),a?(i.tabIndex=-1,K(t)&&(i.classList.add("selected"),n.selectedDateElem=i,"range"===n.config.mode&&(Df(i,"startRange",n.selectedDates[0]&&0===Bf(t,n.selectedDates[0],!0)),Df(i,"endRange",n.selectedDates[1]&&0===Bf(t,n.selectedDates[1],!0)),"nextMonthDay"===e&&i.classList.add("inRange")))):i.classList.add("flatpickr-disabled"),"range"===n.config.mode&&function(e){return!("range"!==n.config.mode||n.selectedDates.length<2)&&(Bf(e,n.selectedDates[0])>=0&&Bf(e,n.selectedDates[1])<=0)}(t)&&!K(t)&&i.classList.add("inRange"),n.weekNumbers&&1===n.config.showMonths&&"prevMonthDay"!==e&&o%7==6&&n.weekNumbers.insertAdjacentHTML("beforeend","<span class='flatpickr-day'>"+n.config.getWeek(t)+"</span>"),X("onDayCreate",i),i}function v(e){e.focus(),"range"===n.config.mode&&L(e)}function y(e){for(var t=e>0?0:n.config.showMonths-1,r=e>0?n.config.showMonths:-1,o=t;o!=r;o+=e)for(var a=n.daysContainer.children[o],i=e>0?0:a.children.length-1,u=e>0?a.children.length:-1,s=i;s!=u;s+=e){var l=a.children[s];if(-1===l.className.indexOf("hidden")&&D(l.dateObj))return l}}function b(e,t){var o=r(),a=O(o||document.body),i=void 0!==e?e:a?o:void 0!==n.selectedDateElem&&O(n.selectedDateElem)?n.selectedDateElem:void 0!==n.todayDateElem&&O(n.todayDateElem)?n.todayDateElem:y(t>0?1:-1);void 0===i?n._input.focus():a?function(e,t){for(var r=-1===e.className.indexOf("Month")?e.dateObj.getMonth():n.currentMonth,o=t>0?n.config.showMonths:-1,a=t>0?1:-1,i=r-n.currentMonth;i!=o;i+=a)for(var u=n.daysContainer.children[i],s=r-n.currentMonth===i?e.$i+t:t<0?u.children.length-1:0,l=u.children.length,c=s;c>=0&&c<l&&c!=(t>0?l:-1);c+=a){var f=u.children[c];if(-1===f.className.indexOf("hidden")&&D(f.dateObj)&&Math.abs(e.$i-c)>=Math.abs(t))return v(f)}n.changeMonth(a),b(y(a),0)}(i,t):v(i)}function _(e,t){for(var r=(new Date(e,t,1).getDay()-n.l10n.firstDayOfWeek+7)%7,o=n.utils.getDaysInMonth((t-1+12)%12,e),a=n.utils.getDaysInMonth(t,e),i=window.document.createDocumentFragment(),u=n.config.showMonths>1,s=u?"prevMonthDay hidden":"prevMonthDay",l=u?"nextMonthDay hidden":"nextMonthDay",c=o+1-r,f=0;c<=o;c++,f++)i.appendChild(g("flatpickr-day "+s,new Date(e,t-1,c),0,f));for(c=1;c<=a;c++,f++)i.appendChild(g("flatpickr-day",new Date(e,t,c),0,f));for(var d=a+1;d<=42-r&&(1===n.config.showMonths||f%7!=0);d++,f++)i.appendChild(g("flatpickr-day "+l,new Date(e,t+1,d%a),0,f));var h=Of("div","dayContainer");return h.appendChild(i),h}function w(){if(void 0!==n.daysContainer){Rf(n.daysContainer),n.weekNumbers&&Rf(n.weekNumbers);for(var e=document.createDocumentFragment(),t=0;t<n.config.showMonths;t++){var r=new Date(n.currentYear,n.currentMonth,1);r.setMonth(n.currentMonth+t),e.appendChild(_(r.getFullYear(),r.getMonth()))}n.daysContainer.appendChild(e),n.days=n.daysContainer.firstChild,"range"===n.config.mode&&1===n.selectedDates.length&&L()}}function E(){if(!(n.config.showMonths>1||"dropdown"!==n.config.monthSelectorType)){var e=function(e){return!(void 0!==n.config.minDate&&n.currentYear===n.config.minDate.getFullYear()&&e<n.config.minDate.getMonth())&&!(void 0!==n.config.maxDate&&n.currentYear===n.config.maxDate.getFullYear()&&e>n.config.maxDate.getMonth())};n.monthsDropdownContainer.tabIndex=-1,n.monthsDropdownContainer.innerHTML="";for(var t=0;t<12;t++)if(e(t)){var r=Of("option","flatpickr-monthDropdown-month");r.value=new Date(n.currentYear,t).getMonth().toString(),r.textContent=Uf(t,n.config.shorthandCurrentMonth,n.l10n),r.tabIndex=-1,n.currentMonth===t&&(r.selected=!0),n.monthsDropdownContainer.appendChild(r)}}}function N(){var e,t=Of("div","flatpickr-month"),r=window.document.createDocumentFragment();n.config.showMonths>1||"static"===n.config.monthSelectorType?e=Of("span","cur-month"):(n.monthsDropdownContainer=Of("select","flatpickr-monthDropdown-months"),n.monthsDropdownContainer.setAttribute("aria-label",n.l10n.monthAriaLabel),f(n.monthsDropdownContainer,"change",(function(e){var t=Ff(e),r=parseInt(t.value,10);n.changeMonth(r-n.currentMonth),X("onMonthChange")})),E(),e=n.monthsDropdownContainer);var o=Lf("cur-year",{tabindex:"-1"}),a=o.getElementsByTagName("input")[0];a.setAttribute("aria-label",n.l10n.yearAriaLabel),n.config.minDate&&a.setAttribute("min",n.config.minDate.getFullYear().toString()),n.config.maxDate&&(a.setAttribute("max",n.config.maxDate.getFullYear().toString()),a.disabled=!!n.config.minDate&&n.config.minDate.getFullYear()===n.config.maxDate.getFullYear());var i=Of("div","flatpickr-current-month");return i.appendChild(e),i.appendChild(o),r.appendChild(i),t.appendChild(r),{container:t,yearElement:a,monthElement:e}}function M(){Rf(n.monthNav),n.monthNav.appendChild(n.prevMonthNav),n.config.showMonths&&(n.yearElements=[],n.monthElements=[]);for(var e=n.config.showMonths;e--;){var t=N();n.yearElements.push(t.yearElement),n.monthElements.push(t.monthElement),n.monthNav.appendChild(t.container)}n.monthNav.appendChild(n.nextMonthNav)}function x(){n.weekdayContainer?Rf(n.weekdayContainer):n.weekdayContainer=Of("div","flatpickr-weekdays");for(var e=n.config.showMonths;e--;){var t=Of("div","flatpickr-weekdaycontainer");n.weekdayContainer.appendChild(t)}return I(),n.weekdayContainer}function I(){if(n.weekdayContainer){var e=n.l10n.firstDayOfWeek,t=Wf(n.l10n.weekdays.shorthand);e>0&&e<t.length&&(t=Wf(t.splice(e,t.length),t.splice(0,e)));for(var r=n.config.showMonths;r--;)n.weekdayContainer.children[r].innerHTML="\n      <span class='flatpickr-weekday'>\n        "+t.join("</span><span class='flatpickr-weekday'>")+"\n      </span>\n      "}}function A(e,t){void 0===t&&(t=!0);var r=t?e:e-n.currentMonth;r<0&&!0===n._hidePrevMonthArrow||r>0&&!0===n._hideNextMonthArrow||(n.currentMonth+=r,(n.currentMonth<0||n.currentMonth>11)&&(n.currentYear+=n.currentMonth>11?1:-1,n.currentMonth=(n.currentMonth+12)%12,X("onYearChange"),E()),w(),X("onMonthChange"),Q())}function C(e){return n.calendarContainer.contains(e)}function S(e){if(n.isOpen&&!n.config.inline){var t=Ff(e),r=C(t),o=!(t===n.input||t===n.altInput||n.element.contains(t)||e.path&&e.path.indexOf&&(~e.path.indexOf(n.input)||~e.path.indexOf(n.altInput)))&&!r&&!C(e.relatedTarget),a=!n.config.ignoredFocusElements.some((function(e){return e.contains(t)}));o&&a&&(n.config.allowInput&&n.setDate(n._input.value,!1,n.config.altInput?n.config.altFormat:n.config.dateFormat),void 0!==n.timeContainer&&void 0!==n.minuteElement&&void 0!==n.hourElement&&""!==n.input.value&&void 0!==n.input.value&&i(),n.close(),n.config&&"range"===n.config.mode&&1===n.selectedDates.length&&n.clear(!1))}}function T(e){if(!(!e||n.config.minDate&&e<n.config.minDate.getFullYear()||n.config.maxDate&&e>n.config.maxDate.getFullYear())){var t=e,r=n.currentYear!==t;n.currentYear=t||n.currentYear,n.config.maxDate&&n.currentYear===n.config.maxDate.getFullYear()?n.currentMonth=Math.min(n.config.maxDate.getMonth(),n.currentMonth):n.config.minDate&&n.currentYear===n.config.minDate.getFullYear()&&(n.currentMonth=Math.max(n.config.minDate.getMonth(),n.currentMonth)),r&&(n.redraw(),X("onYearChange"),E())}}function D(e,t){var r;void 0===t&&(t=!0);var o=n.parseDate(e,void 0,t);if(n.config.minDate&&o&&Bf(o,n.config.minDate,void 0!==t?t:!n.minDateHasTime)<0||n.config.maxDate&&o&&Bf(o,n.config.maxDate,void 0!==t?t:!n.maxDateHasTime)>0)return!1;if(!n.config.enable&&0===n.config.disable.length)return!0;if(void 0===o)return!1;for(var a=!!n.config.enable,i=null!==(r=n.config.enable)&&void 0!==r?r:n.config.disable,u=0,s=void 0;u<i.length;u++){if("function"==typeof(s=i[u])&&s(o))return a;if(s instanceof Date&&void 0!==o&&s.getTime()===o.getTime())return a;if("string"==typeof s){var l=n.parseDate(s,void 0,!0);return l&&l.getTime()===o.getTime()?a:!a}if("object"==typeof s&&void 0!==o&&s.from&&s.to&&o.getTime()>=s.from.getTime()&&o.getTime()<=s.to.getTime())return a}return!a}function O(e){return void 0!==n.daysContainer&&(-1===e.className.indexOf("hidden")&&-1===e.className.indexOf("flatpickr-disabled")&&n.daysContainer.contains(e))}function R(e){var t=e.target===n._input,r=n._input.value.trimEnd()!==Z();!t||!r||e.relatedTarget&&C(e.relatedTarget)||n.setDate(n._input.value,!0,e.target===n.altInput?n.config.altFormat:n.config.dateFormat)}function k(t){var o=Ff(t),a=n.config.wrap?e.contains(o):o===n._input,s=n.config.allowInput,l=n.isOpen&&(!s||!a),c=n.config.inline&&a&&!s;if(13===t.keyCode&&a){if(s)return n.setDate(n._input.value,!0,o===n.altInput?n.config.altFormat:n.config.dateFormat),n.close(),o.blur();n.open()}else if(C(o)||l||c){var f=!!n.timeContainer&&n.timeContainer.contains(o);switch(t.keyCode){case 13:f?(t.preventDefault(),i(),H()):q(t);break;case 27:t.preventDefault(),H();break;case 8:case 46:a&&!n.config.allowInput&&(t.preventDefault(),n.clear());break;case 37:case 39:if(f||a)n.hourElement&&n.hourElement.focus();else{t.preventDefault();var d=r();if(void 0!==n.daysContainer&&(!1===s||d&&O(d))){var h=39===t.keyCode?1:-1;t.ctrlKey?(t.stopPropagation(),A(h),b(y(1),0)):b(void 0,h)}}break;case 38:case 40:t.preventDefault();var p=40===t.keyCode?1:-1;n.daysContainer&&void 0!==o.$i||o===n.input||o===n.altInput?t.ctrlKey?(t.stopPropagation(),T(n.currentYear-p),b(y(1),0)):f||b(void 0,7*p):o===n.currentYearElement?T(n.currentYear-p):n.config.enableTime&&(!f&&n.hourElement&&n.hourElement.focus(),i(t),n._debouncedChange());break;case 9:if(f){var m=[n.hourElement,n.minuteElement,n.secondElement,n.amPM].concat(n.pluginElements).filter((function(e){return e})),g=m.indexOf(o);if(-1!==g){var v=m[g+(t.shiftKey?-1:1)];t.preventDefault(),(v||n._input).focus()}}else!n.config.noCalendar&&n.daysContainer&&n.daysContainer.contains(o)&&t.shiftKey&&(t.preventDefault(),n._input.focus())}}if(void 0!==n.amPM&&o===n.amPM)switch(t.key){case n.l10n.amPM[0].charAt(0):case n.l10n.amPM[0].charAt(0).toLowerCase():n.amPM.textContent=n.l10n.amPM[0],u(),J();break;case n.l10n.amPM[1].charAt(0):case n.l10n.amPM[1].charAt(0).toLowerCase():n.amPM.textContent=n.l10n.amPM[1],u(),J()}(a||C(o))&&X("onKeyDown",t)}function L(e,t){if(void 0===t&&(t="flatpickr-day"),1===n.selectedDates.length&&(!e||e.classList.contains(t)&&!e.classList.contains("flatpickr-disabled"))){for(var r=e?e.dateObj.getTime():n.days.firstElementChild.dateObj.getTime(),o=n.parseDate(n.selectedDates[0],void 0,!0).getTime(),a=Math.min(r,n.selectedDates[0].getTime()),i=Math.max(r,n.selectedDates[0].getTime()),u=!1,s=0,l=0,c=a;c<i;c+=zf)D(new Date(c),!0)||(u=u||c>a&&c<i,c<o&&(!s||c>s)?s=c:c>o&&(!l||c<l)&&(l=c));Array.from(n.rContainer.querySelectorAll("*:nth-child(-n+"+n.config.showMonths+") > ."+t)).forEach((function(t){var a,i,c,f=t.dateObj.getTime(),d=s>0&&f<s||l>0&&f>l;if(d)return t.classList.add("notAllowed"),void["inRange","startRange","endRange"].forEach((function(e){t.classList.remove(e)}));u&&!d||(["startRange","inRange","endRange","notAllowed"].forEach((function(e){t.classList.remove(e)})),void 0!==e&&(e.classList.add(r<=n.selectedDates[0].getTime()?"startRange":"endRange"),o<r&&f===o?t.classList.add("startRange"):o>r&&f===o&&t.classList.add("endRange"),f>=s&&(0===l||f<=l)&&(i=o,c=r,(a=f)>Math.min(i,c)&&a<Math.max(i,c))&&t.classList.add("inRange")))}))}}function F(){!n.isOpen||n.config.static||n.config.inline||V()}function P(e){return function(t){var r=n.config["_"+e+"Date"]=n.parseDate(t,n.config.dateFormat),o=n.config["_"+("min"===e?"max":"min")+"Date"];void 0!==r&&(n["min"===e?"minDateHasTime":"maxDateHasTime"]=r.getHours()>0||r.getMinutes()>0||r.getSeconds()>0),n.selectedDates&&(n.selectedDates=n.selectedDates.filter((function(e){return D(e)})),n.selectedDates.length||"min"!==e||s(r),J()),n.daysContainer&&($(),void 0!==r?n.currentYearElement[e]=r.getFullYear().toString():n.currentYearElement.removeAttribute(e),n.currentYearElement.disabled=!!o&&void 0!==r&&o.getFullYear()===r.getFullYear())}}function U(){return n.config.wrap?e.querySelector("[data-input]"):e}function Y(){"object"!=typeof n.config.locale&&void 0===Zf.l10ns[n.config.locale]&&n.config.errorHandler(new Error("flatpickr: invalid locale "+n.config.locale)),n.l10n=Xf(Xf({},Zf.l10ns.default),"object"==typeof n.config.locale?n.config.locale:"default"!==n.config.locale?Zf.l10ns[n.config.locale]:void 0),Vf.D="("+n.l10n.weekdays.shorthand.join("|")+")",Vf.l="("+n.l10n.weekdays.longhand.join("|")+")",Vf.M="("+n.l10n.months.shorthand.join("|")+")",Vf.F="("+n.l10n.months.longhand.join("|")+")",Vf.K="("+n.l10n.amPM[0]+"|"+n.l10n.amPM[1]+"|"+n.l10n.amPM[0].toLowerCase()+"|"+n.l10n.amPM[1].toLowerCase()+")",void 0===Xf(Xf({},t),JSON.parse(JSON.stringify(e.dataset||{}))).time_24hr&&void 0===Zf.defaultConfig.time_24hr&&(n.config.time_24hr=n.l10n.time_24hr),n.formatDate=Hf(n),n.parseDate=qf({config:n.config,l10n:n.l10n})}function V(e){if("function"!=typeof n.config.position){if(void 0!==n.calendarContainer){X("onPreCalendarPosition");var t=e||n._positionElement,r=Array.prototype.reduce.call(n.calendarContainer.children,(function(e,t){return e+t.offsetHeight}),0),o=n.calendarContainer.offsetWidth,a=n.config.position.split(" "),i=a[0],u=a.length>1?a[1]:null,s=t.getBoundingClientRect(),l=window.innerHeight-s.bottom,c="above"===i||"below"!==i&&l<r&&s.top>r,f=window.pageYOffset+s.top+(c?-r-2:t.offsetHeight+2);if(Df(n.calendarContainer,"arrowTop",!c),Df(n.calendarContainer,"arrowBottom",c),!n.config.inline){var d=window.pageXOffset+s.left,h=!1,p=!1;"center"===u?(d-=(o-s.width)/2,h=!0):"right"===u&&(d-=o-s.width,p=!0),Df(n.calendarContainer,"arrowLeft",!h&&!p),Df(n.calendarContainer,"arrowCenter",h),Df(n.calendarContainer,"arrowRight",p);var m=window.document.body.offsetWidth-(window.pageXOffset+s.right),g=d+o>window.document.body.offsetWidth,v=m+o>window.document.body.offsetWidth;if(Df(n.calendarContainer,"rightMost",g),!n.config.static)if(n.calendarContainer.style.top=f+"px",g)if(v){var y=function(){for(var e=null,t=0;t<document.styleSheets.length;t++){var n=document.styleSheets[t];if(n.cssRules){try{n.cssRules}catch(e){continue}e=n;break}}return null!=e?e:(r=document.createElement("style"),document.head.appendChild(r),r.sheet);var r}();if(void 0===y)return;var b=window.document.body.offsetWidth,_=Math.max(0,b/2-o/2),w=y.cssRules.length,E="{left:"+s.left+"px;right:auto;}";Df(n.calendarContainer,"rightMost",!1),Df(n.calendarContainer,"centerMost",!0),y.insertRule(".flatpickr-calendar.centerMost:before,.flatpickr-calendar.centerMost:after"+E,w),n.calendarContainer.style.left=_+"px",n.calendarContainer.style.right="auto"}else n.calendarContainer.style.left="auto",n.calendarContainer.style.right=m+"px";else n.calendarContainer.style.left=d+"px",n.calendarContainer.style.right="auto"}}}else n.config.position(n,e)}function $(){n.config.noCalendar||n.isMobile||(E(),Q(),w())}function H(){n._input.focus(),-1!==window.navigator.userAgent.indexOf("MSIE")||void 0!==navigator.msMaxTouchPoints?setTimeout(n.close,0):n.close()}function q(e){e.preventDefault(),e.stopPropagation();var t=kf(Ff(e),(function(e){return e.classList&&e.classList.contains("flatpickr-day")&&!e.classList.contains("flatpickr-disabled")&&!e.classList.contains("notAllowed")}));if(void 0!==t){var r=t,o=n.latestSelectedDateObj=new Date(r.dateObj.getTime()),a=(o.getMonth()<n.currentMonth||o.getMonth()>n.currentMonth+n.config.showMonths-1)&&"range"!==n.config.mode;if(n.selectedDateElem=r,"single"===n.config.mode)n.selectedDates=[o];else if("multiple"===n.config.mode){var i=K(o);i?n.selectedDates.splice(parseInt(i),1):n.selectedDates.push(o)}else"range"===n.config.mode&&(2===n.selectedDates.length&&n.clear(!1,!1),n.latestSelectedDateObj=o,n.selectedDates.push(o),0!==Bf(o,n.selectedDates[0],!0)&&n.selectedDates.sort((function(e,t){return e.getTime()-t.getTime()})));if(u(),a){var s=n.currentYear!==o.getFullYear();n.currentYear=o.getFullYear(),n.currentMonth=o.getMonth(),s&&(X("onYearChange"),E()),X("onMonthChange")}if(Q(),w(),J(),a||"range"===n.config.mode||1!==n.config.showMonths?void 0!==n.selectedDateElem&&void 0===n.hourElement&&n.selectedDateElem&&n.selectedDateElem.focus():v(r),void 0!==n.hourElement&&void 0!==n.hourElement&&n.hourElement.focus(),n.config.closeOnSelect){var l="single"===n.config.mode&&!n.config.enableTime,c="range"===n.config.mode&&2===n.selectedDates.length&&!n.config.enableTime;(l||c)&&H()}d()}}n.parseDate=qf({config:n.config,l10n:n.l10n}),n._handlers=[],n.pluginElements=[],n.loadedPlugins=[],n._bind=f,n._setHoursFromDate=s,n._positionCalendar=V,n.changeMonth=A,n.changeYear=T,n.clear=function(e,t){void 0===e&&(e=!0);void 0===t&&(t=!0);n.input.value="",void 0!==n.altInput&&(n.altInput.value="");void 0!==n.mobileInput&&(n.mobileInput.value="");n.selectedDates=[],n.latestSelectedDateObj=void 0,!0===t&&(n.currentYear=n._initialDate.getFullYear(),n.currentMonth=n._initialDate.getMonth());if(!0===n.config.enableTime){var r=Gf(n.config);l(r.hours,r.minutes,r.seconds)}n.redraw(),e&&X("onChange")},n.close=function(){n.isOpen=!1,n.isMobile||(void 0!==n.calendarContainer&&n.calendarContainer.classList.remove("open"),void 0!==n._input&&n._input.classList.remove("active"));X("onClose")},n.onMouseOver=L,n._createElement=Of,n.createDay=g,n.destroy=function(){void 0!==n.config&&X("onDestroy");for(var e=n._handlers.length;e--;)n._handlers[e].remove();if(n._handlers=[],n.mobileInput)n.mobileInput.parentNode&&n.mobileInput.parentNode.removeChild(n.mobileInput),n.mobileInput=void 0;else if(n.calendarContainer&&n.calendarContainer.parentNode)if(n.config.static&&n.calendarContainer.parentNode){var t=n.calendarContainer.parentNode;if(t.lastChild&&t.removeChild(t.lastChild),t.parentNode){for(;t.firstChild;)t.parentNode.insertBefore(t.firstChild,t);t.parentNode.removeChild(t)}}else n.calendarContainer.parentNode.removeChild(n.calendarContainer);n.altInput&&(n.input.type="text",n.altInput.parentNode&&n.altInput.parentNode.removeChild(n.altInput),delete n.altInput);n.input&&(n.input.type=n.input._type,n.input.classList.remove("flatpickr-input"),n.input.removeAttribute("readonly"));["_showTimeInput","latestSelectedDateObj","_hideNextMonthArrow","_hidePrevMonthArrow","__hideNextMonthArrow","__hidePrevMonthArrow","isMobile","isOpen","selectedDateElem","minDateHasTime","maxDateHasTime","days","daysContainer","_input","_positionElement","innerContainer","rContainer","monthNav","todayDateElem","calendarContainer","weekdayContainer","prevMonthNav","nextMonthNav","monthsDropdownContainer","currentMonthElement","currentYearElement","navigationCurrentMonth","selectedDateElem","config"].forEach((function(e){try{delete n[e]}catch(e){}}))},n.isEnabled=D,n.jumpToDate=h,n.updateValue=J,n.open=function(e,t){void 0===t&&(t=n._positionElement);if(!0===n.isMobile){if(e){e.preventDefault();var r=Ff(e);r&&r.blur()}return void 0!==n.mobileInput&&(n.mobileInput.focus(),n.mobileInput.click()),void X("onOpen")}if(n._input.disabled||n.config.inline)return;var o=n.isOpen;n.isOpen=!0,o||(n.calendarContainer.classList.add("open"),n._input.classList.add("active"),X("onOpen"),V(t));!0===n.config.enableTime&&!0===n.config.noCalendar&&(!1!==n.config.allowInput||void 0!==e&&n.timeContainer.contains(e.relatedTarget)||setTimeout((function(){return n.hourElement.select()}),50))},n.redraw=$,n.set=function(e,t){if(null!==e&&"object"==typeof e)for(var r in Object.assign(n.config,e),e)void 0!==B[r]&&B[r].forEach((function(e){return e()}));else n.config[e]=t,void 0!==B[e]?B[e].forEach((function(e){return e()})):Mf.indexOf(e)>-1&&(n.config[e]=Tf(t));n.redraw(),J(!0)},n.setDate=function(e,t,r){void 0===t&&(t=!1);void 0===r&&(r=n.config.dateFormat);if(0!==e&&!e||e instanceof Array&&0===e.length)return n.clear(t);j(e,r),n.latestSelectedDateObj=n.selectedDates[n.selectedDates.length-1],n.redraw(),h(void 0,t),s(),0===n.selectedDates.length&&n.clear(!1);J(t),t&&X("onChange")},n.toggle=function(e){if(!0===n.isOpen)return n.close();n.open(e)};var B={locale:[Y,I],showMonths:[M,a,x],minDate:[h],maxDate:[h],positionElement:[G],clickOpens:[function(){!0===n.config.clickOpens?(f(n._input,"focus",n.open),f(n._input,"click",n.open)):(n._input.removeEventListener("focus",n.open),n._input.removeEventListener("click",n.open))}]};function j(e,t){var r=[];if(e instanceof Array)r=e.map((function(e){return n.parseDate(e,t)}));else if(e instanceof Date||"number"==typeof e)r=[n.parseDate(e,t)];else if("string"==typeof e)switch(n.config.mode){case"single":case"time":r=[n.parseDate(e,t)];break;case"multiple":r=e.split(n.config.conjunction).map((function(e){return n.parseDate(e,t)}));break;case"range":r=e.split(n.l10n.rangeSeparator).map((function(e){return n.parseDate(e,t)}))}else n.config.errorHandler(new Error("Invalid date supplied: "+JSON.stringify(e)));n.selectedDates=n.config.allowInvalidPreload?r:r.filter((function(e){return e instanceof Date&&D(e,!1)})),"range"===n.config.mode&&n.selectedDates.sort((function(e,t){return e.getTime()-t.getTime()}))}function z(e){return e.slice().map((function(e){return"string"==typeof e||"number"==typeof e||e instanceof Date?n.parseDate(e,void 0,!0):e&&"object"==typeof e&&e.from&&e.to?{from:n.parseDate(e.from,void 0),to:n.parseDate(e.to,void 0)}:e})).filter((function(e){return e}))}function G(){n._positionElement=n.config.positionElement||n._input}function X(e,t){if(void 0!==n.config){var r=n.config[e];if(void 0!==r&&r.length>0)for(var o=0;r[o]&&o<r.length;o++)r[o](n.selectedDates,n.input.value,n,t);"onChange"===e&&(n.input.dispatchEvent(W("change")),n.input.dispatchEvent(W("input")))}}function W(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!0),t}function K(e){for(var t=0;t<n.selectedDates.length;t++){var r=n.selectedDates[t];if(r instanceof Date&&0===Bf(r,e))return""+t}return!1}function Q(){n.config.noCalendar||n.isMobile||!n.monthNav||(n.yearElements.forEach((function(e,t){var r=new Date(n.currentYear,n.currentMonth,1);r.setMonth(n.currentMonth+t),n.config.showMonths>1||"static"===n.config.monthSelectorType?n.monthElements[t].textContent=Uf(r.getMonth(),n.config.shorthandCurrentMonth,n.l10n)+" ":n.monthsDropdownContainer.value=r.getMonth().toString(),e.value=r.getFullYear().toString()})),n._hidePrevMonthArrow=void 0!==n.config.minDate&&(n.currentYear===n.config.minDate.getFullYear()?n.currentMonth<=n.config.minDate.getMonth():n.currentYear<n.config.minDate.getFullYear()),n._hideNextMonthArrow=void 0!==n.config.maxDate&&(n.currentYear===n.config.maxDate.getFullYear()?n.currentMonth+1>n.config.maxDate.getMonth():n.currentYear>n.config.maxDate.getFullYear()))}function Z(e){var t=e||(n.config.altInput?n.config.altFormat:n.config.dateFormat);return n.selectedDates.map((function(e){return n.formatDate(e,t)})).filter((function(e,t,r){return"range"!==n.config.mode||n.config.enableTime||r.indexOf(e)===t})).join("range"!==n.config.mode?n.config.conjunction:n.l10n.rangeSeparator)}function J(e){void 0===e&&(e=!0),void 0!==n.mobileInput&&n.mobileFormatStr&&(n.mobileInput.value=void 0!==n.latestSelectedDateObj?n.formatDate(n.latestSelectedDateObj,n.mobileFormatStr):""),n.input.value=Z(n.config.dateFormat),void 0!==n.altInput&&(n.altInput.value=Z(n.config.altFormat)),!1!==e&&X("onValueUpdate")}function ee(e){var t=Ff(e),r=n.prevMonthNav.contains(t),o=n.nextMonthNav.contains(t);r||o?A(r?-1:1):n.yearElements.indexOf(t)>=0?t.select():t.classList.contains("arrowUp")?n.changeYear(n.currentYear+1):t.classList.contains("arrowDown")&&n.changeYear(n.currentYear-1)}return function(){n.element=n.input=e,n.isOpen=!1,function(){var r=["wrap","weekNumbers","allowInput","allowInvalidPreload","clickOpens","time_24hr","enableTime","noCalendar","altInput","shorthandCurrentMonth","inline","static","enableSeconds","disableMobile"],a=Xf(Xf({},JSON.parse(JSON.stringify(e.dataset||{}))),t),i={};n.config.parseDate=a.parseDate,n.config.formatDate=a.formatDate,Object.defineProperty(n.config,"enable",{get:function(){return n.config._enable},set:function(e){n.config._enable=z(e)}}),Object.defineProperty(n.config,"disable",{get:function(){return n.config._disable},set:function(e){n.config._disable=z(e)}});var u="time"===a.mode;if(!a.dateFormat&&(a.enableTime||u)){var s=Zf.defaultConfig.dateFormat||xf.dateFormat;i.dateFormat=a.noCalendar||u?"H:i"+(a.enableSeconds?":S":""):s+" H:i"+(a.enableSeconds?":S":"")}if(a.altInput&&(a.enableTime||u)&&!a.altFormat){var l=Zf.defaultConfig.altFormat||xf.altFormat;i.altFormat=a.noCalendar||u?"h:i"+(a.enableSeconds?":S K":" K"):l+" h:i"+(a.enableSeconds?":S":"")+" K"}Object.defineProperty(n.config,"minDate",{get:function(){return n.config._minDate},set:P("min")}),Object.defineProperty(n.config,"maxDate",{get:function(){return n.config._maxDate},set:P("max")});var c=function(e){return function(t){n.config["min"===e?"_minTime":"_maxTime"]=n.parseDate(t,"H:i:S")}};Object.defineProperty(n.config,"minTime",{get:function(){return n.config._minTime},set:c("min")}),Object.defineProperty(n.config,"maxTime",{get:function(){return n.config._maxTime},set:c("max")}),"time"===a.mode&&(n.config.noCalendar=!0,n.config.enableTime=!0);Object.assign(n.config,i,a);for(var f=0;f<r.length;f++)n.config[r[f]]=!0===n.config[r[f]]||"true"===n.config[r[f]];Mf.filter((function(e){return void 0!==n.config[e]})).forEach((function(e){n.config[e]=Tf(n.config[e]||[]).map(o)})),n.isMobile=!n.config.disableMobile&&!n.config.inline&&"single"===n.config.mode&&!n.config.disable.length&&!n.config.enable&&!n.config.weekNumbers&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);for(f=0;f<n.config.plugins.length;f++){var d=n.config.plugins[f](n)||{};for(var h in d)Mf.indexOf(h)>-1?n.config[h]=Tf(d[h]).map(o).concat(n.config[h]):void 0===a[h]&&(n.config[h]=d[h])}a.altInputClass||(n.config.altInputClass=U().className+" "+n.config.altInputClass);X("onParseConfig")}(),Y(),function(){if(n.input=U(),!n.input)return void n.config.errorHandler(new Error("Invalid input element specified"));n.input._type=n.input.type,n.input.type="text",n.input.classList.add("flatpickr-input"),n._input=n.input,n.config.altInput&&(n.altInput=Of(n.input.nodeName,n.config.altInputClass),n._input=n.altInput,n.altInput.placeholder=n.input.placeholder,n.altInput.disabled=n.input.disabled,n.altInput.required=n.input.required,n.altInput.tabIndex=n.input.tabIndex,n.altInput.type="text",n.input.setAttribute("type","hidden"),!n.config.static&&n.input.parentNode&&n.input.parentNode.insertBefore(n.altInput,n.input.nextSibling));n.config.allowInput||n._input.setAttribute("readonly","readonly");G()}(),function(){n.selectedDates=[],n.now=n.parseDate(n.config.now)||new Date;var e=n.config.defaultDate||("INPUT"!==n.input.nodeName&&"TEXTAREA"!==n.input.nodeName||!n.input.placeholder||n.input.value!==n.input.placeholder?n.input.value:null);e&&j(e,n.config.dateFormat);n._initialDate=n.selectedDates.length>0?n.selectedDates[0]:n.config.minDate&&n.config.minDate.getTime()>n.now.getTime()?n.config.minDate:n.config.maxDate&&n.config.maxDate.getTime()<n.now.getTime()?n.config.maxDate:n.now,n.currentYear=n._initialDate.getFullYear(),n.currentMonth=n._initialDate.getMonth(),n.selectedDates.length>0&&(n.latestSelectedDateObj=n.selectedDates[0]);void 0!==n.config.minTime&&(n.config.minTime=n.parseDate(n.config.minTime,"H:i"));void 0!==n.config.maxTime&&(n.config.maxTime=n.parseDate(n.config.maxTime,"H:i"));n.minDateHasTime=!!n.config.minDate&&(n.config.minDate.getHours()>0||n.config.minDate.getMinutes()>0||n.config.minDate.getSeconds()>0),n.maxDateHasTime=!!n.config.maxDate&&(n.config.maxDate.getHours()>0||n.config.maxDate.getMinutes()>0||n.config.maxDate.getSeconds()>0)}(),n.utils={getDaysInMonth:function(e,t){return void 0===e&&(e=n.currentMonth),void 0===t&&(t=n.currentYear),1===e&&(t%4==0&&t%100!=0||t%400==0)?29:n.l10n.daysInMonth[e]}},n.isMobile||function(){var e=window.document.createDocumentFragment();if(n.calendarContainer=Of("div","flatpickr-calendar"),n.calendarContainer.tabIndex=-1,!n.config.noCalendar){if(e.appendChild((n.monthNav=Of("div","flatpickr-months"),n.yearElements=[],n.monthElements=[],n.prevMonthNav=Of("span","flatpickr-prev-month"),n.prevMonthNav.innerHTML=n.config.prevArrow,n.nextMonthNav=Of("span","flatpickr-next-month"),n.nextMonthNav.innerHTML=n.config.nextArrow,M(),Object.defineProperty(n,"_hidePrevMonthArrow",{get:function(){return n.__hidePrevMonthArrow},set:function(e){n.__hidePrevMonthArrow!==e&&(Df(n.prevMonthNav,"flatpickr-disabled",e),n.__hidePrevMonthArrow=e)}}),Object.defineProperty(n,"_hideNextMonthArrow",{get:function(){return n.__hideNextMonthArrow},set:function(e){n.__hideNextMonthArrow!==e&&(Df(n.nextMonthNav,"flatpickr-disabled",e),n.__hideNextMonthArrow=e)}}),n.currentYearElement=n.yearElements[0],Q(),n.monthNav)),n.innerContainer=Of("div","flatpickr-innerContainer"),n.config.weekNumbers){var t=function(){n.calendarContainer.classList.add("hasWeeks");var e=Of("div","flatpickr-weekwrapper");e.appendChild(Of("span","flatpickr-weekday",n.l10n.weekAbbreviation));var t=Of("div","flatpickr-weeks");return e.appendChild(t),{weekWrapper:e,weekNumbers:t}}(),r=t.weekWrapper,o=t.weekNumbers;n.innerContainer.appendChild(r),n.weekNumbers=o,n.weekWrapper=r}n.rContainer=Of("div","flatpickr-rContainer"),n.rContainer.appendChild(x()),n.daysContainer||(n.daysContainer=Of("div","flatpickr-days"),n.daysContainer.tabIndex=-1),w(),n.rContainer.appendChild(n.daysContainer),n.innerContainer.appendChild(n.rContainer),e.appendChild(n.innerContainer)}n.config.enableTime&&e.appendChild(function(){n.calendarContainer.classList.add("hasTime"),n.config.noCalendar&&n.calendarContainer.classList.add("noCalendar");var e=Gf(n.config);n.timeContainer=Of("div","flatpickr-time"),n.timeContainer.tabIndex=-1;var t=Of("span","flatpickr-time-separator",":"),r=Lf("flatpickr-hour",{"aria-label":n.l10n.hourAriaLabel});n.hourElement=r.getElementsByTagName("input")[0];var o=Lf("flatpickr-minute",{"aria-label":n.l10n.minuteAriaLabel});n.minuteElement=o.getElementsByTagName("input")[0],n.hourElement.tabIndex=n.minuteElement.tabIndex=-1,n.hourElement.value=Af(n.latestSelectedDateObj?n.latestSelectedDateObj.getHours():n.config.time_24hr?e.hours:function(e){switch(e%24){case 0:case 12:return 12;default:return e%12}}(e.hours)),n.minuteElement.value=Af(n.latestSelectedDateObj?n.latestSelectedDateObj.getMinutes():e.minutes),n.hourElement.setAttribute("step",n.config.hourIncrement.toString()),n.minuteElement.setAttribute("step",n.config.minuteIncrement.toString()),n.hourElement.setAttribute("min",n.config.time_24hr?"0":"1"),n.hourElement.setAttribute("max",n.config.time_24hr?"23":"12"),n.hourElement.setAttribute("maxlength","2"),n.minuteElement.setAttribute("min","0"),n.minuteElement.setAttribute("max","59"),n.minuteElement.setAttribute("maxlength","2"),n.timeContainer.appendChild(r),n.timeContainer.appendChild(t),n.timeContainer.appendChild(o),n.config.time_24hr&&n.timeContainer.classList.add("time24hr");if(n.config.enableSeconds){n.timeContainer.classList.add("hasSeconds");var a=Lf("flatpickr-second");n.secondElement=a.getElementsByTagName("input")[0],n.secondElement.value=Af(n.latestSelectedDateObj?n.latestSelectedDateObj.getSeconds():e.seconds),n.secondElement.setAttribute("step",n.minuteElement.getAttribute("step")),n.secondElement.setAttribute("min","0"),n.secondElement.setAttribute("max","59"),n.secondElement.setAttribute("maxlength","2"),n.timeContainer.appendChild(Of("span","flatpickr-time-separator",":")),n.timeContainer.appendChild(a)}n.config.time_24hr||(n.amPM=Of("span","flatpickr-am-pm",n.l10n.amPM[Cf((n.latestSelectedDateObj?n.hourElement.value:n.config.defaultHour)>11)]),n.amPM.title=n.l10n.toggleTitle,n.amPM.tabIndex=-1,n.timeContainer.appendChild(n.amPM));return n.timeContainer}());Df(n.calendarContainer,"rangeMode","range"===n.config.mode),Df(n.calendarContainer,"animate",!0===n.config.animate),Df(n.calendarContainer,"multiMonth",n.config.showMonths>1),n.calendarContainer.appendChild(e);var a=void 0!==n.config.appendTo&&void 0!==n.config.appendTo.nodeType;if((n.config.inline||n.config.static)&&(n.calendarContainer.classList.add(n.config.inline?"inline":"static"),n.config.inline&&(!a&&n.element.parentNode?n.element.parentNode.insertBefore(n.calendarContainer,n._input.nextSibling):void 0!==n.config.appendTo&&n.config.appendTo.appendChild(n.calendarContainer)),n.config.static)){var i=Of("div","flatpickr-wrapper");n.element.parentNode&&n.element.parentNode.insertBefore(i,n.element),i.appendChild(n.element),n.altInput&&i.appendChild(n.altInput),i.appendChild(n.calendarContainer)}n.config.static||n.config.inline||(void 0!==n.config.appendTo?n.config.appendTo:window.document.body).appendChild(n.calendarContainer)}(),function(){n.config.wrap&&["open","close","toggle","clear"].forEach((function(e){Array.prototype.forEach.call(n.element.querySelectorAll("[data-"+e+"]"),(function(t){return f(t,"click",n[e])}))}));if(n.isMobile)return void function(){var e=n.config.enableTime?n.config.noCalendar?"time":"datetime-local":"date";n.mobileInput=Of("input",n.input.className+" flatpickr-mobile"),n.mobileInput.tabIndex=1,n.mobileInput.type=e,n.mobileInput.disabled=n.input.disabled,n.mobileInput.required=n.input.required,n.mobileInput.placeholder=n.input.placeholder,n.mobileFormatStr="datetime-local"===e?"Y-m-d\\TH:i:S":"date"===e?"Y-m-d":"H:i:S",n.selectedDates.length>0&&(n.mobileInput.defaultValue=n.mobileInput.value=n.formatDate(n.selectedDates[0],n.mobileFormatStr));n.config.minDate&&(n.mobileInput.min=n.formatDate(n.config.minDate,"Y-m-d"));n.config.maxDate&&(n.mobileInput.max=n.formatDate(n.config.maxDate,"Y-m-d"));n.input.getAttribute("step")&&(n.mobileInput.step=String(n.input.getAttribute("step")));n.input.type="hidden",void 0!==n.altInput&&(n.altInput.type="hidden");try{n.input.parentNode&&n.input.parentNode.insertBefore(n.mobileInput,n.input.nextSibling)}catch(e){}f(n.mobileInput,"change",(function(e){n.setDate(Ff(e).value,!1,n.mobileFormatStr),X("onChange"),X("onClose")}))}();var e=Sf(F,50);n._debouncedChange=Sf(d,300),n.daysContainer&&!/iPhone|iPad|iPod/i.test(navigator.userAgent)&&f(n.daysContainer,"mouseover",(function(e){"range"===n.config.mode&&L(Ff(e))}));f(n._input,"keydown",k),void 0!==n.calendarContainer&&f(n.calendarContainer,"keydown",k);n.config.inline||n.config.static||f(window,"resize",e);void 0!==window.ontouchstart?f(window.document,"touchstart",S):f(window.document,"mousedown",S);f(window.document,"focus",S,{capture:!0}),!0===n.config.clickOpens&&(f(n._input,"focus",n.open),f(n._input,"click",n.open));void 0!==n.daysContainer&&(f(n.monthNav,"click",ee),f(n.monthNav,["keyup","increment"],c),f(n.daysContainer,"click",q));if(void 0!==n.timeContainer&&void 0!==n.minuteElement&&void 0!==n.hourElement){var t=function(e){return Ff(e).select()};f(n.timeContainer,["increment"],i),f(n.timeContainer,"blur",i,{capture:!0}),f(n.timeContainer,"click",p),f([n.hourElement,n.minuteElement],["focus","click"],t),void 0!==n.secondElement&&f(n.secondElement,"focus",(function(){return n.secondElement&&n.secondElement.select()})),void 0!==n.amPM&&f(n.amPM,"click",(function(e){i(e)}))}n.config.allowInput&&f(n._input,"blur",R)}(),(n.selectedDates.length||n.config.noCalendar)&&(n.config.enableTime&&s(n.config.noCalendar?n.latestSelectedDateObj:void 0),J(!1)),a();var r=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);!n.isMobile&&r&&V(),X("onReady")}(),n}function Qf(e,t){for(var n=Array.prototype.slice.call(e).filter((function(e){return e instanceof HTMLElement})),r=[],o=0;o<n.length;o++){var a=n[o];try{if(null!==a.getAttribute("data-fp-omit"))continue;void 0!==a._flatpickr&&(a._flatpickr.destroy(),a._flatpickr=void 0),a._flatpickr=Kf(a,t||{}),r.push(a._flatpickr)}catch(e){console.error(e)}}return 1===r.length?r[0]:r}"undefined"!=typeof HTMLElement&&"undefined"!=typeof HTMLCollection&&"undefined"!=typeof NodeList&&(HTMLCollection.prototype.flatpickr=NodeList.prototype.flatpickr=function(e){return Qf(this,e)},HTMLElement.prototype.flatpickr=function(e){return Qf([this],e)});var Zf=function(e,t){return"string"==typeof e?Qf(window.document.querySelectorAll(e),t):e instanceof Node?Qf([e],t):Qf(e,t)};function Jf(e,t){e.value=Array.isArray(t)?t:[t]}function ed(e,t,n){Jf(e,t),e.value.type=n}function td(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"selected";return Es(e).classed(t)}function nd(e){const t=e+1;return Array.from({length:t}).fill(!0).map(((n,r)=>(1!==e||!r)&&!(e>1&&(!r||r===t-1))))}function rd(e){return eu.questions.find((t=>t.order_index===e))}function od(e,t){const n=e.node().type;e.style("color",eu[t].color||eu.layout.font_color).style("background-color",(()=>{const e=b(eu.layout.background_color);return eu[t].background_color||e.brighter(.15)})).attr("placeholder",eu["date"===t?t:n].input_placeholder).style("width",`${eu[t].width}rem`).style("margin",`${eu[t].margin}rem`).style("padding",`${eu[t].padding}rem`).style("font-family",eu.layout.body_font.name).style("border-width",`${eu[t].border_width}px`).style("border-style",eu[t].border_style).style("border-color",eu[t].border_color).style("border-radius",`${eu[t].border_radius}px`).style("text-align",eu[t].align)}function ad(e){e.style("align-items",eu.design.align_horizontal)}function id(e){e.style("align-items",eu.design.align_horizontal)}function ud(e){e.style("width",`${eu.button.container_width}%`).style("justify-content",eu.button.justify_content).style("font-size",`${"custom"==eu.button.font_size?eu.button.font_size_custom:eu.button.font_size}rem`)}function sd(e,t){uu.update(),e.html((e=>e.answer)).attr("style",`margin: ${eu.button.margin}rem !important`).style("white-space","normal").style("padding",`${.2*eu.button.padding_factor}rem ${.4*eu.button.padding_factor}rem`).style("border-style",eu.button.border_style),e.on("click.style",(function(){"single"===t&&Es(this.parentNode).selectAll("button").classed("selected",!1);const e=td(this);Es(this).classed("selected",!e)})),e.on("click.function",(function(e,n){if("single"===t){Jf(rd(n.order_index),n.answer)}if("multi"===t){const e=rd(n.order_index);e.value=e.value.filter(Boolean);const t=td(this)?[...e.value,n.answer]:e.value.filter((e=>e!==n.answer));Jf(e,t)}}))}function ld(e){iu.update(),e.style("padding",`${.2*eu.dropdown.padding_factor}rem ${.4*eu.dropdown.padding_factor}rem`).style("font-size",`${"custom"==eu.dropdown.font_size?eu.dropdown.font_size_custom:eu.dropdown.font_size}rem`).style("font-style",eu.dropdown.font_style).style("font-weight",eu.dropdown.font_weight).style("border-style",eu.dropdown.border_style).style("box-shadow",eu.dropdown.shadow?`${eu.dropdown.shadow_values} ${eu.dropdown.shadow_color}`:"none");Jf(rd(e.datum().order_index),[]),e.on("change",(function(e,t){Jf(t,this.value)}))}function cd(e){e.style("width",`${eu.rating.container_width}%`).style("justify-content","center"===eu.design.align_horizontal?"space-evenly":eu.design.align_horizontal).style("align-items","above"===eu.rating.label_position?"flex-end":"start")}function fd(e,t){e.transition().style("fill",(()=>t?eu.rating.icon_fill_active||eu.button_style.background_selected:eu.rating.icon_fill_base||eu.button_style.background_hover)).style("stroke",(()=>t?eu.rating.icon_stroke_active||eu.button_style.background_selected:eu.rating.icon_stroke_base||eu.button_style.border_color))}function dd(e){e.style("margin",`${eu.rating.wrap_margin_vertical}rem ${eu.rating.wrap_margin_horizontal}rem`).style("padding",`${eu.rating.wrap_padding_vertical}rem ${eu.rating.wrap_padding_horizontal}rem`).style("flex-direction","above"===eu.rating.label_position?"column":"column-reverse").attr("tabindex",0),e.on("click.style keydown.style",(function(e){if("click"!=e.type&&"keydown"==e.type&&"Enter"!=e.key&&" "!=e.key)return;const t=Es(this).select("use.rating-symbol"),n=+t.node().getAttribute("data-index"),r=Es(this.closest(".answer-rating-container")).selectAll("use.rating-symbol"),o=t.classed("last-clicked");t.classed("last-clicked",!o),r.filter(((e,t)=>t!==n)).classed("last-clicked",!1),o?r.classed("last-clicked",!1).call(fd,!1):(r.filter(((e,t)=>t<=n)).call(fd,!0),r.filter(((e,t)=>t>n)).call(fd,!1))})),e.on("click.function keydown.function",(function(e,t){const n=Es(this).select("use.rating-symbol").classed("last-clicked");Jf(rd(t.order_index),n?+t.answer:[])}))}function hd(e){e.html((e=>e.answer_label)).style("width",`${eu.rating.label_width}rem`).style("color",eu.rating.label_color||eu.layout.font_color)}function pd(e){e.style("width",`${eu.rating.icon_width}rem`).style("height",`${eu.rating.icon_height}rem`).style("margin-top",`${eu.rating.icon_margin}rem`).style("margin-bottom",`${eu.rating.icon_margin}rem`)}function md(e){e.attr("xlink:href",`#${eu.rating.icon_type}`).style("fill",eu.rating.icon_fill_base||eu.button_style.background_hover).style("stroke",eu.rating.icon_stroke_base||eu.button_style.border_color).style("stroke-width",eu.rating.icon_stroke_width)}function gd(e){Es(e.node().closest(".answer-container-inner")).style("padding-top",eu.slider.tooltips?"3rem":0).style("padding-bottom",eu.slider.ticks?"3rem":0).style("padding-right",eu.slider.ticks?"1rem":0).style("padding-left",eu.slider.ticks?"1rem":0),e.style("width",`${eu.slider.container_width}%`).style("height",`${eu.slider.track_height}rem`).style("margin",`${eu.slider.wrap_margin_vertical}rem ${eu.slider.wrap_margin_horizontal}rem`).style("justify-content",eu.design.align_horizontal).style("border",`${eu.slider.track_border_width}px solid ${eu.slider.track_border_color||"transparent"}`).style("border-radius",`${eu.slider.track_border_radius}px`)}function vd(e){e.style("background",eu.slider.track_base_color||eu.button_style.background_hover).style("border-radius",`${eu.slider.track_border_radius}px`),e.selectAll(".noUi-connect").style("background",eu.slider.track_active_color||eu.button_style.background_selected)}function yd(e){const t=eu.slider.track_height*(eu.slider.handle_size/100),n=-(t-(eu.slider.track_height-2*(r=eu.slider.track_border_width,window.innerWidth!==wc&&(wc=window.innerWidth,Ec=parseFloat(getComputedStyle(document.documentElement).fontSize)),r/Ec)))/2;var r;let o,a;e.style("height",`${t}rem`).style("top",`${n}rem`).style("background",eu.slider.handle_color||eu.button_style.background_selected).style("border",`${eu.slider.handle_border_width}px solid ${eu.slider.handle_border_color||"transparent"}`).classed("no-box-shadow",!eu.slider.handle_box_shadow),"rectangle"===eu.slider.handle_shape&&(o=t*eu.slider.handle_width/100,a=-o/2,e.style("width",`${o}rem`).style("right",`${a}rem`).style("border-radius",`${eu.slider.handle_border_radius}px`)),"circle"===eu.slider.handle_shape&&(o=t,a=-o/2,e.style("width",`${o}rem`).style("right",-o/2+"rem").style("border-radius","50%"))}function bd(e){e.classed("no-background",!eu.slider.tooltip_background)}function _d(e){const t=b(eu.layout.font_color).brighter(2);e.style("padding",`${eu.slider.tick_padding}rem 0`).style("color",eu.slider.tick_color||t),e.selectAll(".noUi-marker").style("background-color",eu.slider.tick_color||t),e.selectAll(".noUi-value").style("top",`${eu.slider.tick_number_padding}rem`)}function wd(e,t,n){Es(e).append("div").attr("class","answer-button-container fl-control").call(ud).selectAll("button").data(t.answers).join("button").attr("class","button").call(sd,n)}function Ed(e,t,n){const r=`answer-date-picker-${t.order_index}`;!function(e,t){e._flatpickr&&e._flatpickr.clear(),Zf(e,{mode:t,position:`${eu.date.calendar_position.vertical} ${eu.date.calendar_position.horizontal}`,dateFormat:eu.date.format}),Es(e).on("change",(function(e,n){e.currentTarget.value&&("range"!==t||e.currentTarget.value.includes("to"))?ed(n,e.currentTarget.value.replace(/\s/g,"").replace(/to/g,",").split(","),t):n.value=[""]}))}(Es(e).append("div").attr("class","answer-date-picker-container").append("input").attr("type","text").attr("id",r).call(od,"date").node(),n)}function Nd(e,t){e.noUiSlider&&e.noUiSlider.destroy(),e.style.direction=eu.layout.read_direction,Nf.create(e,{start:t.get("value"),step:t.get("step"),connect:nd(t.get("value").length),range:{min:[t.get("min")],max:[t.get("max")]},direction:eu.layout.read_direction,behaviour:"drag",tooltips:eu.slider.tooltips,format:{to:e=>function(e,t){const n=t.get("prefix"),r=t.get("suffix");let o=vm(e);return n&&(o=`${n}${o}`),r&&(o=`${o}${r}`),o}(e,t),from:e=>e},pips:!!eu.slider.ticks&&{mode:"range",density:100}});Jf(Es(e).datum(),t.get("value")),e.noUiSlider.on("change",(function(e,t,n){Jf(Es(this.target).datum(),n)}))}function Md(e){switch(e.question_type.toLowerCase()){case"number input":!function(e,t){const n=`answer-number-${t.order_index}`;Es(e).append("div").attr("class","answer-number-container").call(ad).append("input").attr("type","number").attr("id",n).call(od,"input").attr("min",(e=>e.numeric_options.get("min"))).attr("max",(e=>e.numeric_options.get("max"))).attr("step",(e=>e.numeric_options.get("step"))).on("change",(function(e,t){var n,r;this.value=(n=t.numeric_options,r=+this.value,""!==n.get("min")&&r<n.get("min")?n.get("min"):""!==n.get("max")&&r>n.get("max")?n.get("max"):r),Jf(t,+this.value)}))}(this,e);break;case"text input":!function(e,t){const n=`answer-text-${t.order_index}`;Es(e).append("div").attr("class","answer-text-container").call(id).append("input").attr("type","text").attr("id",n).call(od,"input").on("change",(function(e,t){Jf(t,e.currentTarget.value)}))}(this,e);break;case"single response buttons":wd(this,e,"single");break;case"multi response buttons":wd(this,e,"multi");break;case"dropdown":!function(e,t){const n=Es(e).append("div").attr("class","answer-dropdown-container fl-control"),r=[eu.dropdown.placeholder,...t.answers.map((e=>e.answer))];n.append("select").attr("id",`dropdown-${t.order_index}`).selectAll("option").data(r).join("option").property("disabled",((e,t)=>0===t)).attr("value",(e=>e)).html((e=>e)),n.select("select").call(ld)}(this,e);break;case"single date picker":Ed(this,e,"single");break;case"range date picker":Ed(this,e,"range");break;case"multi date picker":Ed(this,e,"multiple");break;case"rating":!function(e,t){const n=Es(e).append("div").attr("class","answer-rating-container").call(cd).selectAll("rating").data(t.answers).join("div").attr("class","rating-wrap").call(dd);n.append("div").attr("class","rating-label").call(hd),n.append("div").attr("class","rating-symbol-container").call(pd).append("svg").attr("viewBox","0 0 50 50").style("width","100%").style("height","100%").append("use").attr("class",((e,t)=>`rating-symbol rating-symbol-${t}`)).attr("data-index",((e,t)=>t)).call(md)}(this,e);break;case"single slider":case"range slider":!function(e,t){const n=Es(e).append("div").attr("class","answer-slider-container").call(gd);Nd(n.node(),t.numeric_options),n.select(".noUi-connects").call(vd),n.selectAll(".noUi-handle").call(yd),n.selectAll(".noUi-tooltip").call(bd),n.select(".noUi-pips").call(_d)}(this,e);break;case"":Es(this).selectAll("*").remove();break;default:Flourish.warn(`Question type "${e.question_type}" unknown`)}}Zf.defaultConfig={},Zf.l10ns={en:Xf({},If),default:Xf({},If)},Zf.localize=function(e){Zf.l10ns.default=Xf(Xf({},Zf.l10ns.default),e)},Zf.setDefaults=function(e){Zf.defaultConfig=Xf(Xf({},Zf.defaultConfig),e)},Zf.parseDate=qf({}),Zf.formatDate=Hf({}),Zf.compareDates=Bf,"undefined"!=typeof jQuery&&void 0!==jQuery.fn&&(jQuery.fn.flatpickr=function(e){return Qf(this,e)}),Date.prototype.fp_incr=function(e){return new Date(this.getFullYear(),this.getMonth(),this.getDate()+("string"==typeof e?parseInt(e,10):e))},"undefined"!=typeof window&&(window.flatpickr=Zf),document.body.appendChild((new DOMParser).parseFromString('<svg xmlns="http://www.w3.org/2000/svg">\n  <symbol id="star">\n    <path\n      d="m26.3 3.9 5.1 10.3c.4.7 1.1 1.2 2 1.3l11.3 1.7c1.2.2 1.7 1.7.8 2.5l-8.2 8c-.6.6-.9 1.5-.7 2.3l2 11.3c.1 1.2-1.2 2.2-2.3 1.6l-10.1-5.4c-.8-.3-1.6-.3-2.4 0L13.7 43c-1.1.6-2.4-.4-2.2-1.6l2-11.3c0-.8-.2-1.7-.8-2.2l-8.2-8c-1-1-.4-2.4.8-2.6l11.4-1.7c.8 0 1.5-.6 1.9-1.3l5-10.3a1.5 1.5 0 0 1 2.7 0Z"\n      stroke="inherit" fill="inherit" />\n  </symbol>\n</svg>',"image/svg+xml").firstChild).style.display="none",document.body.appendChild((new DOMParser).parseFromString('<svg xmlns="http://www.w3.org/2000/svg">\n  <symbol id="circle">\n    <circle cx="25" cy="25" r="24.5" fill="inherit" stroke="inherit" />\n  </symbol>\n</svg>',"image/svg+xml").firstChild).style.display="none",document.body.appendChild((new DOMParser).parseFromString('<svg xmlns="http://www.w3.org/2000/svg">\n  <symbol id="check">\n    <path d="m41 14.2-17.4 22L9.5 24.8" fill="none" stroke="inherit" stroke-width="inherit" stroke-linecap="round"\n      stroke-linejoin="round" />\n  </symbol>\n</svg>',"image/svg+xml").firstChild).style.display="none";class xd{constructor(e,t){this.container=Es(e),this._bars_total=t,this._bars=0,this.bar_width=this.calculateBarWidth(),this._show,this._height=.1,this._margin=.1,this._bg_color="#FFFFFF",this._bg_opacity=1}calculateBarWidth(){const e=1/this._bars_total;return parseFloat(this.container.node().offsetWidth)*e-2*ru.remToPx(this._margin)}}function Id(e,t){e.style("height",`${t._height}rem`).style("margin",`0 ${t._margin}rem`).style("background-color",Nc(t._bg_color,t._bg_opacity)).transition().style("width",`${t.bar_width}px`)}xd.prototype.show=function(e){return void 0===e?this._show:(this._show=e,this.bar_width=this.calculateBarWidth()||0,this)},xd.prototype.bars=function(e){return void 0===e?this._bars:(this._bars=e,this)},xd.prototype.bars_total=function(e){return void 0===e?this._bars_total:(this._bars_total=e,this.bar_width=this.calculateBarWidth(),this)},xd.prototype.height=function(e){return void 0===e?this._height:(this._height=e,this)},xd.prototype.margin=function(e){return void 0===e?this._margin:(this._margin=e,this.bar_width=this.calculateBarWidth(),this)},xd.prototype.bg_color=function(e){return void 0===e?this._bg_color:(this._bg_color=e,this)},xd.prototype.bg_opacity=function(e){return void 0===e?this._bg_opacity:(this._bg_opacity=e,this)},xd.prototype.update=function(e){this._bars=e;const t=function(e,t,n){e=+e,t=+t,n=(o=arguments.length)<2?(t=e,e=0,1):o<3?1:+n;for(var r=-1,o=0|Math.max(0,Math.ceil((t-e)/n)),a=new Array(o);++r<o;)a[r]=e+r*n;return a}(this._bars);return this.container.style("display",this._show?"flex":"none"),this.bar_width=this.calculateBarWidth(),this.container.selectAll("div").data(t).join((e=>{return t=this,void e.append("div").call((e=>Id(e,t)));var t}),(e=>{return t=this,void e.call((e=>Id(e,t)));var t}),(e=>{e.transition().style("opacity",0).remove()})),this};"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;var Ad={exports:{}};function Cd(){}Cd.prototype={on:function(e,t,n){var r=this.e||(this.e={});return(r[e]||(r[e]=[])).push({fn:t,ctx:n}),this},once:function(e,t,n){var r=this;function o(){r.off(e,o),t.apply(n,arguments)}return o._=t,this.on(e,o,n)},emit:function(e){for(var t=[].slice.call(arguments,1),n=((this.e||(this.e={}))[e]||[]).slice(),r=0,o=n.length;r<o;r++)n[r].fn.apply(n[r].ctx,t);return this},off:function(e,t){var n=this.e||(this.e={}),r=n[e],o=[];if(r&&t)for(var a=0,i=r.length;a<i;a++)r[a].fn!==t&&r[a].fn._!==t&&o.push(r[a]);return o.length?n[e]=o:delete n[e],this}},Ad.exports=Cd,Ad.exports.TinyEmitter=Cd;var Sd,Td=Ad.exports;function Dd(e){var t;return"number"==typeof e?t=e:"string"==typeof e&&(t=e.indexOf(".")>-1?parseFloat(e):parseInt(e,10)),t}function Od(e){return-1*Dd(e)}function Rd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var kd="ERROR",Ld="DIV/0",Fd="NAME",Pd="VALUE",Ud=(Rd(Sd={},kd,"#ERROR!"),Rd(Sd,Ld,"#DIV/0!"),Rd(Sd,Fd,"#NAME?"),Rd(Sd,"N/A","#N/A"),Rd(Sd,"NULL","#NULL!"),Rd(Sd,"NUM","#NUM!"),Rd(Sd,"REF","#REF!"),Rd(Sd,Pd,"#VALUE!"),Sd);function Yd(e){var t;return e=(e+"").replace(/#|!|\?/g,""),Ud[e]&&(t=Ud[e]),t||null}function Vd(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=n.reduce((function(e,t){return e+Dd(t)}),Dd(e));if(isNaN(o))throw Error(Pd);return o}Vd.SYMBOL="+";function $d(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return e+t.toString()}),"")}$d.SYMBOL="&";function Hd(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=n.reduce((function(e,t){return e/Dd(t)}),Dd(e));if(o===1/0)throw Error(Ld);if(isNaN(o))throw Error(Pd);return o}Hd.SYMBOL="/";function qd(e,t){return e===t}qd.SYMBOL="=";var Bd={},jd={},zd={},Gd={},Xd={};Xd.nil=new Error("#NULL!"),Xd.div0=new Error("#DIV/0!"),Xd.value=new Error("#VALUE!"),Xd.ref=new Error("#REF!"),Xd.name=new Error("#NAME?"),Xd.num=new Error("#NUM!"),Xd.na=new Error("#N/A"),Xd.error=new Error("#ERROR!"),Xd.data=new Error("#GETTING_DATA"),function(e){var t=Xd;e.flattenShallow=function(e){return e&&e.reduce?e.reduce((function(e,t){var n=Array.isArray(e),r=Array.isArray(t);return n&&r?e.concat(t):n?(e.push(t),e):r?[e].concat(t):[e,t]})):e},e.isFlat=function(e){if(!e)return!1;for(var t=0;t<e.length;++t)if(Array.isArray(e[t]))return!1;return!0},e.flatten=function(){for(var t=e.argsToArray.apply(null,arguments);!e.isFlat(t);)t=e.flattenShallow(t);return t},e.argsToArray=function(t){var n=[];return e.arrayEach(t,(function(e){n.push(e)})),n},e.numbers=function(){return this.flatten.apply(null,arguments).filter((function(e){return"number"==typeof e}))},e.cleanFloat=function(e){var t=1e14;return Math.round(e*t)/t},e.parseBool=function(e){if("boolean"==typeof e)return e;if(e instanceof Error)return e;if("number"==typeof e)return 0!==e;if("string"==typeof e){var n=e.toUpperCase();if("TRUE"===n)return!0;if("FALSE"===n)return!1}return e instanceof Date&&!isNaN(e)||t.value},e.parseNumber=function(e){return void 0===e||""===e||isNaN(e)?t.value:parseFloat(e)},e.parseNumberArray=function(n){var r,o;if(!n||0===(r=n.length))return t.value;for(;r--;){if((o=e.parseNumber(n[r]))===t.value)return o;n[r]=o}return n},e.parseMatrix=function(n){if(!n||0===n.length)return t.value;for(var r,o=0;o<n.length;o++)if(r=e.parseNumberArray(n[o]),n[o]=r,r instanceof Error)return r;return n};var n=new Date(Date.UTC(1900,0,1));e.parseDate=function(e){if(!isNaN(e)){if(e instanceof Date)return new Date(e);var r=parseInt(e,10);return r<0?t.num:r<=60?new Date(n.getTime()+864e5*(r-1)):new Date(n.getTime()+864e5*(r-2))}return"string"!=typeof e||(e=new Date(e),isNaN(e))?t.value:e},e.parseDateArray=function(e){for(var n,r=e.length;r--;){if((n=this.parseDate(e[r]))===t.value)return n;e[r]=n}return e},e.anyIsError=function(){for(var e=arguments.length;e--;)if(arguments[e]instanceof Error)return!0;return!1},e.arrayValuesToNumbers=function(e){for(var t,n=e.length;n--;)if("number"!=typeof(t=e[n]))if(!0!==t)if(!1!==t){if("string"==typeof t){var r=this.parseNumber(t);r instanceof Error?e[n]=0:e[n]=r}}else e[n]=0;else e[n]=1;return e},e.rest=function(e,t){return t=t||1,e&&"function"==typeof e.slice?e.slice(t):e},e.initial=function(e,t){return t=t||1,e&&"function"==typeof e.slice?e.slice(0,e.length-t):e},e.arrayEach=function(e,t){for(var n=-1,r=e.length;++n<r&&!1!==t(e[n],n,e););return e},e.transpose=function(e){return e?e[0].map((function(t,n){return e.map((function(e){return e[n]}))})):t.value}}(Gd);var Wd={},Kd={};!function(e){var t=Gd,n=Xd;e.ASC=function(){throw new Error("ASC is not implemented")},e.BAHTTEXT=function(){throw new Error("BAHTTEXT is not implemented")},e.CHAR=function(e){return(e=t.parseNumber(e))instanceof Error?e:String.fromCharCode(e)},e.CLEAN=function(e){return(e=e||"").replace(/[\0-\x1F]/g,"")},e.CODE=function(e){var t=(e=e||"").charCodeAt(0);return isNaN(t)&&(t=n.na),t},e.CONCATENATE=function(){for(var e=t.flatten(arguments),n=0;(n=e.indexOf(!0))>-1;)e[n]="TRUE";for(var r=0;(r=e.indexOf(!1))>-1;)e[r]="FALSE";return e.join("")},e.DBCS=function(){throw new Error("DBCS is not implemented")},e.DOLLAR=function(){throw new Error("DOLLAR is not implemented")},e.EXACT=function(e,t){return 2!==arguments.length?n.na:e===t},e.FIND=function(e,t,r){return arguments.length<2?n.na:(r=void 0===r?0:r,t?t.indexOf(e,r-1)+1:null)},e.FIXED=function(){throw new Error("FIXED is not implemented")},e.HTML2TEXT=function(e){var t="";return e&&(e instanceof Array?e.forEach((function(e){""!==t&&(t+="\n"),t+=e.replace(/<(?:.|\n)*?>/gm,"")})):t=e.replace(/<(?:.|\n)*?>/gm,"")),t},e.LEFT=function(e,r){return r=void 0===r?1:r,(r=t.parseNumber(r))instanceof Error||"string"!=typeof e?n.value:e?e.substring(0,r):null},e.LEN=function(e){return 0===arguments.length?n.error:"string"==typeof e?e?e.length:0:e.length?e.length:n.value},e.LOWER=function(e){return"string"!=typeof e?n.value:e?e.toLowerCase():e},e.MID=function(e,n,r){if(n=t.parseNumber(n),r=t.parseNumber(r),t.anyIsError(n,r)||"string"!=typeof e)return r;var o=n-1,a=o+r;return e.substring(o,a)},e.NUMBERVALUE=function(e,t,n){return t=void 0===t?".":t,n=void 0===n?",":n,Number(e.replace(t,".").replace(n,""))},e.PRONETIC=function(){throw new Error("PRONETIC is not implemented")},e.PROPER=function(e){return void 0===e||0===e.length?n.value:(!0===e&&(e="TRUE"),!1===e&&(e="FALSE"),isNaN(e)&&"number"==typeof e?n.value:("number"==typeof e&&(e=""+e),e.replace(/\w\S*/g,(function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()}))))},e.REGEXEXTRACT=function(e,t){if(arguments.length<2)return n.na;var r=e.match(new RegExp(t));return r?r[r.length>1?r.length-1:0]:null},e.REGEXMATCH=function(e,t,r){if(arguments.length<2)return n.na;var o=e.match(new RegExp(t));return r?o:!!o},e.REGEXREPLACE=function(e,t,r){return arguments.length<3?n.na:e.replace(new RegExp(t),r)},e.REPLACE=function(e,r,o,a){return r=t.parseNumber(r),o=t.parseNumber(o),t.anyIsError(r,o)||"string"!=typeof e||"string"!=typeof a?n.value:e.substr(0,r-1)+a+e.substr(r-1+o)},e.REPT=function(e,n){return(n=t.parseNumber(n))instanceof Error?n:new Array(n+1).join(e)},e.RIGHT=function(e,r){return r=void 0===r?1:r,(r=t.parseNumber(r))instanceof Error?r:e?e.substring(e.length-r):n.na},e.SEARCH=function(e,t,r){var o;return"string"!=typeof e||"string"!=typeof t?n.value:(r=void 0===r?0:r,0===(o=t.toLowerCase().indexOf(e.toLowerCase(),r-1)+1)?n.value:o)},e.SPLIT=function(e,t){return e.split(t)},e.SUBSTITUTE=function(e,t,r,o){if(arguments.length<2)return n.na;if(!(e&&t&&r))return e;if(void 0===o)return e.replace(new RegExp(t,"g"),r);for(var a=0,i=0;e.indexOf(t,a)>0;)if(a=e.indexOf(t,a+1),++i===o)return e.substring(0,a)+r+e.substring(a+t.length)},e.T=function(e){return"string"==typeof e?e:""},e.TEXT=function(){throw new Error("TEXT is not implemented")},e.TRIM=function(e){return"string"!=typeof e?n.value:e.replace(/ +/g," ").trim()},e.UNICHAR=e.CHAR,e.UNICODE=e.CODE,e.UPPER=function(e){return"string"!=typeof e?n.value:e.toUpperCase()},e.VALUE=function(){throw new Error("VALUE is not implemented")}}(Kd);var Qd,Zd={exports:{}};Zd.exports=(Qd=function(e,t){var n=Array.prototype.concat,r=Array.prototype.slice,o=Object.prototype.toString;function a(t,n){var r=t>n?t:n;return e.pow(10,17-~~(e.log(r>0?r:-r)*e.LOG10E))}var i=Array.isArray||function(e){return"[object Array]"===o.call(e)};function u(e){return"[object Function]"===o.call(e)}function s(e){return"number"==typeof e&&e-e==0}function l(e){return n.apply([],e)}function c(){return new c._init(arguments)}function f(){return 0}function d(){return 1}function h(e,t){return e===t?1:0}c.fn=c.prototype,c._init=function(e){if(i(e[0]))if(i(e[0][0])){u(e[1])&&(e[0]=c.map(e[0],e[1]));for(var t=0;t<e[0].length;t++)this[t]=e[0][t];this.length=e[0].length}else this[0]=u(e[1])?c.map(e[0],e[1]):e[0],this.length=1;else if(s(e[0]))this[0]=c.seq.apply(null,e),this.length=1;else{if(e[0]instanceof c)return c(e[0].toArray());this[0]=[],this.length=1}return this},c._init.prototype=c.prototype,c._init.constructor=c,c.utils={calcRdx:a,isArray:i,isFunction:u,isNumber:s,toVector:l},c._random_fn=e.random,c.setRandom=function(e){if("function"!=typeof e)throw new TypeError("fn is not a function");c._random_fn=e},c.extend=function(e){var t,n;if(1===arguments.length){for(n in e)c[n]=e[n];return this}for(t=1;t<arguments.length;t++)for(n in arguments[t])e[n]=arguments[t][n];return e},c.rows=function(e){return e.length||1},c.cols=function(e){return e[0].length||1},c.dimensions=function(e){return{rows:c.rows(e),cols:c.cols(e)}},c.row=function(e,t){return i(t)?t.map((function(t){return c.row(e,t)})):e[t]},c.rowa=function(e,t){return c.row(e,t)},c.col=function(e,t){if(i(t)){var n=c.arange(e.length).map((function(){return new Array(t.length)}));return t.forEach((function(t,r){c.arange(e.length).forEach((function(o){n[o][r]=e[o][t]}))})),n}for(var r=new Array(e.length),o=0;o<e.length;o++)r[o]=[e[o][t]];return r},c.cola=function(e,t){return c.col(e,t).map((function(e){return e[0]}))},c.diag=function(e){for(var t=c.rows(e),n=new Array(t),r=0;r<t;r++)n[r]=[e[r][r]];return n},c.antidiag=function(e){for(var t=c.rows(e)-1,n=new Array(t),r=0;t>=0;t--,r++)n[r]=[e[r][t]];return n},c.transpose=function(e){var t,n,r,o,a,u=[];for(i(e[0])||(e=[e]),n=e.length,r=e[0].length,a=0;a<r;a++){for(t=new Array(n),o=0;o<n;o++)t[o]=e[o][a];u.push(t)}return 1===u.length?u[0]:u},c.map=function(e,t,n){var r,o,a,u,s;for(i(e[0])||(e=[e]),o=e.length,a=e[0].length,u=n?e:new Array(o),r=0;r<o;r++)for(u[r]||(u[r]=new Array(a)),s=0;s<a;s++)u[r][s]=t(e[r][s],r,s);return 1===u.length?u[0]:u},c.cumreduce=function(e,t,n){var r,o,a,u,s;for(i(e[0])||(e=[e]),o=e.length,a=e[0].length,u=n?e:new Array(o),r=0;r<o;r++)for(u[r]||(u[r]=new Array(a)),a>0&&(u[r][0]=e[r][0]),s=1;s<a;s++)u[r][s]=t(u[r][s-1],e[r][s]);return 1===u.length?u[0]:u},c.alter=function(e,t){return c.map(e,t,!0)},c.create=function(e,t,n){var r,o,a=new Array(e);for(u(t)&&(n=t,t=e),r=0;r<e;r++)for(a[r]=new Array(t),o=0;o<t;o++)a[r][o]=n(r,o);return a},c.zeros=function(e,t){return s(t)||(t=e),c.create(e,t,f)},c.ones=function(e,t){return s(t)||(t=e),c.create(e,t,d)},c.rand=function(e,t){return s(t)||(t=e),c.create(e,t,c._random_fn)},c.identity=function(e,t){return s(t)||(t=e),c.create(e,t,h)},c.symmetric=function(e){var t,n,r=e.length;if(e.length!==e[0].length)return!1;for(t=0;t<r;t++)for(n=0;n<r;n++)if(e[n][t]!==e[t][n])return!1;return!0},c.clear=function(e){return c.alter(e,f)},c.seq=function(e,t,n,r){u(r)||(r=!1);var o,i=[],s=a(e,t),l=(t*s-e*s)/((n-1)*s),c=e;for(o=0;c<=t&&o<n;c=(e*s+l*s*++o)/s)i.push(r?r(c,o):c);return i},c.arange=function(e,n,r){var o,a=[];if(r=r||1,n===t&&(n=e,e=0),e===n||0===r)return[];if(e<n&&r<0)return[];if(e>n&&r>0)return[];if(r>0)for(o=e;o<n;o+=r)a.push(o);else for(o=e;o>n;o+=r)a.push(o);return a},c.slice=function(){function e(e,n,r,o){var a,i=[],u=e.length;if(n===t&&r===t&&o===t)return c.copy(e);if(o=o||1,(n=(n=n||0)>=0?n:u+n)===(r=(r=r||e.length)>=0?r:u+r)||0===o)return[];if(n<r&&o<0)return[];if(n>r&&o>0)return[];if(o>0)for(a=n;a<r;a+=o)i.push(e[a]);else for(a=n;a>r;a+=o)i.push(e[a]);return i}function n(t,n){var r,o;return s((n=n||{}).row)?s(n.col)?t[n.row][n.col]:e(c.rowa(t,n.row),(r=n.col||{}).start,r.end,r.step):s(n.col)?e(c.cola(t,n.col),(o=n.row||{}).start,o.end,o.step):(o=n.row||{},r=n.col||{},e(t,o.start,o.end,o.step).map((function(t){return e(t,r.start,r.end,r.step)})))}return n}(),c.sliceAssign=function(n,r,o){var a,i;if(s(r.row)){if(s(r.col))return n[r.row][r.col]=o;r.col=r.col||{},r.col.start=r.col.start||0,r.col.end=r.col.end||n[0].length,r.col.step=r.col.step||1,a=c.arange(r.col.start,e.min(n.length,r.col.end),r.col.step);var u=r.row;return a.forEach((function(e,t){n[u][e]=o[t]})),n}if(s(r.col)){r.row=r.row||{},r.row.start=r.row.start||0,r.row.end=r.row.end||n.length,r.row.step=r.row.step||1,i=c.arange(r.row.start,e.min(n[0].length,r.row.end),r.row.step);var l=r.col;return i.forEach((function(e,t){n[e][l]=o[t]})),n}return o[0].length===t&&(o=[o]),r.row.start=r.row.start||0,r.row.end=r.row.end||n.length,r.row.step=r.row.step||1,r.col.start=r.col.start||0,r.col.end=r.col.end||n[0].length,r.col.step=r.col.step||1,i=c.arange(r.row.start,e.min(n.length,r.row.end),r.row.step),a=c.arange(r.col.start,e.min(n[0].length,r.col.end),r.col.step),i.forEach((function(e,t){a.forEach((function(r,a){n[e][r]=o[t][a]}))})),n},c.diagonal=function(e){var t=c.zeros(e.length,e.length);return e.forEach((function(e,n){t[n][n]=e})),t},c.copy=function(e){return e.map((function(e){return s(e)?e:e.map((function(e){return e}))}))};var p=c.prototype;return p.length=0,p.push=Array.prototype.push,p.sort=Array.prototype.sort,p.splice=Array.prototype.splice,p.slice=Array.prototype.slice,p.toArray=function(){return this.length>1?r.call(this):r.call(this)[0]},p.map=function(e,t){return c(c.map(this,e,t))},p.cumreduce=function(e,t){return c(c.cumreduce(this,e,t))},p.alter=function(e){return c.alter(this,e),this},function(e){for(var t=0;t<e.length;t++)!function(e){p[e]=function(t){var n,r=this;return t?(setTimeout((function(){t.call(r,p[e].call(r))})),this):(n=c[e](this),i(n)?c(n):n)}}(e[t])}("transpose clear symmetric rows cols dimensions diag antidiag".split(" ")),function(e){for(var t=0;t<e.length;t++)!function(e){p[e]=function(t,n){var r=this;return n?(setTimeout((function(){n.call(r,p[e].call(r,t))})),this):c(c[e](this,t))}}(e[t])}("row col".split(" ")),function(e){for(var t=0;t<e.length;t++)!function(e){p[e]=function(){return c(c[e].apply(null,arguments))}}(e[t])}("create zeros ones rand identity".split(" ")),c}(Math),function(e,t){var n=e.utils.isFunction;function r(e,t){return e-t}function o(e,n,r){return t.max(n,t.min(e,r))}e.sum=function(e){for(var t=0,n=e.length;--n>=0;)t+=e[n];return t},e.sumsqrd=function(e){for(var t=0,n=e.length;--n>=0;)t+=e[n]*e[n];return t},e.sumsqerr=function(t){for(var n,r=e.mean(t),o=0,a=t.length;--a>=0;)o+=(n=t[a]-r)*n;return o},e.sumrow=function(e){for(var t=0,n=e.length;--n>=0;)t+=e[n];return t},e.product=function(e){for(var t=1,n=e.length;--n>=0;)t*=e[n];return t},e.min=function(e){for(var t=e[0],n=0;++n<e.length;)e[n]<t&&(t=e[n]);return t},e.max=function(e){for(var t=e[0],n=0;++n<e.length;)e[n]>t&&(t=e[n]);return t},e.unique=function(e){for(var t={},n=[],r=0;r<e.length;r++)t[e[r]]||(t[e[r]]=!0,n.push(e[r]));return n},e.mean=function(t){return e.sum(t)/t.length},e.meansqerr=function(t){return e.sumsqerr(t)/t.length},e.geomean=function(n){var r=n.map(t.log),o=e.mean(r);return t.exp(o)},e.median=function(e){var t=e.length,n=e.slice().sort(r);return 1&t?n[t/2|0]:(n[t/2-1]+n[t/2])/2},e.cumsum=function(t){return e.cumreduce(t,(function(e,t){return e+t}))},e.cumprod=function(t){return e.cumreduce(t,(function(e,t){return e*t}))},e.diff=function(e){var t,n=[],r=e.length;for(t=1;t<r;t++)n.push(e[t]-e[t-1]);return n},e.rank=function(e){var t,n=[],o={};for(t=0;t<e.length;t++)o[s=e[t]]?o[s]++:(o[s]=1,n.push(s));var a=n.sort(r),i={},u=1;for(t=0;t<a.length;t++){var s,l=o[s=a[t]],c=(u+(u+l-1))/2;i[s]=c,u+=l}return e.map((function(e){return i[e]}))},e.mode=function(e){var t,n=e.length,o=e.slice().sort(r),a=1,i=0,u=0,s=[];for(t=0;t<n;t++)o[t]===o[t+1]?a++:(a>i?(s=[o[t]],i=a,u=0):a===i&&(s.push(o[t]),u++),a=1);return 0===u?s[0]:s},e.range=function(t){return e.max(t)-e.min(t)},e.variance=function(t,n){return e.sumsqerr(t)/(t.length-(n?1:0))},e.pooledvariance=function(t){return t.reduce((function(t,n){return t+e.sumsqerr(n)}),0)/(t.reduce((function(e,t){return e+t.length}),0)-t.length)},e.deviation=function(t){for(var n=e.mean(t),r=t.length,o=new Array(r),a=0;a<r;a++)o[a]=t[a]-n;return o},e.stdev=function(n,r){return t.sqrt(e.variance(n,r))},e.pooledstdev=function(n){return t.sqrt(e.pooledvariance(n))},e.meandev=function(n){for(var r=e.mean(n),o=[],a=n.length-1;a>=0;a--)o.push(t.abs(n[a]-r));return e.mean(o)},e.meddev=function(n){for(var r=e.median(n),o=[],a=n.length-1;a>=0;a--)o.push(t.abs(n[a]-r));return e.median(o)},e.coeffvar=function(t){return e.stdev(t)/e.mean(t)},e.quartiles=function(e){var n=e.length,o=e.slice().sort(r);return[o[t.round(n/4)-1],o[t.round(n/2)-1],o[t.round(3*n/4)-1]]},e.quantiles=function(e,n,a,i){var u,s,l,c,f,d=e.slice().sort(r),h=[n.length],p=e.length;for(void 0===a&&(a=3/8),void 0===i&&(i=3/8),u=0;u<n.length;u++)l=p*(s=n[u])+(a+s*(1-a-i)),c=t.floor(o(l,1,p-1)),f=o(l-c,0,1),h[u]=(1-f)*d[c-1]+f*d[c];return h},e.percentile=function(e,t,n){var o=e.slice().sort(r),a=t*(o.length+(n?1:-1))+(n?0:1),i=parseInt(a),u=a-i;return i+1<o.length?o[i-1]+u*(o[i]-o[i-1]):o[i-1]},e.percentileOfScore=function(e,t,n){var r,o,a=0,i=e.length,u=!1;for("strict"===n&&(u=!0),o=0;o<i;o++)r=e[o],(u&&r<t||!u&&r<=t)&&a++;return a/i},e.histogram=function(n,r){r=r||4;var o,a=e.min(n),i=(e.max(n)-a)/r,u=n.length,s=[];for(o=0;o<r;o++)s[o]=0;for(o=0;o<u;o++)s[t.min(t.floor((n[o]-a)/i),r-1)]+=1;return s},e.covariance=function(t,n){var r,o=e.mean(t),a=e.mean(n),i=t.length,u=new Array(i);for(r=0;r<i;r++)u[r]=(t[r]-o)*(n[r]-a);return e.sum(u)/(i-1)},e.corrcoeff=function(t,n){return e.covariance(t,n)/e.stdev(t,1)/e.stdev(n,1)},e.spearmancoeff=function(t,n){return t=e.rank(t),n=e.rank(n),e.corrcoeff(t,n)},e.stanMoment=function(n,r){for(var o=e.mean(n),a=e.stdev(n),i=n.length,u=0,s=0;s<i;s++)u+=t.pow((n[s]-o)/a,r);return u/n.length},e.skewness=function(t){return e.stanMoment(t,3)},e.kurtosis=function(t){return e.stanMoment(t,4)-3};var a=e.prototype;!function(t){for(var r=0;r<t.length;r++)!function(t){a[t]=function(r,o){var i=[],u=0,s=this;if(n(r)&&(o=r,r=!1),o)return setTimeout((function(){o.call(s,a[t].call(s,r))})),this;if(this.length>1){for(s=!0===r?this:this.transpose();u<s.length;u++)i[u]=e[t](s[u]);return i}return e[t](this[0],r)}}(t[r])}("cumsum cumprod".split(" ")),function(t){for(var r=0;r<t.length;r++)!function(t){a[t]=function(r,o){var i=[],u=0,s=this;if(n(r)&&(o=r,r=!1),o)return setTimeout((function(){o.call(s,a[t].call(s,r))})),this;if(this.length>1){for("sumrow"!==t&&(s=!0===r?this:this.transpose());u<s.length;u++)i[u]=e[t](s[u]);return!0===r?e[t](e.utils.toVector(i)):i}return e[t](this[0],r)}}(t[r])}("sum sumsqrd sumsqerr sumrow product min max unique mean meansqerr geomean median diff rank mode range variance deviation stdev meandev meddev coeffvar quartiles histogram skewness kurtosis".split(" ")),function(t){for(var r=0;r<t.length;r++)!function(t){a[t]=function(){var r,o=[],i=0,u=this,s=Array.prototype.slice.call(arguments);if(n(s[s.length-1])){r=s[s.length-1];var l=s.slice(0,s.length-1);return setTimeout((function(){r.call(u,a[t].apply(u,l))})),this}r=void 0;var c=function(n){return e[t].apply(u,[n].concat(s))};if(this.length>1){for(u=u.transpose();i<u.length;i++)o[i]=c(u[i]);return o}return c(this[0])}}(t[r])}("quantiles percentileOfScore".split(" "))}(Qd,Math),function(e,t){e.gammaln=function(e){var n,r,o,a=0,i=[76.18009172947146,-86.50532032941678,24.01409824083091,-1.231739572450155,.001208650973866179,-5395239384953e-18],u=1.000000000190015;for(o=(r=n=e)+5.5,o-=(n+.5)*t.log(o);a<6;a++)u+=i[a]/++r;return t.log(2.5066282746310007*u/n)-o},e.loggam=function(e){var n,r,o,a,i,u,s,l=[.08333333333333333,-.002777777777777778,.0007936507936507937,-.0005952380952380952,.0008417508417508418,-.001917526917526918,.00641025641025641,-.02955065359477124,.1796443723688307,-1.3924322169059];if(n=e,s=0,1==e||2==e)return 0;for(e<=7&&(n=e+(s=t.floor(7-e))),r=1/(n*n),o=2*t.PI,i=l[9],u=8;u>=0;u--)i*=r,i+=l[u];if(a=i/n+.5*t.log(o)+(n-.5)*t.log(n)-n,e<=7)for(u=1;u<=s;u++)a-=t.log(n-1),n-=1;return a},e.gammafn=function(e){var n,r,o,a,i=[-1.716185138865495,24.76565080557592,-379.80425647094563,629.3311553128184,866.9662027904133,-31451.272968848367,-36144.413418691176,66456.14382024054],u=[-30.8402300119739,315.35062697960416,-1015.1563674902192,-3107.771671572311,22538.11842098015,4755.846277527881,-134659.9598649693,-115132.2596755535],s=!1,l=0,c=0,f=0,d=e;if(e>171.6243769536076)return 1/0;if(d<=0){if(!(a=d%1+36e-17))return 1/0;s=(1&d?-1:1)*t.PI/t.sin(t.PI*a),d=1-d}for(o=d,r=d<1?d++:(d-=l=(0|d)-1)-1,n=0;n<8;++n)f=(f+i[n])*r,c=c*r+u[n];if(a=f/c+1,o<d)a/=o;else if(o>d)for(n=0;n<l;++n)a*=d,d++;return s&&(a=s/a),a},e.gammap=function(t,n){return e.lowRegGamma(t,n)*e.gammafn(t)},e.lowRegGamma=function(n,r){var o,a=e.gammaln(n),i=n,u=1/n,s=u,l=r+1-n,c=1/1e-30,f=1/l,d=f,h=1,p=-~(8.5*t.log(n>=1?n:1/n)+.4*n+17);if(r<0||n<=0)return NaN;if(r<n+1){for(;h<=p;h++)u+=s*=r/++i;return u*t.exp(-r+n*t.log(r)-a)}for(;h<=p;h++)d*=(f=1/(f=(o=-h*(h-n))*f+(l+=2)))*(c=l+o/c);return 1-d*t.exp(-r+n*t.log(r)-a)},e.factorialln=function(t){return t<0?NaN:e.gammaln(t+1)},e.factorial=function(t){return t<0?NaN:e.gammafn(t+1)},e.combination=function(n,r){return n>170||r>170?t.exp(e.combinationln(n,r)):e.factorial(n)/e.factorial(r)/e.factorial(n-r)},e.combinationln=function(t,n){return e.factorialln(t)-e.factorialln(n)-e.factorialln(t-n)},e.permutation=function(t,n){return e.factorial(t)/e.factorial(t-n)},e.betafn=function(n,r){if(!(n<=0||r<=0))return n+r>170?t.exp(e.betaln(n,r)):e.gammafn(n)*e.gammafn(r)/e.gammafn(n+r)},e.betaln=function(t,n){return e.gammaln(t)+e.gammaln(n)-e.gammaln(t+n)},e.betacf=function(e,n,r){var o,a,i,u,s=1e-30,l=1,c=n+r,f=n+1,d=n-1,h=1,p=1-c*e/f;for(t.abs(p)<s&&(p=s),u=p=1/p;l<=100&&(p=1+(a=l*(r-l)*e/((d+(o=2*l))*(n+o)))*p,t.abs(p)<s&&(p=s),h=1+a/h,t.abs(h)<s&&(h=s),u*=(p=1/p)*h,p=1+(a=-(n+l)*(c+l)*e/((n+o)*(f+o)))*p,t.abs(p)<s&&(p=s),h=1+a/h,t.abs(h)<s&&(h=s),u*=i=(p=1/p)*h,!(t.abs(i-1)<3e-7));l++);return u},e.gammapinv=function(n,r){var o,a,i,u,s,l,c=0,f=r-1,d=1e-8,h=e.gammaln(r);if(n>=1)return t.max(100,r+100*t.sqrt(r));if(n<=0)return 0;for(r>1?(s=t.log(f),l=t.exp(f*(s-1)-h),u=n<.5?n:1-n,o=(2.30753+.27061*(a=t.sqrt(-2*t.log(u))))/(1+a*(.99229+.04481*a))-a,n<.5&&(o=-o),o=t.max(.001,r*t.pow(1-1/(9*r)-o/(3*t.sqrt(r)),3))):o=n<(a=1-r*(.253+.12*r))?t.pow(n/a,1/r):1-t.log(1-(n-a)/(1-a));c<12;c++){if(o<=0)return 0;if((o-=a=(i=(e.lowRegGamma(r,o)-n)/(a=r>1?l*t.exp(-(o-f)+f*(t.log(o)-s)):t.exp(-o+f*t.log(o)-h)))/(1-.5*t.min(1,i*((r-1)/o-1))))<=0&&(o=.5*(o+a)),t.abs(a)<d*o)break}return o},e.erf=function(e){var n,r,o,a,i=[-1.3026537197817094,.6419697923564902,.019476473204185836,-.00956151478680863,-.000946595344482036,.000366839497852761,42523324806907e-18,-20278578112534e-18,-1624290004647e-18,130365583558e-17,1.5626441722e-8,-8.5238095915e-8,6.529054439e-9,5.059343495e-9,-9.91364156e-10,-2.27365122e-10,96467911e-18,2394038e-18,-6886027e-18,894487e-18,313092e-18,-112708e-18,381e-18,7106e-18,-1523e-18,-94e-18,121e-18,-28e-18],u=i.length-1,s=!1,l=0,c=0;for(e<0&&(e=-e,s=!0),r=4*(n=2/(2+e))-2;u>0;u--)o=l,l=r*l-c+i[u],c=o;return a=n*t.exp(-e*e+.5*(i[0]+r*l)-c),s?a-1:1-a},e.erfc=function(t){return 1-e.erf(t)},e.erfcinv=function(n){var r,o,a,i,u=0;if(n>=2)return-100;if(n<=0)return 100;for(i=n<1?n:2-n,r=-.70711*((2.30753+.27061*(a=t.sqrt(-2*t.log(i/2))))/(1+a*(.99229+.04481*a))-a);u<2;u++)r+=(o=e.erfc(r)-i)/(1.1283791670955126*t.exp(-r*r)-r*o);return n<1?r:-r},e.ibetainv=function(n,r,o){var a,i,u,s,l,c,f,d,h,p,m=1e-8,g=r-1,v=o-1,y=0;if(n<=0)return 0;if(n>=1)return 1;for(r>=1&&o>=1?(u=n<.5?n:1-n,c=(2.30753+.27061*(s=t.sqrt(-2*t.log(u))))/(1+s*(.99229+.04481*s))-s,n<.5&&(c=-c),f=(c*c-3)/6,d=2/(1/(2*r-1)+1/(2*o-1)),h=c*t.sqrt(f+d)/d-(1/(2*o-1)-1/(2*r-1))*(f+5/6-2/(3*d)),c=r/(r+o*t.exp(2*h))):(a=t.log(r/(r+o)),i=t.log(o/(r+o)),c=n<(s=t.exp(r*a)/r)/(h=s+(l=t.exp(o*i)/o))?t.pow(r*h*n,1/r):1-t.pow(o*h*(1-n),1/o)),p=-e.gammaln(r)-e.gammaln(o)+e.gammaln(r+o);y<10;y++){if(0===c||1===c)return c;if((c-=s=(l=(e.ibeta(c,r,o)-n)/(s=t.exp(g*t.log(c)+v*t.log(1-c)+p)))/(1-.5*t.min(1,l*(g/c-v/(1-c)))))<=0&&(c=.5*(c+s)),c>=1&&(c=.5*(c+s+1)),t.abs(s)<m*c&&y>0)break}return c},e.ibeta=function(n,r,o){var a=0===n||1===n?0:t.exp(e.gammaln(r+o)-e.gammaln(r)-e.gammaln(o)+r*t.log(n)+o*t.log(1-n));return!(n<0||n>1)&&(n<(r+1)/(r+o+2)?a*e.betacf(n,r,o)/r:1-a*e.betacf(1-n,o,r)/o)},e.randn=function(n,r){var o,a,i,u,s;if(r||(r=n),n)return e.create(n,r,(function(){return e.randn()}));do{o=e._random_fn(),a=1.7156*(e._random_fn()-.5),s=(i=o-.449871)*i+(u=t.abs(a)+.386595)*(.196*u-.25472*i)}while(s>.27597&&(s>.27846||a*a>-4*t.log(o)*o*o));return a/o},e.randg=function(n,r,o){var a,i,u,s,l,c,f=n;if(o||(o=r),n||(n=1),r)return(c=e.zeros(r,o)).alter((function(){return e.randg(n)})),c;n<1&&(n+=1),a=n-1/3,i=1/t.sqrt(9*a);do{do{s=1+i*(l=e.randn())}while(s<=0);s*=s*s,u=e._random_fn()}while(u>1-.331*t.pow(l,4)&&t.log(u)>.5*l*l+a*(1-s+t.log(s)));if(n==f)return a*s;do{u=e._random_fn()}while(0===u);return t.pow(u,1/f)*a*s},function(t){for(var n=0;n<t.length;n++)!function(t){e.fn[t]=function(){return e(e.map(this,(function(n){return e[t](n)})))}}(t[n])}("gammaln gammafn factorial factorialln".split(" ")),function(t){for(var n=0;n<t.length;n++)!function(t){e.fn[t]=function(){return e(e[t].apply(null,arguments))}}(t[n])}("randn".split(" "))}(Qd,Math),function(e,t){function n(e,n,r,o){for(var a,i=0,u=1,s=1,l=1,c=0,f=0;t.abs((s-f)/s)>o;)f=s,u=l+(a=-(n+c)*(n+r+c)*e/(n+2*c)/(n+2*c+1))*u,s=(i=s+a*i)+(a=(c+=1)*(r-c)*e/(n+2*c-1)/(n+2*c))*s,i/=l=u+a*l,u/=l,s/=l,l=1;return s/n}function r(e){return e/t.abs(e)}function o(n,r,o){var a=12,i=6,u=-30,s=-50,l=60,c=8,f=3,d=2,h=3,p=[.9815606342467192,.9041172563704749,.7699026741943047,.5873179542866175,.3678314989981802,.1252334085114689],m=[.04717533638651183,.10693932599531843,.16007832854334622,.20316742672306592,.2334925365383548,.24914704581340277],g=.5*n;if(g>=c)return 1;var v,y=2*e.normal.cdf(g,0,1,1,0)-1;y=y>=t.exp(s/o)?t.pow(y,o):0;for(var b=g,_=(c-g)/(v=n>f?d:h),w=b+_,E=0,N=o-1,M=1;M<=v;M++){for(var x=0,I=.5*(w+b),A=.5*(w-b),C=1;C<=a;C++){var S,T=I+A*(i<C?p[(S=a-C+1)-1]:-p[(S=C)-1]),D=T*T;if(D>l)break;var O=2*e.normal.cdf(T,0,1,1,0)*.5-2*e.normal.cdf(T,n,1,1,0)*.5;O>=t.exp(u/N)&&(x+=O=m[S-1]*t.exp(-.5*D)*t.pow(O,N))}E+=x*=2*A*o/t.sqrt(2*t.PI),b=w,w+=_}return(y+=E)<=t.exp(u/r)?0:(y=t.pow(y,r))>=1?1:y}function a(e,n,r){var o=.322232421088,a=.099348462606,i=-1,u=.588581570495,s=-.342242088547,l=.531103462366,c=-.204231210125,f=.10353775285,d=-453642210148e-16,h=.0038560700634,p=.8832,m=.2368,g=1.214,v=1.208,y=1.4142,b=120,_=.5-.5*e,w=t.sqrt(t.log(1/(_*_))),E=w+((((w*d+c)*w+s)*w+i)*w+o)/((((w*h+f)*w+l)*w+u)*w+a);r<b&&(E+=(E*E*E+E)/r/4);var N=p-m*E;return r<b&&(N+=-g/r+v*E/r),E*(N*t.log(n-1)+y)}!function(t){for(var n=0;n<t.length;n++)!function(t){e[t]=function e(t,n,r){return this instanceof e?(this._a=t,this._b=n,this._c=r,this):new e(t,n,r)},e.fn[t]=function(n,r,o){var a=e[t](n,r,o);return a.data=this,a},e[t].prototype.sample=function(n){var r=this._a,o=this._b,a=this._c;return n?e.alter(n,(function(){return e[t].sample(r,o,a)})):e[t].sample(r,o,a)},function(n){for(var r=0;r<n.length;r++)!function(n){e[t].prototype[n]=function(r){var o=this._a,a=this._b,i=this._c;return r||0===r||(r=this.data),"number"!=typeof r?e.fn.map.call(r,(function(r){return e[t][n](r,o,a,i)})):e[t][n](r,o,a,i)}}(n[r])}("pdf cdf inv".split(" ")),function(n){for(var r=0;r<n.length;r++)!function(n){e[t].prototype[n]=function(){return e[t][n](this._a,this._b,this._c)}}(n[r])}("mean median mode variance".split(" "))}(t[n])}("beta centralF cauchy chisquare exponential gamma invgamma kumaraswamy laplace lognormal noncentralt normal pareto studentt weibull uniform binomial negbin hypgeom poisson triangular tukey arcsine".split(" ")),e.extend(e.beta,{pdf:function(n,r,o){return n>1||n<0?0:1==r&&1==o?1:r<512&&o<512?t.pow(n,r-1)*t.pow(1-n,o-1)/e.betafn(r,o):t.exp((r-1)*t.log(n)+(o-1)*t.log(1-n)-e.betaln(r,o))},cdf:function(t,n,r){return t>1||t<0?1*(t>1):e.ibeta(t,n,r)},inv:function(t,n,r){return e.ibetainv(t,n,r)},mean:function(e,t){return e/(e+t)},median:function(t,n){return e.ibetainv(.5,t,n)},mode:function(e,t){return(e-1)/(e+t-2)},sample:function(t,n){var r=e.randg(t);return r/(r+e.randg(n))},variance:function(e,n){return e*n/(t.pow(e+n,2)*(e+n+1))}}),e.extend(e.centralF,{pdf:function(n,r,o){var a;return n<0?0:r<=2?0===n&&r<2?1/0:0===n&&2===r?1:1/e.betafn(r/2,o/2)*t.pow(r/o,r/2)*t.pow(n,r/2-1)*t.pow(1+r/o*n,-(r+o)/2):(a=r*n/(o+n*r),r*(o/(o+n*r))/2*e.binomial.pdf((r-2)/2,(r+o-2)/2,a))},cdf:function(t,n,r){return t<0?0:e.ibeta(n*t/(n*t+r),n/2,r/2)},inv:function(t,n,r){return r/(n*(1/e.ibetainv(t,n/2,r/2)-1))},mean:function(e,t){return t>2?t/(t-2):void 0},mode:function(e,t){return e>2?t*(e-2)/(e*(t+2)):void 0},sample:function(t,n){return 2*e.randg(t/2)/t/(2*e.randg(n/2)/n)},variance:function(e,t){if(!(t<=4))return 2*t*t*(e+t-2)/(e*(t-2)*(t-2)*(t-4))}}),e.extend(e.cauchy,{pdf:function(e,n,r){return r<0?0:r/(t.pow(e-n,2)+t.pow(r,2))/t.PI},cdf:function(e,n,r){return t.atan((e-n)/r)/t.PI+.5},inv:function(e,n,r){return n+r*t.tan(t.PI*(e-.5))},median:function(e){return e},mode:function(e){return e},sample:function(n,r){return e.randn()*t.sqrt(1/(2*e.randg(.5)))*r+n}}),e.extend(e.chisquare,{pdf:function(n,r){return n<0?0:0===n&&2===r?.5:t.exp((r/2-1)*t.log(n)-n/2-r/2*t.log(2)-e.gammaln(r/2))},cdf:function(t,n){return t<0?0:e.lowRegGamma(n/2,t/2)},inv:function(t,n){return 2*e.gammapinv(t,.5*n)},mean:function(e){return e},median:function(e){return e*t.pow(1-2/(9*e),3)},mode:function(e){return e-2>0?e-2:0},sample:function(t){return 2*e.randg(t/2)},variance:function(e){return 2*e}}),e.extend(e.exponential,{pdf:function(e,n){return e<0?0:n*t.exp(-n*e)},cdf:function(e,n){return e<0?0:1-t.exp(-n*e)},inv:function(e,n){return-t.log(1-e)/n},mean:function(e){return 1/e},median:function(e){return 1/e*t.log(2)},mode:function(){return 0},sample:function(n){return-1/n*t.log(e._random_fn())},variance:function(e){return t.pow(e,-2)}}),e.extend(e.gamma,{pdf:function(n,r,o){return n<0?0:0===n&&1===r?1/o:t.exp((r-1)*t.log(n)-n/o-e.gammaln(r)-r*t.log(o))},cdf:function(t,n,r){return t<0?0:e.lowRegGamma(n,t/r)},inv:function(t,n,r){return e.gammapinv(t,n)*r},mean:function(e,t){return e*t},mode:function(e,t){if(e>1)return(e-1)*t},sample:function(t,n){return e.randg(t)*n},variance:function(e,t){return e*t*t}}),e.extend(e.invgamma,{pdf:function(n,r,o){return n<=0?0:t.exp(-(r+1)*t.log(n)-o/n-e.gammaln(r)+r*t.log(o))},cdf:function(t,n,r){return t<=0?0:1-e.lowRegGamma(n,r/t)},inv:function(t,n,r){return r/e.gammapinv(1-t,n)},mean:function(e,t){return e>1?t/(e-1):void 0},mode:function(e,t){return t/(e+1)},sample:function(t,n){return n/e.randg(t)},variance:function(e,t){if(!(e<=2))return t*t/((e-1)*(e-1)*(e-2))}}),e.extend(e.kumaraswamy,{pdf:function(e,n,r){return 0===e&&1===n?r:1===e&&1===r?n:t.exp(t.log(n)+t.log(r)+(n-1)*t.log(e)+(r-1)*t.log(1-t.pow(e,n)))},cdf:function(e,n,r){return e<0?0:e>1?1:1-t.pow(1-t.pow(e,n),r)},inv:function(e,n,r){return t.pow(1-t.pow(1-e,1/r),1/n)},mean:function(t,n){return n*e.gammafn(1+1/t)*e.gammafn(n)/e.gammafn(1+1/t+n)},median:function(e,n){return t.pow(1-t.pow(2,-1/n),1/e)},mode:function(e,n){if(e>=1&&n>=1&&1!==e&&1!==n)return t.pow((e-1)/(e*n-1),1/e)},variance:function(){throw new Error("variance not yet implemented")}}),e.extend(e.lognormal,{pdf:function(e,n,r){return e<=0?0:t.exp(-t.log(e)-.5*t.log(2*t.PI)-t.log(r)-t.pow(t.log(e)-n,2)/(2*r*r))},cdf:function(n,r,o){return n<0?0:.5+.5*e.erf((t.log(n)-r)/t.sqrt(2*o*o))},inv:function(n,r,o){return t.exp(-1.4142135623730951*o*e.erfcinv(2*n)+r)},mean:function(e,n){return t.exp(e+n*n/2)},median:function(e){return t.exp(e)},mode:function(e,n){return t.exp(e-n*n)},sample:function(n,r){return t.exp(e.randn()*r+n)},variance:function(e,n){return(t.exp(n*n)-1)*t.exp(2*e+n*n)}}),e.extend(e.noncentralt,{pdf:function(n,r,o){var a=1e-14;return t.abs(o)<a?e.studentt.pdf(n,r):t.abs(n)<a?t.exp(e.gammaln((r+1)/2)-o*o/2-.5*t.log(t.PI*r)-e.gammaln(r/2)):r/n*(e.noncentralt.cdf(n*t.sqrt(1+2/r),r+2,o)-e.noncentralt.cdf(n,r,o))},cdf:function(n,r,o){var a=1e-14,i=200;if(t.abs(o)<a)return e.studentt.cdf(n,r);var u=!1;n<0&&(u=!0,o=-o);for(var s=e.normal.cdf(-o,0,1),l=a+1,c=l,f=n*n/(n*n+r),d=0,h=t.exp(-o*o/2),p=t.exp(-o*o/2-.5*t.log(2)-e.gammaln(1.5))*o;d<i||c>a||l>a;)c=l,d>0&&(h*=o*o/(2*d),p*=o*o/(2*(d+.5))),s+=.5*(l=h*e.beta.cdf(f,d+.5,r/2)+p*e.beta.cdf(f,d+1,r/2)),d++;return u?1-s:s}}),e.extend(e.normal,{pdf:function(e,n,r){return t.exp(-.5*t.log(2*t.PI)-t.log(r)-t.pow(e-n,2)/(2*r*r))},cdf:function(n,r,o){return.5*(1+e.erf((n-r)/t.sqrt(2*o*o)))},inv:function(t,n,r){return-1.4142135623730951*r*e.erfcinv(2*t)+n},mean:function(e){return e},median:function(e){return e},mode:function(e){return e},sample:function(t,n){return e.randn()*n+t},variance:function(e,t){return t*t}}),e.extend(e.pareto,{pdf:function(e,n,r){return e<n?0:r*t.pow(n,r)/t.pow(e,r+1)},cdf:function(e,n,r){return e<n?0:1-t.pow(n/e,r)},inv:function(e,n,r){return n/t.pow(1-e,1/r)},mean:function(e,n){if(!(n<=1))return n*t.pow(e,n)/(n-1)},median:function(e,n){return e*(n*t.SQRT2)},mode:function(e){return e},variance:function(e,n){if(!(n<=2))return e*e*n/(t.pow(n-1,2)*(n-2))}}),e.extend(e.studentt,{pdf:function(n,r){return r=r>1e100?1e100:r,1/(t.sqrt(r)*e.betafn(.5,r/2))*t.pow(1+n*n/r,-(r+1)/2)},cdf:function(n,r){var o=r/2;return e.ibeta((n+t.sqrt(n*n+r))/(2*t.sqrt(n*n+r)),o,o)},inv:function(n,r){var o=e.ibetainv(2*t.min(n,1-n),.5*r,.5);return o=t.sqrt(r*(1-o)/o),n>.5?o:-o},mean:function(e){return e>1?0:void 0},median:function(){return 0},mode:function(){return 0},sample:function(n){return e.randn()*t.sqrt(n/(2*e.randg(n/2)))},variance:function(e){return e>2?e/(e-2):e>1?1/0:void 0}}),e.extend(e.weibull,{pdf:function(e,n,r){return e<0||n<0||r<0?0:r/n*t.pow(e/n,r-1)*t.exp(-t.pow(e/n,r))},cdf:function(e,n,r){return e<0?0:1-t.exp(-t.pow(e/n,r))},inv:function(e,n,r){return n*t.pow(-t.log(1-e),1/r)},mean:function(t,n){return t*e.gammafn(1+1/n)},median:function(e,n){return e*t.pow(t.log(2),1/n)},mode:function(e,n){return n<=1?0:e*t.pow((n-1)/n,1/n)},sample:function(n,r){return n*t.pow(-t.log(e._random_fn()),1/r)},variance:function(n,r){return n*n*e.gammafn(1+2/r)-t.pow(e.weibull.mean(n,r),2)}}),e.extend(e.uniform,{pdf:function(e,t,n){return e<t||e>n?0:1/(n-t)},cdf:function(e,t,n){return e<t?0:e<n?(e-t)/(n-t):1},inv:function(e,t,n){return t+e*(n-t)},mean:function(e,t){return.5*(e+t)},median:function(t,n){return e.mean(t,n)},mode:function(){throw new Error("mode is not yet implemented")},sample:function(t,n){return t/2+n/2+(n/2-t/2)*(2*e._random_fn()-1)},variance:function(e,n){return t.pow(n-e,2)/12}}),e.extend(e.binomial,{pdf:function(n,r,o){return 0===o||1===o?r*o===n?1:0:e.combination(r,n)*t.pow(o,n)*t.pow(1-o,r-n)},cdf:function(r,o,a){var i,u=1e-10;if(r<0)return 0;if(r>=o)return 1;if(a<0||a>1||o<=0)return NaN;var s=a,l=(r=t.floor(r))+1,c=o-r,f=l+c,d=t.exp(e.gammaln(f)-e.gammaln(c)-e.gammaln(l)+l*t.log(s)+c*t.log(1-s));return i=s<(l+1)/(f+2)?d*n(s,l,c,u):1-d*n(1-s,c,l,u),t.round(1/u*(1-i))/(1/u)}}),e.extend(e.negbin,{pdf:function(n,r,o){return n===n>>>0&&(n<0?0:e.combination(n+r-1,r-1)*t.pow(1-o,n)*t.pow(o,r))},cdf:function(t,n,r){var o=0,a=0;if(t<0)return 0;for(;a<=t;a++)o+=e.negbin.pdf(a,n,r);return o}}),e.extend(e.hypgeom,{pdf:function(n,r,o,a){if(n!=n|0)return!1;if(n<0||n<o-(r-a))return 0;if(n>a||n>o)return 0;if(2*o>r)return 2*a>r?e.hypgeom.pdf(r-o-a+n,r,r-o,r-a):e.hypgeom.pdf(a-n,r,r-o,a);if(2*a>r)return e.hypgeom.pdf(o-n,r,o,r-a);if(o<a)return e.hypgeom.pdf(n,r,a,o);for(var i=1,u=0,s=0;s<n;s++){for(;i>1&&u<a;)i*=1-o/(r-u),u++;i*=(a-s)*(o-s)/((s+1)*(r-o-a+s+1))}for(;u<a;u++)i*=1-o/(r-u);return t.min(1,t.max(0,i))},cdf:function(n,r,o,a){if(n<0||n<o-(r-a))return 0;if(n>=a||n>=o)return 1;if(2*o>r)return 2*a>r?e.hypgeom.cdf(r-o-a+n,r,r-o,r-a):1-e.hypgeom.cdf(a-n-1,r,r-o,a);if(2*a>r)return 1-e.hypgeom.cdf(o-n-1,r,o,r-a);if(o<a)return e.hypgeom.cdf(n,r,a,o);for(var i=1,u=1,s=0,l=0;l<n;l++){for(;i>1&&s<a;){var c=1-o/(r-s);u*=c,i*=c,s++}i+=u*=(a-l)*(o-l)/((l+1)*(r-o-a+l+1))}for(;s<a;s++)i*=1-o/(r-s);return t.min(1,t.max(0,i))}}),e.extend(e.poisson,{pdf:function(n,r){return r<0||n%1!=0||n<0?0:t.pow(r,n)*t.exp(-r)/e.factorial(n)},cdf:function(t,n){var r=[],o=0;if(t<0)return 0;for(;o<=t;o++)r.push(e.poisson.pdf(o,n));return e.sum(r)},mean:function(e){return e},variance:function(e){return e},sampleSmall:function(n){var r=1,o=0,a=t.exp(-n);do{o++,r*=e._random_fn()}while(r>a);return o-1},sampleLarge:function(n){var r,o,a,i,u,s,l,c,f,d,h=n;for(i=t.sqrt(h),u=t.log(h),s=.02483*(l=.931+2.53*i)-.059,c=1.1239+1.1328/(l-3.4),f=.9277-3.6224/(l-2);;){if(o=t.random()-.5,a=t.random(),d=.5-t.abs(o),r=t.floor((2*s/d+l)*o+h+.43),d>=.07&&a<=f)return r;if(!(r<0||d<.013&&a>d)&&t.log(a)+t.log(c)-t.log(s/(d*d)+l)<=r*u-h-e.loggam(r+1))return r}},sample:function(e){return e<10?this.sampleSmall(e):this.sampleLarge(e)}}),e.extend(e.triangular,{pdf:function(e,t,n,r){return n<=t||r<t||r>n?NaN:e<t||e>n?0:e<r?2*(e-t)/((n-t)*(r-t)):e===r?2/(n-t):2*(n-e)/((n-t)*(n-r))},cdf:function(e,n,r,o){return r<=n||o<n||o>r?NaN:e<=n?0:e>=r?1:e<=o?t.pow(e-n,2)/((r-n)*(o-n)):1-t.pow(r-e,2)/((r-n)*(r-o))},inv:function(e,n,r,o){return r<=n||o<n||o>r?NaN:e<=(o-n)/(r-n)?n+(r-n)*t.sqrt(e*((o-n)/(r-n))):n+(r-n)*(1-t.sqrt((1-e)*(1-(o-n)/(r-n))))},mean:function(e,t,n){return(e+t+n)/3},median:function(e,n,r){return r<=(e+n)/2?n-t.sqrt((n-e)*(n-r))/t.sqrt(2):r>(e+n)/2?e+t.sqrt((n-e)*(r-e))/t.sqrt(2):void 0},mode:function(e,t,n){return n},sample:function(n,r,o){var a=e._random_fn();return a<(o-n)/(r-n)?n+t.sqrt(a*(r-n)*(o-n)):r-t.sqrt((1-a)*(r-n)*(r-o))},variance:function(e,t,n){return(e*e+t*t+n*n-e*t-e*n-t*n)/18}}),e.extend(e.arcsine,{pdf:function(e,n,r){return r<=n?NaN:e<=n||e>=r?0:2/t.PI*t.pow(t.pow(r-n,2)-t.pow(2*e-n-r,2),-.5)},cdf:function(e,n,r){return e<n?0:e<r?2/t.PI*t.asin(t.sqrt((e-n)/(r-n))):1},inv:function(e,n,r){return n+(.5-.5*t.cos(t.PI*e))*(r-n)},mean:function(e,t){return t<=e?NaN:(e+t)/2},median:function(e,t){return t<=e?NaN:(e+t)/2},mode:function(){throw new Error("mode is not yet implemented")},sample:function(n,r){return(n+r)/2+(r-n)/2*t.sin(2*t.PI*e.uniform.sample(0,1))},variance:function(e,n){return n<=e?NaN:t.pow(n-e,2)/8}}),e.extend(e.laplace,{pdf:function(e,n,r){return r<=0?0:t.exp(-t.abs(e-n)/r)/(2*r)},cdf:function(e,n,r){return r<=0?0:e<n?.5*t.exp((e-n)/r):1-.5*t.exp(-(e-n)/r)},mean:function(e){return e},median:function(e){return e},mode:function(e){return e},variance:function(e,t){return 2*t*t},sample:function(n,o){var a=e._random_fn()-.5;return n-o*r(a)*t.log(1-2*t.abs(a))}}),e.extend(e.tukey,{cdf:function(n,r,a){var i=1,u=r,s=16,l=8,c=-30,f=1e-14,d=100,h=800,p=5e3,m=25e3,g=1,v=.5,y=.25,b=.125,_=[.9894009349916499,.9445750230732326,.8656312023878318,.755404408355003,.6178762444026438,.45801677765722737,.2816035507792589,.09501250983763744],w=[.027152459411754096,.062253523938647894,.09515851168249279,.12462897125553388,.14959598881657674,.16915651939500254,.18260341504492358,.1894506104550685];if(n<=0)return 0;if(a<2||i<1||u<2)return NaN;if(!Number.isFinite(n))return 1;if(a>m)return o(n,i,u);var E,N=.5*a,M=N*t.log(a)-a*t.log(2)-e.gammaln(N),x=N-1,I=.25*a;E=a<=d?g:a<=h?v:a<=p?y:b,M+=t.log(E);for(var A=0,C=1;C<=50;C++){for(var S=0,T=(2*C-1)*E,D=1;D<=s;D++){var O,R;l<D?(O=D-l-1,R=M+x*t.log(T+_[O]*E)-(_[O]*E+T)*I):(O=D-1,R=M+x*t.log(T-_[O]*E)+(_[O]*E-T)*I),R>=c&&(S+=o(l<D?n*t.sqrt(.5*(_[O]*E+T)):n*t.sqrt(.5*(-_[O]*E+T)),i,u)*w[O]*t.exp(R))}if(C*E>=1&&S<=f)break;A+=S}if(S>f)throw new Error("tukey.cdf failed to converge");return A>1&&(A=1),A},inv:function(n,r,o){var i=1e-4,u=50;if(o<2||r<2)return NaN;if(n<0||n>1)return NaN;if(0===n)return 0;if(1===n)return 1/0;var s,l=a(n,r,o),c=e.tukey.cdf(l,r,o)-n;s=c>0?t.max(0,l-1):l+1;for(var f,d=e.tukey.cdf(s,r,o)-n,h=1;h<u;h++)if(f=s-d*(s-l)/(d-c),c=d,l=s,f<0&&(f=0,d=-n),d=e.tukey.cdf(f,r,o)-n,s=f,t.abs(s-l)<i)return f;throw new Error("tukey.inv failed to converge")}})}(Qd,Math),function(e,t){var n=Array.prototype.push,r=e.utils.isArray;function o(t){return r(t)||t instanceof e}e.extend({add:function(t,n){return o(n)?(o(n[0])||(n=[n]),e.map(t,(function(e,t,r){return e+n[t][r]}))):e.map(t,(function(e){return e+n}))},subtract:function(t,n){return o(n)?(o(n[0])||(n=[n]),e.map(t,(function(e,t,r){return e-n[t][r]||0}))):e.map(t,(function(e){return e-n}))},divide:function(t,n){return o(n)?(o(n[0])||(n=[n]),e.multiply(t,e.inv(n))):e.map(t,(function(e){return e/n}))},multiply:function(t,n){var r,a,i,u,s,l,c,f;if(void 0===t.length&&void 0===n.length)return t*n;if(s=t.length,l=t[0].length,c=e.zeros(s,i=o(n)?n[0].length:l),f=0,o(n)){for(;f<i;f++)for(r=0;r<s;r++){for(u=0,a=0;a<l;a++)u+=t[r][a]*n[a][f];c[r][f]=u}return 1===s&&1===f?c[0][0]:c}return e.map(t,(function(e){return e*n}))},outer:function(t,n){return e.multiply(t.map((function(e){return[e]})),[n])},dot:function(t,n){o(t[0])||(t=[t]),o(n[0])||(n=[n]);for(var r,a,i=1===t[0].length&&1!==t.length?e.transpose(t):t,u=1===n[0].length&&1!==n.length?e.transpose(n):n,s=[],l=0,c=i.length,f=i[0].length;l<c;l++){for(s[l]=[],r=0,a=0;a<f;a++)r+=i[l][a]*u[l][a];s[l]=r}return 1===s.length?s[0]:s},pow:function(n,r){return e.map(n,(function(e){return t.pow(e,r)}))},exp:function(n){return e.map(n,(function(e){return t.exp(e)}))},log:function(n){return e.map(n,(function(e){return t.log(e)}))},abs:function(n){return e.map(n,(function(e){return t.abs(e)}))},norm:function(e,n){var r=0,a=0;for(isNaN(n)&&(n=2),o(e[0])&&(e=e[0]);a<e.length;a++)r+=t.pow(t.abs(e[a]),n);return t.pow(r,1/n)},angle:function(n,r){return t.acos(e.dot(n,r)/(e.norm(n)*e.norm(r)))},aug:function(e,t){var r,o=[];for(r=0;r<e.length;r++)o.push(e[r].slice());for(r=0;r<o.length;r++)n.apply(o[r],t[r]);return o},inv:function(t){for(var n,r=t.length,o=t[0].length,a=e.identity(r,o),i=e.gauss_jordan(t,a),u=[],s=0;s<r;s++)for(u[s]=[],n=o;n<i[0].length;n++)u[s][n-o]=i[s][n];return u},det:function e(t){if(2===t.length)return t[0][0]*t[1][1]-t[0][1]*t[1][0];for(var n=0,r=0;r<t.length;r++){for(var o=[],a=1;a<t.length;a++){o[a-1]=[];for(var i=0;i<t.length;i++)i<r?o[a-1][i]=t[a][i]:i>r&&(o[a-1][i-1]=t[a][i])}var u=r%2?-1:1;n+=e(o)*t[0][r]*u}return n},gauss_elimination:function(n,r){var o,a,i,u,s=0,l=0,c=n.length,f=n[0].length,d=1,h=0,p=[];for(o=(n=e.aug(n,r))[0].length,s=0;s<c;s++){for(a=n[s][s],l=s,u=s+1;u<f;u++)a<t.abs(n[u][s])&&(a=n[u][s],l=u);if(l!=s)for(u=0;u<o;u++)i=n[s][u],n[s][u]=n[l][u],n[l][u]=i;for(l=s+1;l<c;l++)for(d=n[l][s]/n[s][s],u=s;u<o;u++)n[l][u]=n[l][u]-d*n[s][u]}for(s=c-1;s>=0;s--){for(h=0,l=s+1;l<=c-1;l++)h+=p[l]*n[s][l];p[s]=(n[s][o-1]-h)/n[s][s]}return p},gauss_jordan:function(n,r){var o,a,i,u=e.aug(n,r),s=u.length,l=u[0].length,c=0;for(a=0;a<s;a++){var f=a;for(i=a+1;i<s;i++)t.abs(u[i][a])>t.abs(u[f][a])&&(f=i);var d=u[a];for(u[a]=u[f],u[f]=d,i=a+1;i<s;i++)for(c=u[i][a]/u[a][a],o=a;o<l;o++)u[i][o]-=u[a][o]*c}for(a=s-1;a>=0;a--){for(c=u[a][a],i=0;i<a;i++)for(o=l-1;o>a-1;o--)u[i][o]-=u[a][o]*u[i][a]/c;for(u[a][a]/=c,o=s;o<l;o++)u[a][o]/=c}return u},triaUpSolve:function(t,n){var r,o=t[0].length,a=e.zeros(1,o)[0],i=!1;return null!=n[0].length&&(n=n.map((function(e){return e[0]})),i=!0),e.arange(o-1,-1,-1).forEach((function(i){r=e.arange(i+1,o).map((function(e){return a[e]*t[i][e]})),a[i]=(n[i]-e.sum(r))/t[i][i]})),i?a.map((function(e){return[e]})):a},triaLowSolve:function(t,n){var r,o=t[0].length,a=e.zeros(1,o)[0],i=!1;return null!=n[0].length&&(n=n.map((function(e){return e[0]})),i=!0),e.arange(o).forEach((function(o){r=e.arange(o).map((function(e){return t[o][e]*a[e]})),a[o]=(n[o]-e.sum(r))/t[o][o]})),i?a.map((function(e){return[e]})):a},lu:function(t){var n,r=t.length,o=e.identity(r),a=e.zeros(t.length,t[0].length);return e.arange(r).forEach((function(e){a[0][e]=t[0][e]})),e.arange(1,r).forEach((function(i){e.arange(i).forEach((function(r){n=e.arange(r).map((function(e){return o[i][e]*a[e][r]})),o[i][r]=(t[i][r]-e.sum(n))/a[r][r]})),e.arange(i,r).forEach((function(r){n=e.arange(i).map((function(e){return o[i][e]*a[e][r]})),a[i][r]=t[n.length][r]-e.sum(n)}))})),[o,a]},cholesky:function(n){var r,o=n.length,a=e.zeros(n.length,n[0].length);return e.arange(o).forEach((function(i){r=e.arange(i).map((function(e){return t.pow(a[i][e],2)})),a[i][i]=t.sqrt(n[i][i]-e.sum(r)),e.arange(i+1,o).forEach((function(t){r=e.arange(i).map((function(e){return a[i][e]*a[t][e]})),a[t][i]=(n[i][t]-e.sum(r))/a[i][i]}))})),a},gauss_jacobi:function(n,r,o,a){for(var i,u,s,l,c=0,f=0,d=n.length,h=[],p=[],m=[];c<d;c++)for(h[c]=[],p[c]=[],m[c]=[],f=0;f<d;f++)c>f?(h[c][f]=n[c][f],p[c][f]=m[c][f]=0):c<f?(p[c][f]=n[c][f],h[c][f]=m[c][f]=0):(m[c][f]=n[c][f],h[c][f]=p[c][f]=0);for(s=e.multiply(e.multiply(e.inv(m),e.add(h,p)),-1),u=e.multiply(e.inv(m),r),i=o,l=e.add(e.multiply(s,o),u),c=2;t.abs(e.norm(e.subtract(l,i)))>a;)i=l,l=e.add(e.multiply(s,i),u),c++;return l},gauss_seidel:function(n,r,o,a){for(var i,u,s,l,c,f=0,d=n.length,h=[],p=[],m=[];f<d;f++)for(h[f]=[],p[f]=[],m[f]=[],i=0;i<d;i++)f>i?(h[f][i]=n[f][i],p[f][i]=m[f][i]=0):f<i?(p[f][i]=n[f][i],h[f][i]=m[f][i]=0):(m[f][i]=n[f][i],h[f][i]=p[f][i]=0);for(l=e.multiply(e.multiply(e.inv(e.add(m,h)),p),-1),s=e.multiply(e.inv(e.add(m,h)),r),u=o,c=e.add(e.multiply(l,o),s),f=2;t.abs(e.norm(e.subtract(c,u)))>a;)u=c,c=e.add(e.multiply(l,u),s),f+=1;return c},SOR:function(n,r,o,a,i){for(var u,s,l,c,f,d=0,h=n.length,p=[],m=[],g=[];d<h;d++)for(p[d]=[],m[d]=[],g[d]=[],u=0;u<h;u++)d>u?(p[d][u]=n[d][u],m[d][u]=g[d][u]=0):d<u?(m[d][u]=n[d][u],p[d][u]=g[d][u]=0):(g[d][u]=n[d][u],p[d][u]=m[d][u]=0);for(c=e.multiply(e.inv(e.add(g,e.multiply(p,i))),e.subtract(e.multiply(g,1-i),e.multiply(m,i))),l=e.multiply(e.multiply(e.inv(e.add(g,e.multiply(p,i))),r),i),s=o,f=e.add(e.multiply(c,o),l),d=2;t.abs(e.norm(e.subtract(f,s)))>a;)s=f,f=e.add(e.multiply(c,s),l),d++;return f},householder:function(n){for(var r,o,a,i,u=n.length,s=n[0].length,l=0,c=[],f=[];l<u-1;l++){for(r=0,i=l+1;i<s;i++)r+=n[i][l]*n[i][l];for(r=(n[l+1][l]>0?-1:1)*t.sqrt(r),o=t.sqrt((r*r-n[l+1][l]*r)/2),(c=e.zeros(u,1))[l+1][0]=(n[l+1][l]-r)/(2*o),a=l+2;a<u;a++)c[a][0]=n[a][l]/(2*o);f=e.subtract(e.identity(u,s),e.multiply(e.multiply(c,e.transpose(c)),2)),n=e.multiply(f,e.multiply(n,f))}return n},QR:function(){var n=e.sum,r=e.arange;function o(o){var a,i,u,s=o.length,l=o[0].length,c=e.zeros(l,l);for(o=e.copy(o),i=0;i<l;i++){for(c[i][i]=t.sqrt(n(r(s).map((function(e){return o[e][i]*o[e][i]})))),a=0;a<s;a++)o[a][i]=o[a][i]/c[i][i];for(u=i+1;u<l;u++)for(c[i][u]=n(r(s).map((function(e){return o[e][i]*o[e][u]}))),a=0;a<s;a++)o[a][u]=o[a][u]-o[a][i]*c[i][u]}return[o,c]}return o}(),lstsq:function(){function t(t){var n=(t=e.copy(t)).length,r=e.identity(n);return e.arange(n-1,-1,-1).forEach((function(n){e.sliceAssign(r,{row:n},e.divide(e.slice(r,{row:n}),t[n][n])),e.sliceAssign(t,{row:n},e.divide(e.slice(t,{row:n}),t[n][n])),e.arange(n).forEach((function(o){var a=e.multiply(t[o][n],-1),i=e.slice(t,{row:o}),u=e.multiply(e.slice(t,{row:n}),a);e.sliceAssign(t,{row:o},e.add(i,u));var s=e.slice(r,{row:o}),l=e.multiply(e.slice(r,{row:n}),a);e.sliceAssign(r,{row:o},e.add(s,l))}))})),r}function n(n,r){var o=!1;void 0===r[0].length&&(r=r.map((function(e){return[e]})),o=!0);var a=e.QR(n),i=a[0],u=a[1],s=n[0].length,l=e.slice(i,{col:{end:s}}),c=t(e.slice(u,{row:{end:s}})),f=e.transpose(l);void 0===f[0].length&&(f=[f]);var d=e.multiply(e.multiply(c,f),r);return void 0===d.length&&(d=[[d]]),o?d.map((function(e){return e[0]})):d}return n}(),jacobi:function(n){for(var r,o,a,i,u,s,l,c=1,f=n.length,d=e.identity(f,f),h=[];1===c;){for(u=n[0][1],a=0,i=1,r=0;r<f;r++)for(o=0;o<f;o++)r!=o&&u<t.abs(n[r][o])&&(u=t.abs(n[r][o]),a=r,i=o);for(s=n[a][a]===n[i][i]?n[a][i]>0?t.PI/4:-t.PI/4:t.atan(2*n[a][i]/(n[a][a]-n[i][i]))/2,(l=e.identity(f,f))[a][a]=t.cos(s),l[a][i]=-t.sin(s),l[i][a]=t.sin(s),l[i][i]=t.cos(s),d=e.multiply(d,l),n=e.multiply(e.multiply(e.inv(l),n),l),c=0,r=1;r<f;r++)for(o=1;o<f;o++)r!=o&&t.abs(n[r][o])>.001&&(c=1)}for(r=0;r<f;r++)h.push(n[r][r]);return[d,h]},rungekutta:function(e,t,n,r,o,a){var i,u,s;if(2===a)for(;r<=n;)o+=((i=t*e(r,o))+(u=t*e(r+t,o+i)))/2,r+=t;if(4===a)for(;r<=n;)o+=((i=t*e(r,o))+2*(u=t*e(r+t/2,o+i/2))+2*(s=t*e(r+t/2,o+u/2))+t*e(r+t,o+s))/6,r+=t;return o},romberg:function(e,n,r,o){for(var a,i,u,s,l,c=0,f=(r-n)/2,d=[],h=[],p=[];c<o/2;){for(l=e(n),u=n,s=0;u<=r;u+=f,s++)d[s]=u;for(a=d.length,u=1;u<a-1;u++)l+=(u%2!=0?4:2)*e(d[u]);l=f/3*(l+e(r)),p[c]=l,f/=2,c++}for(i=p.length,a=1;1!==i;){for(u=0;u<i-1;u++)h[u]=(t.pow(4,a)*p[u+1]-p[u])/(t.pow(4,a)-1);i=h.length,p=h,h=[],a++}return p},richardson:function(e,n,r,o){function a(e,t){for(var n,r=0,o=e.length;r<o;r++)e[r]===t&&(n=r);return n}for(var i,u,s,l,c,f=t.abs(r-e[a(e,r)+1]),d=0,h=[],p=[];o>=f;)i=a(e,r+o),u=a(e,r),h[d]=(n[i]-2*n[u]+n[2*u-i])/(o*o),o/=2,d++;for(l=h.length,s=1;1!=l;){for(c=0;c<l-1;c++)p[c]=(t.pow(4,s)*h[c+1]-h[c])/(t.pow(4,s)-1);l=p.length,h=p,p=[],s++}return h},simpson:function(e,t,n,r){for(var o,a=(n-t)/r,i=e(t),u=[],s=t,l=0,c=1;s<=n;s+=a,l++)u[l]=s;for(o=u.length;c<o-1;c++)i+=(c%2!=0?4:2)*e(u[c]);return a/3*(i+e(n))},hermite:function(e,t,n,r){for(var o,a=e.length,i=0,u=0,s=[],l=[],c=[],f=[];u<a;u++){for(s[u]=1,o=0;o<a;o++)u!=o&&(s[u]*=(r-e[o])/(e[u]-e[o]));for(l[u]=0,o=0;o<a;o++)u!=o&&(l[u]+=1/(e[u]-e[o]));c[u]=(1-2*(r-e[u])*l[u])*(s[u]*s[u]),f[u]=(r-e[u])*(s[u]*s[u]),i+=c[u]*t[u]+f[u]*n[u]}return i},lagrange:function(e,t,n){for(var r,o,a=0,i=0,u=e.length;i<u;i++){for(o=t[i],r=0;r<u;r++)i!=r&&(o*=(n-e[r])/(e[i]-e[r]));a+=o}return a},cubic_spline:function(t,n,r){for(var o,a=t.length,i=0,u=[],s=[],l=[],c=[],f=[],d=[],h=[];i<a-1;i++)f[i]=t[i+1]-t[i];for(l[0]=0,i=1;i<a-1;i++)l[i]=3/f[i]*(n[i+1]-n[i])-3/f[i-1]*(n[i]-n[i-1]);for(i=1;i<a-1;i++)u[i]=[],s[i]=[],u[i][i-1]=f[i-1],u[i][i]=2*(f[i-1]+f[i]),u[i][i+1]=f[i],s[i][0]=l[i];for(c=e.multiply(e.inv(u),s),o=0;o<a-1;o++)d[o]=(n[o+1]-n[o])/f[o]-f[o]*(c[o+1][0]+2*c[o][0])/3,h[o]=(c[o+1][0]-c[o][0])/(3*f[o]);for(o=0;o<a&&!(t[o]>r);o++);return n[o-=1]+(r-t[o])*d[o]+e.sq(r-t[o])*c[o]+(r-t[o])*e.sq(r-t[o])*h[o]},gauss_quadrature:function(){throw new Error("gauss_quadrature not yet implemented")},PCA:function(t){var n,r,o=t.length,a=t[0].length,i=0,u=[],s=[],l=[],c=[],f=[],d=[],h=[],p=[],m=[],g=[];for(i=0;i<o;i++)u[i]=e.sum(t[i])/a;for(i=0;i<a;i++)for(h[i]=[],n=0;n<o;n++)h[i][n]=t[n][i]-u[n];for(h=e.transpose(h),i=0;i<o;i++)for(p[i]=[],n=0;n<o;n++)p[i][n]=e.dot([h[i]],[h[n]])/(a-1);for(m=(l=e.jacobi(p))[0],s=l[1],g=e.transpose(m),i=0;i<s.length;i++)for(n=i;n<s.length;n++)s[i]<s[n]&&(r=s[i],s[i]=s[n],s[n]=r,c=g[i],g[i]=g[n],g[n]=c);for(d=e.transpose(h),i=0;i<o;i++)for(f[i]=[],n=0;n<d.length;n++)f[i][n]=e.dot([g[i]],[d[n]]);return[t,s,g,f]}}),function(t){for(var n=0;n<t.length;n++)!function(t){e.fn[t]=function(n,r){var o=this;return r?(setTimeout((function(){r.call(o,e.fn[t].call(o,n))}),15),this):"number"==typeof e[t](this,n)?e[t](this,n):e(e[t](this,n))}}(t[n])}("add divide multiply subtract dot pow exp log abs norm angle".split(" "))}(Qd,Math),function(e,t){var n=[].slice,r=e.utils.isNumber,o=e.utils.isArray;function a(e,n,r,o){if(e>1||r>1||e<=0||r<=0)throw new Error("Proportions should be greater than 0 and less than 1");var a=(e*n+r*o)/(n+o);return(e-r)/t.sqrt(a*(1-a)*(1/n+1/o))}e.extend({zscore:function(){var t=n.call(arguments);return r(t[1])?(t[0]-t[1])/t[2]:(t[0]-e.mean(t[1]))/e.stdev(t[1],t[2])},ztest:function(){var r,a=n.call(arguments);return o(a[1])?(r=e.zscore(a[0],a[1],a[3]),1===a[2]?e.normal.cdf(-t.abs(r),0,1):2*e.normal.cdf(-t.abs(r),0,1)):a.length>2?(r=e.zscore(a[0],a[1],a[2]),1===a[3]?e.normal.cdf(-t.abs(r),0,1):2*e.normal.cdf(-t.abs(r),0,1)):(r=a[0],1===a[1]?e.normal.cdf(-t.abs(r),0,1):2*e.normal.cdf(-t.abs(r),0,1))}}),e.extend(e.fn,{zscore:function(e,t){return(e-this.mean())/this.stdev(t)},ztest:function(n,r,o){var a=t.abs(this.zscore(n,o));return 1===r?e.normal.cdf(-a,0,1):2*e.normal.cdf(-a,0,1)}}),e.extend({tscore:function(){var r=n.call(arguments);return 4===r.length?(r[0]-r[1])/(r[2]/t.sqrt(r[3])):(r[0]-e.mean(r[1]))/(e.stdev(r[1],!0)/t.sqrt(r[1].length))},ttest:function(){var o,a=n.call(arguments);return 5===a.length?(o=t.abs(e.tscore(a[0],a[1],a[2],a[3])),1===a[4]?e.studentt.cdf(-o,a[3]-1):2*e.studentt.cdf(-o,a[3]-1)):r(a[1])?(o=t.abs(a[0]),1==a[2]?e.studentt.cdf(-o,a[1]-1):2*e.studentt.cdf(-o,a[1]-1)):(o=t.abs(e.tscore(a[0],a[1])),1==a[2]?e.studentt.cdf(-o,a[1].length-1):2*e.studentt.cdf(-o,a[1].length-1))}}),e.extend(e.fn,{tscore:function(e){return(e-this.mean())/(this.stdev(!0)/t.sqrt(this.cols()))},ttest:function(n,r){return 1===r?1-e.studentt.cdf(t.abs(this.tscore(n)),this.cols()-1):2*e.studentt.cdf(-t.abs(this.tscore(n)),this.cols()-1)}}),e.extend({anovafscore:function(){var r,o,a,i,u,s,l,c,f=n.call(arguments);if(1===f.length){for(u=new Array(f[0].length),l=0;l<f[0].length;l++)u[l]=f[0][l];f=u}for(o=new Array,l=0;l<f.length;l++)o=o.concat(f[l]);for(a=e.mean(o),r=0,l=0;l<f.length;l++)r+=f[l].length*t.pow(e.mean(f[l])-a,2);for(r/=f.length-1,s=0,l=0;l<f.length;l++)for(i=e.mean(f[l]),c=0;c<f[l].length;c++)s+=t.pow(f[l][c]-i,2);return r/(s/=o.length-f.length)},anovaftest:function(){var t,o,a,i,u=n.call(arguments);if(r(u[0]))return 1-e.centralF.cdf(u[0],u[1],u[2]);var s=e.anovafscore(u);for(t=u.length-1,a=0,i=0;i<u.length;i++)a+=u[i].length;return o=a-t-1,1-e.centralF.cdf(s,t,o)},ftest:function(t,n,r){return 1-e.centralF.cdf(t,n,r)}}),e.extend(e.fn,{anovafscore:function(){return e.anovafscore(this.toArray())},anovaftes:function(){var t,n=0;for(t=0;t<this.length;t++)n+=this[t].length;return e.ftest(this.anovafscore(),this.length-1,n-this.length)}}),e.extend({qscore:function(){var o,a,i,u,s,l=n.call(arguments);return r(l[0])?(o=l[0],a=l[1],i=l[2],u=l[3],s=l[4]):(o=e.mean(l[0]),a=e.mean(l[1]),i=l[0].length,u=l[1].length,s=l[2]),t.abs(o-a)/(s*t.sqrt((1/i+1/u)/2))},qtest:function(){var t,r=n.call(arguments);3===r.length?(t=r[0],r=r.slice(1)):7===r.length?(t=e.qscore(r[0],r[1],r[2],r[3],r[4]),r=r.slice(5)):(t=e.qscore(r[0],r[1],r[2]),r=r.slice(3));var o=r[0],a=r[1];return 1-e.tukey.cdf(t,a,o-a)},tukeyhsd:function(t){for(var n=e.pooledstdev(t),r=t.map((function(t){return e.mean(t)})),o=t.reduce((function(e,t){return e+t.length}),0),a=[],i=0;i<t.length;++i)for(var u=i+1;u<t.length;++u){var s=e.qtest(r[i],r[u],t[i].length,t[u].length,n,o,t.length);a.push([[i,u],s])}return a}}),e.extend({normalci:function(){var r,o=n.call(arguments),a=new Array(2);return r=4===o.length?t.abs(e.normal.inv(o[1]/2,0,1)*o[2]/t.sqrt(o[3])):t.abs(e.normal.inv(o[1]/2,0,1)*e.stdev(o[2])/t.sqrt(o[2].length)),a[0]=o[0]-r,a[1]=o[0]+r,a},tci:function(){var r,o=n.call(arguments),a=new Array(2);return r=4===o.length?t.abs(e.studentt.inv(o[1]/2,o[3]-1)*o[2]/t.sqrt(o[3])):t.abs(e.studentt.inv(o[1]/2,o[2].length-1)*e.stdev(o[2],!0)/t.sqrt(o[2].length)),a[0]=o[0]-r,a[1]=o[0]+r,a},significant:function(e,t){return e<t}}),e.extend(e.fn,{normalci:function(t,n){return e.normalci(t,n,this.toArray())},tci:function(t,n){return e.tci(t,n,this.toArray())}}),e.extend(e.fn,{oneSidedDifferenceOfProportions:function(t,n,r,o){var i=a(t,n,r,o);return e.ztest(i,1)},twoSidedDifferenceOfProportions:function(t,n,r,o){var i=a(t,n,r,o);return e.ztest(i,2)}})}(Qd,Math),Qd.models=function(){function e(e){var n=e[0].length,r=Qd.arange(n).map((function(r){var o=Qd.arange(n).filter((function(e){return e!==r}));return t(Qd.col(e,r).map((function(e){return e[0]})),Qd.col(e,o))}));return r}function t(e,t){var n=e.length,r=t[0].length-1,o=n-r-1,a=Qd.lstsq(t,e),i=Qd.multiply(t,a.map((function(e){return[e]}))).map((function(e){return e[0]})),u=Qd.subtract(e,i),s=Qd.mean(e),l=Qd.sum(i.map((function(e){return Math.pow(e-s,2)}))),c=Qd.sum(e.map((function(e,t){return Math.pow(e-i[t],2)}))),f=l+c;return{exog:t,endog:e,nobs:n,df_model:r,df_resid:o,coef:a,predict:i,resid:u,ybar:s,SST:f,SSE:l,SSR:c,R2:l/f}}function n(t){var n=e(t.exog),r=Math.sqrt(t.SSR/t.df_resid),o=n.map((function(e){var t=e.SST,n=e.R2;return r/Math.sqrt(t*(1-n))})),a=t.coef.map((function(e,t){return(e-0)/o[t]})),i=a.map((function(e){var n=Qd.studentt.cdf(e,t.df_resid);return 2*(n>.5?1-n:n)})),u=Qd.studentt.inv(.975,t.df_resid),s=t.coef.map((function(e,t){var n=u*o[t];return[e-n,e+n]}));return{se:o,t:a,p:i,sigmaHat:r,interval95:s}}function r(e){var t=e.R2/e.df_model/((1-e.R2)/e.df_resid),n=function(e,t,n){return Qd.beta.cdf(e/(n/t+e),t/2,n/2)};return{F_statistic:t,pvalue:1-n(t,e.df_model,e.df_resid)}}function o(e,o){var a=t(e,o),i=n(a),u=r(a),s=1-(1-a.R2)*((a.nobs-1)/a.df_resid);return a.t=i,a.f=u,a.adjust_R2=s,a}return{ols:o}}(),Qd.extend({buildxmatrix:function(){for(var e=new Array(arguments.length),t=0;t<arguments.length;t++){var n=[1];e[t]=n.concat(arguments[t])}return Qd(e)},builddxmatrix:function(){for(var e=new Array(arguments[0].length),t=0;t<arguments[0].length;t++){var n=[1];e[t]=n.concat(arguments[0][t])}return Qd(e)},buildjxmatrix:function(e){for(var t=new Array(e.length),n=0;n<e.length;n++)t[n]=e[n];return Qd.builddxmatrix(t)},buildymatrix:function(e){return Qd(e).transpose()},buildjymatrix:function(e){return e.transpose()},matrixmult:function(e,t){var n,r,o,a,i;if(e.cols()==t.rows()){if(t.rows()>1){for(a=[],n=0;n<e.rows();n++)for(a[n]=[],r=0;r<t.cols();r++){for(i=0,o=0;o<e.cols();o++)i+=e.toArray()[n][o]*t.toArray()[o][r];a[n][r]=i}return Qd(a)}for(a=[],n=0;n<e.rows();n++)for(a[n]=[],r=0;r<t.cols();r++){for(i=0,o=0;o<e.cols();o++)i+=e.toArray()[n][o]*t.toArray()[r];a[n][r]=i}return Qd(a)}},regress:function(e,t){var n=Qd.xtranspxinv(e),r=e.transpose(),o=Qd.matrixmult(Qd(n),r);return Qd.matrixmult(o,t)},regresst:function(e,t,n){var r=Qd.regress(e,t),o={anova:{}},a=Qd.jMatYBar(e,r);o.yBar=a;var i=t.mean();o.anova.residuals=Qd.residuals(t,a),o.anova.ssr=Qd.ssr(a,i),o.anova.msr=o.anova.ssr/(e[0].length-1),o.anova.sse=Qd.sse(t,a),o.anova.mse=o.anova.sse/(t.length-(e[0].length-1)-1),o.anova.sst=Qd.sst(t,i),o.anova.mst=o.anova.sst/(t.length-1),o.anova.r2=1-o.anova.sse/o.anova.sst,o.anova.r2<0&&(o.anova.r2=0),o.anova.fratio=o.anova.msr/o.anova.mse,o.anova.pvalue=Qd.anovaftest(o.anova.fratio,e[0].length-1,t.length-(e[0].length-1)-1),o.anova.rmse=Math.sqrt(o.anova.mse),o.anova.r2adj=1-o.anova.mse/o.anova.mst,o.anova.r2adj<0&&(o.anova.r2adj=0),o.stats=new Array(e[0].length);for(var u,s,l,c=Qd.xtranspxinv(e),f=0;f<r.length;f++)u=Math.sqrt(o.anova.mse*Math.abs(c[f][f])),s=Math.abs(r[f]/u),l=Qd.ttest(s,t.length-e[0].length-1,n),o.stats[f]=[r[f],u,s,l];return o.regress=r,o},xtranspx:function(e){return Qd.matrixmult(e.transpose(),e)},xtranspxinv:function(e){var t=Qd.matrixmult(e.transpose(),e);return Qd.inv(t)},jMatYBar:function(e,t){var n=Qd.matrixmult(e,t);return new Qd(n)},residuals:function(e,t){return Qd.matrixsubtract(e,t)},ssr:function(e,t){for(var n=0,r=0;r<e.length;r++)n+=Math.pow(e[r]-t,2);return n},sse:function(e,t){for(var n=0,r=0;r<e.length;r++)n+=Math.pow(e[r]-t[r],2);return n},sst:function(e,t){for(var n=0,r=0;r<e.length;r++)n+=Math.pow(e[r]-t,2);return n},matrixsubtract:function(e,t){for(var n=new Array(e.length),r=0;r<e.length;r++){n[r]=new Array(e[r].length);for(var o=0;o<e[r].length;o++)n[r][o]=e[r][o]-t[r][o]}return Qd(n)}}),Qd.jStat=Qd,Qd);var Jd={},eh=[">",">=","<","<=","=","<>"],th="operator",nh="literal",rh=[th,nh];function oh(e,t){if(-1===rh.indexOf(t))throw new Error("Unsupported token type: "+t);return{value:e,type:t}}function ah(e){for(var t,n="",r=[],o=0;o<e.length;o++){var a=e[o];0===o&&eh.indexOf(a)>=0?r.push(oh(a,th)):n+=a}return n.length>0&&r.push(oh(("string"!=typeof(t=n)||/^\d+(\.\d+)?$/.test(t)&&(t=-1===t.indexOf(".")?parseInt(t,10):parseFloat(t)),t),nh)),r.length>0&&r[0].type!==th&&r.unshift(oh("=",th)),r}Jd.TOKEN_TYPE_OPERATOR=th,Jd.TOKEN_TYPE_LITERAL=nh,Jd.parse=function(e){return ah(function(e){for(var t=e.length,n=[],r=0,o="",a="";r<t;){var i=e.charAt(r);switch(i){case">":case"<":case"=":a+=i,o.length>0&&(n.push(o),o="");break;default:a.length>0&&(n.push(a),a=""),o+=i}r++}return o.length>0&&n.push(o),a.length>0&&n.push(a),n}(e))},Jd.createToken=oh,Jd.compute=function(e){for(var t,n=[],r=0;r<e.length;r++){var o=e[r];switch(o.type){case th:t=o.value;break;case nh:n.push(o.value)}}return function(e,t){var n=!1;switch(t){case">":n=e[0]>e[1];break;case">=":n=e[0]>=e[1];break;case"<":n=e[0]<e[1];break;case"<=":n=e[0]<=e[1];break;case"=":n=e[0]==e[1];break;case"<>":n=e[0]!=e[1]}return n}(n,t)};var ih={},uh=Gd,sh=Xd;ih.UNIQUE=function(){for(var e=[],t=0;t<arguments.length;++t){for(var n=!1,r=arguments[t],o=0;o<e.length&&!(n=e[o]===r);++o);n||e.push(r)}return e},ih.FLATTEN=uh.flatten,ih.ARGS2ARRAY=function(){return Array.prototype.slice.call(arguments,0)},ih.REFERENCE=function(e,t){if(!arguments.length)return sh.error;try{for(var n=t.split("."),r=e,o=0;o<n.length;++o){var a=n[o];if("]"===a[a.length-1]){var i=a.indexOf("["),u=a.substring(i+1,a.length-1);r=r[a.substring(0,i)][u]}else r=r[a]}return r}catch(e){}},ih.JOIN=function(e,t){return e.join(t)},ih.NUMBERS=function(){return uh.flatten(arguments).filter((function(e){return"number"==typeof e}))},function(e){var t=zd,n=Kd,r=Zd.exports,o=Gd,a=Jd,i=Xd,u=ih;e.AVEDEV=function(){var e=o.parseNumberArray(o.flatten(arguments));return e instanceof Error?e:r.sum(r(e).subtract(r.mean(e)).abs()[0])/e.length},e.AVERAGE=function(){for(var e,t=o.numbers(o.flatten(arguments)),n=t.length,r=0,a=0,u=0;u<n;u++)r+=t[u],a+=1;return e=r/a,isNaN(e)&&(e=i.num),e},e.AVERAGEA=function(){for(var e,t=o.flatten(arguments),n=t.length,r=0,a=0,u=0;u<n;u++){var s=t[u];"number"==typeof s&&(r+=s),!0===s&&r++,null!==s&&a++}return e=r/a,isNaN(e)&&(e=i.num),e},e.AVERAGEIF=function(e,t,n){if(arguments.length<=1)return i.na;if(n=n||e,e=o.flatten(e),(n=o.parseNumberArray(o.flatten(n)))instanceof Error)return n;for(var r=0,u=0,s=void 0===t||"*"===t,l=s?null:a.parse(t+""),c=0;c<e.length;c++){var f=e[c];if(s)u+=n[c],r++;else{var d=[a.createToken(f,a.TOKEN_TYPE_LITERAL)].concat(l);a.compute(d)&&(u+=n[c],r++)}}return u/r},e.AVERAGEIFS=function(){for(var e=o.argsToArray(arguments),t=(e.length-1)/2,n=o.flatten(e[0]),r=0,i=0,u=0;u<n.length;u++){for(var s=!1,l=0;l<t;l++){var c=e[2*l+1][u],f=e[2*l+2],d=!1;if(void 0===f||"*"===f)d=!0;else{var h=a.parse(f+""),p=[a.createToken(c,a.TOKEN_TYPE_LITERAL)].concat(h);d=a.compute(p)}if(!d){s=!1;break}s=!0}s&&(i+=n[u],r++)}var m=i/r;return isNaN(m)?0:m},e.BETA={},e.BETA.DIST=function(e,t,n,a,u,s){return arguments.length<4?i.value:(u=void 0===u?0:u,s=void 0===s?1:s,e=o.parseNumber(e),t=o.parseNumber(t),n=o.parseNumber(n),u=o.parseNumber(u),s=o.parseNumber(s),o.anyIsError(e,t,n,u,s)?i.value:(e=(e-u)/(s-u),a?r.beta.cdf(e,t,n):r.beta.pdf(e,t,n)))},e.BETA.INV=function(e,t,n,a,u){return a=void 0===a?0:a,u=void 0===u?1:u,e=o.parseNumber(e),t=o.parseNumber(t),n=o.parseNumber(n),a=o.parseNumber(a),u=o.parseNumber(u),o.anyIsError(e,t,n,a,u)?i.value:r.beta.inv(e,t,n)*(u-a)+a},e.BINOM={},e.BINOM.DIST=function(e,t,n,a){return e=o.parseNumber(e),t=o.parseNumber(t),n=o.parseNumber(n),a=o.parseNumber(a),o.anyIsError(e,t,n,a)?i.value:a?r.binomial.cdf(e,t,n):r.binomial.pdf(e,t,n)},e.BINOM.DIST.RANGE=function(e,n,r,a){if(a=void 0===a?r:a,e=o.parseNumber(e),n=o.parseNumber(n),r=o.parseNumber(r),a=o.parseNumber(a),o.anyIsError(e,n,r,a))return i.value;for(var u=0,s=r;s<=a;s++)u+=t.COMBIN(e,s)*Math.pow(n,s)*Math.pow(1-n,e-s);return u},e.BINOM.INV=function(e,t,n){if(e=o.parseNumber(e),t=o.parseNumber(t),n=o.parseNumber(n),o.anyIsError(e,t,n))return i.value;for(var a=0;a<=e;){if(r.binomial.cdf(a,e,t)>=n)return a;a++}},e.CHISQ={},e.CHISQ.DIST=function(e,t,n){return e=o.parseNumber(e),t=o.parseNumber(t),o.anyIsError(e,t)?i.value:n?r.chisquare.cdf(e,t):r.chisquare.pdf(e,t)},e.CHISQ.DIST.RT=function(e,t){return!e|!t?i.na:e<1||t>Math.pow(10,10)?i.num:"number"!=typeof e||"number"!=typeof t?i.value:1-r.chisquare.cdf(e,t)},e.CHISQ.INV=function(e,t){return e=o.parseNumber(e),t=o.parseNumber(t),o.anyIsError(e,t)?i.value:r.chisquare.inv(e,t)},e.CHISQ.INV.RT=function(e,t){return!e|!t?i.na:e<0||e>1||t<1||t>Math.pow(10,10)?i.num:"number"!=typeof e||"number"!=typeof t?i.value:r.chisquare.inv(1-e,t)},e.CHISQ.TEST=function(e,t){if(2!==arguments.length)return i.na;if(!(e instanceof Array&&t instanceof Array))return i.value;if(e.length!==t.length)return i.value;if(e[0]&&t[0]&&e[0].length!==t[0].length)return i.value;var n,r,o,a=e.length;for(r=0;r<a;r++)e[r]instanceof Array||(n=e[r],e[r]=[],e[r].push(n)),t[r]instanceof Array||(n=t[r],t[r]=[],t[r].push(n));var u=e[0].length,s=1===u?a-1:(a-1)*(u-1),l=0,c=Math.PI;for(r=0;r<a;r++)for(o=0;o<u;o++)l+=Math.pow(e[r][o]-t[r][o],2)/t[r][o];return Math.round(1e6*function(e,t){var n=Math.exp(-.5*e);t%2==1&&(n*=Math.sqrt(2*e/c));for(var r=t;r>=2;)n=n*e/r,r-=2;for(var o=n,a=t;o>1e-10*n;)n+=o=o*e/(a+=2);return 1-n}(l,s))/1e6},e.COLUMN=function(e,t){return 2!==arguments.length?i.na:t<0?i.num:e instanceof Array&&"number"==typeof t?0!==e.length?r.col(e,t):void 0:i.value},e.COLUMNS=function(e){return 1!==arguments.length?i.na:e instanceof Array?0===e.length?0:r.cols(e):i.value},e.CONFIDENCE={},e.CONFIDENCE.NORM=function(e,t,n){return e=o.parseNumber(e),t=o.parseNumber(t),n=o.parseNumber(n),o.anyIsError(e,t,n)?i.value:r.normalci(1,e,t,n)[1]-1},e.CONFIDENCE.T=function(e,t,n){return e=o.parseNumber(e),t=o.parseNumber(t),n=o.parseNumber(n),o.anyIsError(e,t,n)?i.value:r.tci(1,e,t,n)[1]-1},e.CORREL=function(e,t){return e=o.parseNumberArray(o.flatten(e)),t=o.parseNumberArray(o.flatten(t)),o.anyIsError(e,t)?i.value:r.corrcoeff(e,t)},e.COUNT=function(){return o.numbers(o.flatten(arguments)).length},e.COUNTA=function(){var t=o.flatten(arguments);return t.length-e.COUNTBLANK(t)},e.COUNTIN=function(e,t){var n=0;e=o.flatten(e);for(var r=0;r<e.length;r++)e[r]===t&&n++;return n},e.COUNTBLANK=function(){for(var e,t=o.flatten(arguments),n=0,r=0;r<t.length;r++)null!==(e=t[r])&&""!==e||n++;return n},e.COUNTIF=function(e,t){if(e=o.flatten(e),void 0===t||"*"===t)return e.length;for(var n=0,r=a.parse(t+""),i=0;i<e.length;i++){var u=e[i],s=[a.createToken(u,a.TOKEN_TYPE_LITERAL)].concat(r);a.compute(s)&&n++}return n},e.COUNTIFS=function(){for(var e=o.argsToArray(arguments),t=new Array(o.flatten(e[0]).length),n=0;n<t.length;n++)t[n]=!0;for(n=0;n<e.length;n+=2){var r=o.flatten(e[n]),i=e[n+1];if(!(void 0===i||"*"===i))for(var u=a.parse(i+""),s=0;s<r.length;s++){var l=r[s],c=[a.createToken(l,a.TOKEN_TYPE_LITERAL)].concat(u);t[s]=t[s]&&a.compute(c)}}var f=0;for(n=0;n<t.length;n++)t[n]&&f++;return f},e.COUNTUNIQUE=function(){return u.UNIQUE.apply(null,o.flatten(arguments)).length},e.COVARIANCE={},e.COVARIANCE.P=function(e,t){if(e=o.parseNumberArray(o.flatten(e)),t=o.parseNumberArray(o.flatten(t)),o.anyIsError(e,t))return i.value;for(var n=r.mean(e),a=r.mean(t),u=0,s=e.length,l=0;l<s;l++)u+=(e[l]-n)*(t[l]-a);return u/s},e.COVARIANCE.S=function(e,t){return e=o.parseNumberArray(o.flatten(e)),t=o.parseNumberArray(o.flatten(t)),o.anyIsError(e,t)?i.value:r.covariance(e,t)},e.DEVSQ=function(){var e=o.parseNumberArray(o.flatten(arguments));if(e instanceof Error)return e;for(var t=r.mean(e),n=0,a=0;a<e.length;a++)n+=Math.pow(e[a]-t,2);return n},e.EXPON={},e.EXPON.DIST=function(e,t,n){return e=o.parseNumber(e),t=o.parseNumber(t),o.anyIsError(e,t)?i.value:n?r.exponential.cdf(e,t):r.exponential.pdf(e,t)},e.F={},e.F.DIST=function(e,t,n,a){return e=o.parseNumber(e),t=o.parseNumber(t),n=o.parseNumber(n),o.anyIsError(e,t,n)?i.value:a?r.centralF.cdf(e,t,n):r.centralF.pdf(e,t,n)},e.F.DIST.RT=function(e,t,n){return 3!==arguments.length?i.na:e<0||t<1||n<1?i.num:"number"!=typeof e||"number"!=typeof t||"number"!=typeof n?i.value:1-r.centralF.cdf(e,t,n)},e.F.INV=function(e,t,n){return e=o.parseNumber(e),t=o.parseNumber(t),n=o.parseNumber(n),o.anyIsError(e,t,n)?i.value:e<=0||e>1?i.num:r.centralF.inv(e,t,n)},e.F.INV.RT=function(e,t,n){return 3!==arguments.length?i.na:e<0||e>1||t<1||t>Math.pow(10,10)||n<1||n>Math.pow(10,10)?i.num:"number"!=typeof e||"number"!=typeof t||"number"!=typeof n?i.value:r.centralF.inv(1-e,t,n)},e.F.TEST=function(e,n){if(!e||!n)return i.na;if(!(e instanceof Array&&n instanceof Array))return i.na;if(e.length<2||n.length<2)return i.div0;var r=function(e,t){for(var n=0,r=0;r<e.length;r++)n+=Math.pow(e[r]-t,2);return n},o=t.SUM(e)/e.length,a=t.SUM(n)/n.length;return r(e,o)/(e.length-1)/(r(n,a)/(n.length-1))},e.FISHER=function(e){return(e=o.parseNumber(e))instanceof Error?e:Math.log((1+e)/(1-e))/2},e.FISHERINV=function(e){if((e=o.parseNumber(e))instanceof Error)return e;var t=Math.exp(2*e);return(t-1)/(t+1)},e.FORECAST=function(e,t,n){if(e=o.parseNumber(e),t=o.parseNumberArray(o.flatten(t)),n=o.parseNumberArray(o.flatten(n)),o.anyIsError(e,t,n))return i.value;for(var a=r.mean(n),u=r.mean(t),s=n.length,l=0,c=0,f=0;f<s;f++)l+=(n[f]-a)*(t[f]-u),c+=Math.pow(n[f]-a,2);var d=l/c;return u-d*a+d*e},e.FREQUENCY=function(e,t){if(e=o.parseNumberArray(o.flatten(e)),t=o.parseNumberArray(o.flatten(t)),o.anyIsError(e,t))return i.value;for(var n=e.length,r=t.length,a=[],u=0;u<=r;u++){a[u]=0;for(var s=0;s<n;s++)0===u?e[s]<=t[0]&&(a[0]+=1):u<r?e[s]>t[u-1]&&e[s]<=t[u]&&(a[u]+=1):u===r&&e[s]>t[r-1]&&(a[r]+=1)}return a},e.GAMMA=function(e){return(e=o.parseNumber(e))instanceof Error?e:0===e||parseInt(e,10)===e&&e<0?i.num:r.gammafn(e)},e.GAMMA.DIST=function(e,t,n,o){return 4!==arguments.length?i.na:e<0||t<=0||n<=0||"number"!=typeof e||"number"!=typeof t||"number"!=typeof n?i.value:o?r.gamma.cdf(e,t,n,!0):r.gamma.pdf(e,t,n,!1)},e.GAMMA.INV=function(e,t,n){return 3!==arguments.length?i.na:e<0||e>1||t<=0||n<=0?i.num:"number"!=typeof e||"number"!=typeof t||"number"!=typeof n?i.value:r.gamma.inv(e,t,n)},e.GAMMALN=function(e){return(e=o.parseNumber(e))instanceof Error?e:r.gammaln(e)},e.GAMMALN.PRECISE=function(e){return 1!==arguments.length?i.na:e<=0?i.num:"number"!=typeof e?i.value:r.gammaln(e)},e.GAUSS=function(e){return(e=o.parseNumber(e))instanceof Error?e:r.normal.cdf(e,0,1)-.5},e.GEOMEAN=function(){var e=o.parseNumberArray(o.flatten(arguments));return e instanceof Error?e:r.geomean(e)},e.GROWTH=function(e,t,n,r){if((e=o.parseNumberArray(e))instanceof Error)return e;var a;if(void 0===t)for(t=[],a=1;a<=e.length;a++)t.push(a);if(void 0===n)for(n=[],a=1;a<=e.length;a++)n.push(a);if(t=o.parseNumberArray(t),n=o.parseNumberArray(n),o.anyIsError(t,n))return i.value;void 0===r&&(r=!0);var u,s,l=e.length,c=0,f=0,d=0,h=0;for(a=0;a<l;a++){var p=t[a],m=Math.log(e[a]);c+=p,f+=m,d+=p*m,h+=p*p}c/=l,f/=l,d/=l,h/=l,r?s=f-(u=(d-c*f)/(h-c*c))*c:(u=d/h,s=0);var g=[];for(a=0;a<n.length;a++)g.push(Math.exp(s+u*n[a]));return g},e.HARMEAN=function(){var e=o.parseNumberArray(o.flatten(arguments));if(e instanceof Error)return e;for(var t=e.length,n=0,r=0;r<t;r++)n+=1/e[r];return t/n},e.HYPGEOM={},e.HYPGEOM.DIST=function(e,n,r,a,u){if(e=o.parseNumber(e),n=o.parseNumber(n),r=o.parseNumber(r),a=o.parseNumber(a),o.anyIsError(e,n,r,a))return i.value;function s(e,n,r,o){return t.COMBIN(r,e)*t.COMBIN(o-r,n-e)/t.COMBIN(o,n)}return u?function(e,t,n,r){for(var o=0,a=0;a<=e;a++)o+=s(a,t,n,r);return o}(e,n,r,a):s(e,n,r,a)},e.INTERCEPT=function(t,n){return t=o.parseNumberArray(t),n=o.parseNumberArray(n),o.anyIsError(t,n)?i.value:t.length!==n.length?i.na:e.FORECAST(0,t,n)},e.KURT=function(){var e=o.parseNumberArray(o.flatten(arguments));if(e instanceof Error)return e;for(var t=r.mean(e),n=e.length,a=0,i=0;i<n;i++)a+=Math.pow(e[i]-t,4);return n*(n+1)/((n-1)*(n-2)*(n-3))*(a/=Math.pow(r.stdev(e,!0),4))-3*(n-1)*(n-1)/((n-2)*(n-3))},e.LARGE=function(e,t){return e=o.parseNumberArray(o.flatten(e)),t=o.parseNumber(t),o.anyIsError(e,t)?e:e.sort((function(e,t){return t-e}))[t-1]},e.LINEST=function(e,t){if(e=o.parseNumberArray(o.flatten(e)),t=o.parseNumberArray(o.flatten(t)),o.anyIsError(e,t))return i.value;for(var n=r.mean(e),a=r.mean(t),u=t.length,s=0,l=0,c=0;c<u;c++)s+=(t[c]-a)*(e[c]-n),l+=Math.pow(t[c]-a,2);var f=s/l;return[f,n-f*a]},e.LOGEST=function(t,n){if(t=o.parseNumberArray(o.flatten(t)),n=o.parseNumberArray(o.flatten(n)),o.anyIsError(t,n))return i.value;for(var r=0;r<t.length;r++)t[r]=Math.log(t[r]);var a=e.LINEST(t,n);return a[0]=Math.round(1e6*Math.exp(a[0]))/1e6,a[1]=Math.round(1e6*Math.exp(a[1]))/1e6,a},e.LOGNORM={},e.LOGNORM.DIST=function(e,t,n,a){return e=o.parseNumber(e),t=o.parseNumber(t),n=o.parseNumber(n),o.anyIsError(e,t,n)?i.value:a?r.lognormal.cdf(e,t,n):r.lognormal.pdf(e,t,n)},e.LOGNORM.INV=function(e,t,n){return e=o.parseNumber(e),t=o.parseNumber(t),n=o.parseNumber(n),o.anyIsError(e,t,n)?i.value:r.lognormal.inv(e,t,n)},e.MAX=function(){var e=o.numbers(o.flatten(arguments));return 0===e.length?0:Math.max.apply(Math,e)},e.MAXA=function(){var e=o.arrayValuesToNumbers(o.flatten(arguments));return 0===e.length?0:Math.max.apply(Math,e)},e.MEDIAN=function(){var e=o.arrayValuesToNumbers(o.flatten(arguments)),t=r.median(e);return isNaN(t)&&(t=i.num),t},e.MIN=function(){var e=o.numbers(o.flatten(arguments));return 0===e.length?0:Math.min.apply(Math,e)},e.MINA=function(){var e=o.arrayValuesToNumbers(o.flatten(arguments));return 0===e.length?0:Math.min.apply(Math,e)},e.MODE={},e.MODE.MULT=function(){var e=o.parseNumberArray(o.flatten(arguments));if(e instanceof Error)return e;for(var t,n=e.length,r={},a=[],i=0,u=0;u<n;u++)r[t=e[u]]=r[t]?r[t]+1:1,r[t]>i&&(i=r[t],a=[]),r[t]===i&&(a[a.length]=t);return a},e.MODE.SNGL=function(){var t=o.parseNumberArray(o.flatten(arguments));return t instanceof Error?t:e.MODE.MULT(t).sort((function(e,t){return e-t}))[0]},e.NEGBINOM={},e.NEGBINOM.DIST=function(e,t,n,a){return e=o.parseNumber(e),t=o.parseNumber(t),n=o.parseNumber(n),o.anyIsError(e,t,n)?i.value:a?r.negbin.cdf(e,t,n):r.negbin.pdf(e,t,n)},e.NORM={},e.NORM.DIST=function(e,t,n,a){return e=o.parseNumber(e),t=o.parseNumber(t),n=o.parseNumber(n),o.anyIsError(e,t,n)?i.value:n<=0?i.num:a?r.normal.cdf(e,t,n):r.normal.pdf(e,t,n)},e.NORM.INV=function(e,t,n){return e=o.parseNumber(e),t=o.parseNumber(t),n=o.parseNumber(n),o.anyIsError(e,t,n)?i.value:r.normal.inv(e,t,n)},e.NORM.S={},e.NORM.S.DIST=function(e,t){return(e=o.parseNumber(e))instanceof Error?i.value:t?r.normal.cdf(e,0,1):r.normal.pdf(e,0,1)},e.NORM.S.INV=function(e){return(e=o.parseNumber(e))instanceof Error?i.value:r.normal.inv(e,0,1)},e.PEARSON=function(e,t){if(t=o.parseNumberArray(o.flatten(t)),e=o.parseNumberArray(o.flatten(e)),o.anyIsError(t,e))return i.value;for(var n=r.mean(e),a=r.mean(t),u=e.length,s=0,l=0,c=0,f=0;f<u;f++)s+=(e[f]-n)*(t[f]-a),l+=Math.pow(e[f]-n,2),c+=Math.pow(t[f]-a,2);return s/Math.sqrt(l*c)},e.PERCENTILE={},e.PERCENTILE.EXC=function(e,t){if(e=o.parseNumberArray(o.flatten(e)),t=o.parseNumber(t),o.anyIsError(e,t))return i.value;var n=(e=e.sort((function(e,t){return e-t}))).length;if(t<1/(n+1)||t>1-1/(n+1))return i.num;var r=t*(n+1)-1,a=Math.floor(r);return o.cleanFloat(r===a?e[r]:e[a]+(r-a)*(e[a+1]-e[a]))},e.PERCENTILE.INC=function(e,t){if(e=o.parseNumberArray(o.flatten(e)),t=o.parseNumber(t),o.anyIsError(e,t))return i.value;var n=t*((e=e.sort((function(e,t){return e-t}))).length-1),r=Math.floor(n);return o.cleanFloat(n===r?e[n]:e[r]+(n-r)*(e[r+1]-e[r]))},e.PERCENTRANK={},e.PERCENTRANK.EXC=function(e,t,n){if(n=void 0===n?3:n,e=o.parseNumberArray(o.flatten(e)),t=o.parseNumber(t),n=o.parseNumber(n),o.anyIsError(e,t,n))return i.value;e=e.sort((function(e,t){return e-t}));for(var r=u.UNIQUE.apply(null,e),a=e.length,s=r.length,l=Math.pow(10,n),c=0,f=!1,d=0;!f&&d<s;)t===r[d]?(c=(e.indexOf(r[d])+1)/(a+1),f=!0):t>=r[d]&&(t<r[d+1]||d===s-1)&&(c=(e.indexOf(r[d])+1+(t-r[d])/(r[d+1]-r[d]))/(a+1),f=!0),d++;return Math.floor(c*l)/l},e.PERCENTRANK.INC=function(e,t,n){if(n=void 0===n?3:n,e=o.parseNumberArray(o.flatten(e)),t=o.parseNumber(t),n=o.parseNumber(n),o.anyIsError(e,t,n))return i.value;e=e.sort((function(e,t){return e-t}));for(var r=u.UNIQUE.apply(null,e),a=e.length,s=r.length,l=Math.pow(10,n),c=0,f=!1,d=0;!f&&d<s;)t===r[d]?(c=e.indexOf(r[d])/(a-1),f=!0):t>=r[d]&&(t<r[d+1]||d===s-1)&&(c=(e.indexOf(r[d])+(t-r[d])/(r[d+1]-r[d]))/(a-1),f=!0),d++;return Math.floor(c*l)/l},e.PERMUT=function(e,n){return e=o.parseNumber(e),n=o.parseNumber(n),o.anyIsError(e,n)?i.value:t.FACT(e)/t.FACT(e-n)},e.PERMUTATIONA=function(e,t){return e=o.parseNumber(e),t=o.parseNumber(t),o.anyIsError(e,t)?i.value:Math.pow(e,t)},e.PHI=function(e){return(e=o.parseNumber(e))instanceof Error?i.value:Math.exp(-.5*e*e)/2.5066282746310002},e.POISSON={},e.POISSON.DIST=function(e,t,n){return e=o.parseNumber(e),t=o.parseNumber(t),o.anyIsError(e,t)?i.value:n?r.poisson.cdf(e,t):r.poisson.pdf(e,t)},e.PROB=function(e,t,n,r){if(void 0===n)return 0;if(r=void 0===r?n:r,e=o.parseNumberArray(o.flatten(e)),t=o.parseNumberArray(o.flatten(t)),n=o.parseNumber(n),r=o.parseNumber(r),o.anyIsError(e,t,n,r))return i.value;if(n===r)return e.indexOf(n)>=0?t[e.indexOf(n)]:0;for(var a=e.sort((function(e,t){return e-t})),u=a.length,s=0,l=0;l<u;l++)a[l]>=n&&a[l]<=r&&(s+=t[e.indexOf(a[l])]);return s},e.QUARTILE={},e.QUARTILE.EXC=function(t,n){if(t=o.parseNumberArray(o.flatten(t)),n=o.parseNumber(n),o.anyIsError(t,n))return i.value;switch(n){case 1:return e.PERCENTILE.EXC(t,.25);case 2:return e.PERCENTILE.EXC(t,.5);case 3:return e.PERCENTILE.EXC(t,.75);default:return i.num}},e.QUARTILE.INC=function(t,n){if(t=o.parseNumberArray(o.flatten(t)),n=o.parseNumber(n),o.anyIsError(t,n))return i.value;switch(n){case 1:return e.PERCENTILE.INC(t,.25);case 2:return e.PERCENTILE.INC(t,.5);case 3:return e.PERCENTILE.INC(t,.75);default:return i.num}},e.RANK={},e.RANK.AVG=function(e,t,n){if(e=o.parseNumber(e),t=o.parseNumberArray(o.flatten(t)),o.anyIsError(e,t))return i.value;for(var r=(n=n||!1)?function(e,t){return e-t}:function(e,t){return t-e},a=(t=(t=o.flatten(t)).sort(r)).length,u=0,s=0;s<a;s++)t[s]===e&&u++;return u>1?(2*t.indexOf(e)+u+1)/2:t.indexOf(e)+1},e.RANK.EQ=function(e,t,n){if(e=o.parseNumber(e),t=o.parseNumberArray(o.flatten(t)),o.anyIsError(e,t))return i.value;var r=(n=n||!1)?function(e,t){return e-t}:function(e,t){return t-e};return(t=t.sort(r)).indexOf(e)+1},e.ROW=function(e,t){return 2!==arguments.length?i.na:t<0?i.num:e instanceof Array&&"number"==typeof t?0!==e.length?r.row(e,t):void 0:i.value},e.ROWS=function(e){return 1!==arguments.length?i.na:e instanceof Array?0===e.length?0:r.rows(e):i.value},e.RSQ=function(t,n){return t=o.parseNumberArray(o.flatten(t)),n=o.parseNumberArray(o.flatten(n)),o.anyIsError(t,n)?i.value:Math.pow(e.PEARSON(t,n),2)},e.SKEW=function(){var e=o.parseNumberArray(o.flatten(arguments));if(e instanceof Error)return e;for(var t=r.mean(e),n=e.length,a=0,i=0;i<n;i++)a+=Math.pow(e[i]-t,3);return n*a/((n-1)*(n-2)*Math.pow(r.stdev(e,!0),3))},e.SKEW.P=function(){var e=o.parseNumberArray(o.flatten(arguments));if(e instanceof Error)return e;for(var t=r.mean(e),n=e.length,a=0,i=0,u=0;u<n;u++)i+=Math.pow(e[u]-t,3),a+=Math.pow(e[u]-t,2);return a/=n,(i/=n)/Math.pow(a,1.5)},e.SLOPE=function(e,t){if(e=o.parseNumberArray(o.flatten(e)),t=o.parseNumberArray(o.flatten(t)),o.anyIsError(e,t))return i.value;for(var n=r.mean(t),a=r.mean(e),u=t.length,s=0,l=0,c=0;c<u;c++)s+=(t[c]-n)*(e[c]-a),l+=Math.pow(t[c]-n,2);return s/l},e.SMALL=function(e,t){return e=o.parseNumberArray(o.flatten(e)),t=o.parseNumber(t),o.anyIsError(e,t)?e:e.sort((function(e,t){return e-t}))[t-1]},e.STANDARDIZE=function(e,t,n){return e=o.parseNumber(e),t=o.parseNumber(t),n=o.parseNumber(n),o.anyIsError(e,t,n)?i.value:(e-t)/n},e.STDEV={},e.STDEV.P=function(){var t=e.VAR.P.apply(this,arguments),n=Math.sqrt(t);return isNaN(n)&&(n=i.num),n},e.STDEV.S=function(){var t=e.VAR.S.apply(this,arguments);return Math.sqrt(t)},e.STDEVA=function(){var t=e.VARA.apply(this,arguments);return Math.sqrt(t)},e.STDEVPA=function(){var t=e.VARPA.apply(this,arguments),n=Math.sqrt(t);return isNaN(n)&&(n=i.num),n},e.STEYX=function(e,t){if(e=o.parseNumberArray(o.flatten(e)),t=o.parseNumberArray(o.flatten(t)),o.anyIsError(e,t))return i.value;for(var n=r.mean(t),a=r.mean(e),u=t.length,s=0,l=0,c=0,f=0;f<u;f++)s+=Math.pow(e[f]-a,2),l+=(t[f]-n)*(e[f]-a),c+=Math.pow(t[f]-n,2);return Math.sqrt((s-l*l/c)/(u-2))},e.TRANSPOSE=function(e){return e?r.transpose(e):i.na},e.T=n.T,e.T.DIST=function(e,t,n){return e=o.parseNumber(e),t=o.parseNumber(t),o.anyIsError(e,t)?i.value:n?r.studentt.cdf(e,t):r.studentt.pdf(e,t)},e.T.DIST["2T"]=function(e,t){return 2!==arguments.length?i.na:e<0||t<1?i.num:"number"!=typeof e||"number"!=typeof t?i.value:2*(1-r.studentt.cdf(e,t))},e.T.DIST.RT=function(e,t){return 2!==arguments.length?i.na:e<0||t<1?i.num:"number"!=typeof e||"number"!=typeof t?i.value:1-r.studentt.cdf(e,t)},e.T.INV=function(e,t){return e=o.parseNumber(e),t=o.parseNumber(t),o.anyIsError(e,t)?i.value:r.studentt.inv(e,t)},e.T.INV["2T"]=function(e,t){return e=o.parseNumber(e),t=o.parseNumber(t),e<=0||e>1||t<1?i.num:o.anyIsError(e,t)?i.value:Math.abs(r.studentt.inv(e/2,t))},e.T.TEST=function(t,n){if(t=o.parseNumberArray(o.flatten(t)),n=o.parseNumberArray(o.flatten(n)),o.anyIsError(t,n))return i.value;var a,u=r.mean(t),s=r.mean(n),l=0,c=0;for(a=0;a<t.length;a++)l+=Math.pow(t[a]-u,2);for(a=0;a<n.length;a++)c+=Math.pow(n[a]-s,2);l/=t.length-1,c/=n.length-1;var f=Math.abs(u-s)/Math.sqrt(l/t.length+c/n.length);return e.T.DIST["2T"](f,t.length+n.length-2)},e.TREND=function(t,n,r){if(t=o.parseNumberArray(o.flatten(t)),n=o.parseNumberArray(o.flatten(n)),r=o.parseNumberArray(o.flatten(r)),o.anyIsError(t,n,r))return i.value;var a=e.LINEST(t,n),u=a[0],s=a[1],l=[];return r.forEach((function(e){l.push(u*e+s)})),l},e.TRIMMEAN=function(e,n){if(e=o.parseNumberArray(o.flatten(e)),n=o.parseNumber(n),o.anyIsError(e,n))return i.value;var a=t.FLOOR(e.length*n,2)/2;return r.mean(o.initial(o.rest(e.sort((function(e,t){return e-t})),a),a))},e.VAR={},e.VAR.P=function(){for(var t,n=o.numbers(o.flatten(arguments)),r=n.length,a=0,u=e.AVERAGE(n),s=0;s<r;s++)a+=Math.pow(n[s]-u,2);return t=a/r,isNaN(t)&&(t=i.num),t},e.VAR.S=function(){for(var t=o.numbers(o.flatten(arguments)),n=t.length,r=0,a=e.AVERAGE(t),i=0;i<n;i++)r+=Math.pow(t[i]-a,2);return r/(n-1)},e.VARA=function(){for(var t=o.flatten(arguments),n=t.length,r=0,a=0,i=e.AVERAGEA(t),u=0;u<n;u++){var s=t[u];r+="number"==typeof s?Math.pow(s-i,2):!0===s?Math.pow(1-i,2):Math.pow(0-i,2),null!==s&&a++}return r/(a-1)},e.VARPA=function(){for(var t,n=o.flatten(arguments),r=n.length,a=0,u=0,s=e.AVERAGEA(n),l=0;l<r;l++){var c=n[l];a+="number"==typeof c?Math.pow(c-s,2):!0===c?Math.pow(1-s,2):Math.pow(0-s,2),null!==c&&u++}return t=a/u,isNaN(t)&&(t=i.num),t},e.WEIBULL={},e.WEIBULL.DIST=function(e,t,n,r){return e=o.parseNumber(e),t=o.parseNumber(t),n=o.parseNumber(n),o.anyIsError(e,t,n)?i.value:r?1-Math.exp(-Math.pow(e/n,t)):Math.pow(e,t-1)*Math.exp(-Math.pow(e/n,t))*t/Math.pow(n,t)},e.Z={},e.Z.TEST=function(t,n,r){if(t=o.parseNumberArray(o.flatten(t)),n=o.parseNumber(n),o.anyIsError(t,n))return i.value;r=r||e.STDEV.S(t);var a=t.length;return 1-e.NORM.S.DIST((e.AVERAGE(t)-n)/(r/Math.sqrt(a)),!0)}}(Wd);var lh={};!function(e){var t=Xd;e.CELL=function(){throw new Error("CELL is not implemented")},e.ERROR={},e.ERROR.TYPE=function(e){switch(e){case t.nil:return 1;case t.div0:return 2;case t.value:return 3;case t.ref:return 4;case t.name:return 5;case t.num:return 6;case t.na:return 7;case t.data:return 8}return t.na},e.INFO=function(){throw new Error("INFO is not implemented")},e.ISBLANK=function(e){return null===e},e.ISBINARY=function(e){return/^[01]{1,10}$/.test(e)},e.ISERR=function(e){return[t.value,t.ref,t.div0,t.num,t.name,t.nil].indexOf(e)>=0||"number"==typeof e&&(isNaN(e)||!isFinite(e))},e.ISERROR=function(n){return e.ISERR(n)||n===t.na},e.ISEVEN=function(e){return!(1&Math.floor(Math.abs(e)))},e.ISFORMULA=function(){throw new Error("ISFORMULA is not implemented")},e.ISLOGICAL=function(e){return!0===e||!1===e},e.ISNA=function(e){return e===t.na},e.ISNONTEXT=function(e){return"string"!=typeof e},e.ISNUMBER=function(e){return"number"==typeof e&&!isNaN(e)&&isFinite(e)},e.ISODD=function(e){return!!(1&Math.floor(Math.abs(e)))},e.ISREF=function(){throw new Error("ISREF is not implemented")},e.ISTEXT=function(e){return"string"==typeof e},e.N=function(e){return this.ISNUMBER(e)?e:e instanceof Date?e.getTime():!0===e?1:!1===e?0:this.ISERROR(e)?e:0},e.NA=function(){return t.na},e.SHEET=function(){throw new Error("SHEET is not implemented")},e.SHEETS=function(){throw new Error("SHEETS is not implemented")},e.TYPE=function(e){return this.ISNUMBER(e)?1:this.ISTEXT(e)?2:this.ISLOGICAL(e)?4:this.ISERROR(e)?16:Array.isArray(e)?64:void 0}}(lh),function(e){var t=Gd,n=Xd,r=Wd,o=lh,a=Jd;e.ABS=function(e){return(e=t.parseNumber(e))instanceof Error?e:Math.abs(e)},e.ACOS=function(e){if((e=t.parseNumber(e))instanceof Error)return e;var r=Math.acos(e);return isNaN(r)&&(r=n.num),r},e.ACOSH=function(e){if((e=t.parseNumber(e))instanceof Error)return e;var r=Math.log(e+Math.sqrt(e*e-1));return isNaN(r)&&(r=n.num),r},e.ACOT=function(e){return(e=t.parseNumber(e))instanceof Error?e:Math.atan(1/e)},e.ACOTH=function(e){if((e=t.parseNumber(e))instanceof Error)return e;var r=.5*Math.log((e+1)/(e-1));return isNaN(r)&&(r=n.num),r},e.AGGREGATE=function(o,a,i,u){if(o=t.parseNumber(o),a=t.parseNumber(o),t.anyIsError(o,a))return n.value;switch(o){case 1:return r.AVERAGE(i);case 2:return r.COUNT(i);case 3:return r.COUNTA(i);case 4:return r.MAX(i);case 5:return r.MIN(i);case 6:return e.PRODUCT(i);case 7:return r.STDEV.S(i);case 8:return r.STDEV.P(i);case 9:return e.SUM(i);case 10:return r.VAR.S(i);case 11:return r.VAR.P(i);case 12:return r.MEDIAN(i);case 13:return r.MODE.SNGL(i);case 14:return r.LARGE(i,u);case 15:return r.SMALL(i,u);case 16:return r.PERCENTILE.INC(i,u);case 17:return r.QUARTILE.INC(i,u);case 18:return r.PERCENTILE.EXC(i,u);case 19:return r.QUARTILE.EXC(i,u)}},e.ARABIC=function(e){if(!/^M*(?:D?C{0,3}|C[MD])(?:L?X{0,3}|X[CL])(?:V?I{0,3}|I[XV])$/.test(e))return n.value;var t=0;return e.replace(/[MDLV]|C[MD]?|X[CL]?|I[XV]?/g,(function(e){t+={M:1e3,CM:900,D:500,CD:400,C:100,XC:90,L:50,XL:40,X:10,IX:9,V:5,IV:4,I:1}[e]})),t},e.ASIN=function(e){if((e=t.parseNumber(e))instanceof Error)return e;var r=Math.asin(e);return isNaN(r)&&(r=n.num),r},e.ASINH=function(e){return(e=t.parseNumber(e))instanceof Error?e:Math.log(e+Math.sqrt(e*e+1))},e.ATAN=function(e){return(e=t.parseNumber(e))instanceof Error?e:Math.atan(e)},e.ATAN2=function(e,r){return e=t.parseNumber(e),r=t.parseNumber(r),t.anyIsError(e,r)?n.value:Math.atan2(e,r)},e.ATANH=function(e){if((e=t.parseNumber(e))instanceof Error)return e;var r=Math.log((1+e)/(1-e))/2;return isNaN(r)&&(r=n.num),r},e.BASE=function(e,r,o){if(o=o||0,e=t.parseNumber(e),r=t.parseNumber(r),o=t.parseNumber(o),t.anyIsError(e,r,o))return n.value;o=void 0===o?0:o;var a=e.toString(r);return new Array(Math.max(o+1-a.length,0)).join("0")+a},e.CEILING=function(r,o,a){if(o=void 0===o?1:Math.abs(o),a=a||0,r=t.parseNumber(r),o=t.parseNumber(o),a=t.parseNumber(a),t.anyIsError(r,o,a))return n.value;if(0===o)return 0;var i=-Math.floor(Math.log(o)/Math.log(10));return r>=0?e.ROUND(Math.ceil(r/o)*o,i):0===a?-e.ROUND(Math.floor(Math.abs(r)/o)*o,i):-e.ROUND(Math.ceil(Math.abs(r)/o)*o,i)},e.CEILING.MATH=e.CEILING,e.CEILING.PRECISE=e.CEILING,e.COMBIN=function(r,o){return r=t.parseNumber(r),o=t.parseNumber(o),t.anyIsError(r,o)?n.value:e.FACT(r)/(e.FACT(o)*e.FACT(r-o))},e.COMBINA=function(r,o){return r=t.parseNumber(r),o=t.parseNumber(o),t.anyIsError(r,o)?n.value:0===r&&0===o?1:e.COMBIN(r+o-1,r-1)},e.COS=function(e){return(e=t.parseNumber(e))instanceof Error?e:Math.cos(e)},e.COSH=function(e){return(e=t.parseNumber(e))instanceof Error?e:(Math.exp(e)+Math.exp(-e))/2},e.COT=function(e){return(e=t.parseNumber(e))instanceof Error?e:1/Math.tan(e)},e.COTH=function(e){if((e=t.parseNumber(e))instanceof Error)return e;var n=Math.exp(2*e);return(n+1)/(n-1)},e.CSC=function(e){return(e=t.parseNumber(e))instanceof Error?e:1/Math.sin(e)},e.CSCH=function(e){return(e=t.parseNumber(e))instanceof Error?e:2/(Math.exp(e)-Math.exp(-e))},e.DECIMAL=function(e,t){return arguments.length<1?n.value:parseInt(e,t)},e.DEGREES=function(e){return(e=t.parseNumber(e))instanceof Error?e:180*e/Math.PI},e.EVEN=function(n){return(n=t.parseNumber(n))instanceof Error?n:e.CEILING(n,-2,-1)},e.EXP=function(e){return arguments.length<1?n.na:"number"!=typeof e||arguments.length>1?n.error:e=Math.exp(e)};var i=[];e.FACT=function(n){if((n=t.parseNumber(n))instanceof Error)return n;var r=Math.floor(n);return 0===r||1===r?1:(i[r]>0||(i[r]=e.FACT(r-1)*r),i[r])},e.FACTDOUBLE=function(n){if((n=t.parseNumber(n))instanceof Error)return n;var r=Math.floor(n);return r<=0?1:r*e.FACTDOUBLE(r-2)},e.FLOOR=function(r,o){if(r=t.parseNumber(r),o=t.parseNumber(o),t.anyIsError(r,o))return n.value;if(0===o)return 0;if(!(r>0&&o>0||r<0&&o<0))return n.num;o=Math.abs(o);var a=-Math.floor(Math.log(o)/Math.log(10));return r>=0?e.ROUND(Math.floor(r/o)*o,a):-e.ROUND(Math.ceil(Math.abs(r)/o),a)},e.FLOOR.MATH=function(r,o,a){if(o=void 0===o?1:o,a=void 0===a?0:a,r=t.parseNumber(r),o=t.parseNumber(o),a=t.parseNumber(a),t.anyIsError(r,o,a))return n.value;if(0===o)return 0;o=o?Math.abs(o):1;var i=-Math.floor(Math.log(o)/Math.log(10));return r>=0?e.ROUND(Math.floor(r/o)*o,i):0===a||void 0===a?-e.ROUND(Math.ceil(Math.abs(r)/o)*o,i):-e.ROUND(Math.floor(Math.abs(r)/o)*o,i)},e.FLOOR.PRECISE=e.FLOOR.MATH,e.GCD=function(){var e=t.parseNumberArray(t.flatten(arguments));if(e instanceof Error)return e;for(var n=e.length,r=e[0],o=r<0?-r:r,a=1;a<n;a++){for(var i=e[a],u=i<0?-i:i;o&&u;)o>u?o%=u:u%=o;o+=u}return o},e.INT=function(e){return(e=t.parseNumber(e))instanceof Error?e:Math.floor(e)},e.ISO={CEILING:e.CEILING},e.LCM=function(){var e=t.parseNumberArray(t.flatten(arguments));if(e instanceof Error)return e;for(var n,r,o,a,i=1;void 0!==(o=e.pop());)for(;o>1;){if(o%2){for(n=3,r=Math.floor(Math.sqrt(o));n<=r&&o%n;n+=2);a=n<=r?n:o}else a=2;for(o/=a,i*=a,n=e.length;n;e[--n]%a==0&&1==(e[n]/=a)&&e.splice(n,1));}return i},e.LN=function(e){return(e=t.parseNumber(e))instanceof Error?e:Math.log(e)},e.LN10=function(){return Math.log(10)},e.LN2=function(){return Math.log(2)},e.LOG10E=function(){return Math.LOG10E},e.LOG2E=function(){return Math.LOG2E},e.LOG=function(e,r){return e=t.parseNumber(e),r=t.parseNumber(r),t.anyIsError(e,r)?n.value:(r=void 0===r?10:r,Math.log(e)/Math.log(r))},e.LOG10=function(e){return(e=t.parseNumber(e))instanceof Error?e:Math.log(e)/Math.log(10)},e.MOD=function(e,r){if(e=t.parseNumber(e),r=t.parseNumber(r),t.anyIsError(e,r))return n.value;if(0===r)return n.div0;var o=Math.abs(e%r);return r>0?o:-o},e.MROUND=function(e,r){return e=t.parseNumber(e),r=t.parseNumber(r),t.anyIsError(e,r)?n.value:e*r<0?n.num:Math.round(e/r)*r},e.MULTINOMIAL=function(){var n=t.parseNumberArray(t.flatten(arguments));if(n instanceof Error)return n;for(var r=0,o=1,a=0;a<n.length;a++)r+=n[a],o*=e.FACT(n[a]);return e.FACT(r)/o},e.ODD=function(e){if((e=t.parseNumber(e))instanceof Error)return e;var n=Math.ceil(Math.abs(e));return n=1&n?n:n+1,e>0?n:-n},e.PI=function(){return Math.PI},e.E=function(){return Math.E},e.POWER=function(e,r){if(e=t.parseNumber(e),r=t.parseNumber(r),t.anyIsError(e,r))return n.value;var o=Math.pow(e,r);return isNaN(o)?n.num:o},e.PRODUCT=function(){var e=t.parseNumberArray(t.flatten(arguments));if(e instanceof Error)return e;for(var n=1,r=0;r<e.length;r++)n*=e[r];return n},e.QUOTIENT=function(e,r){return e=t.parseNumber(e),r=t.parseNumber(r),t.anyIsError(e,r)?n.value:parseInt(e/r,10)},e.RADIANS=function(e){return(e=t.parseNumber(e))instanceof Error?e:e*Math.PI/180},e.RAND=function(){return Math.random()},e.RANDBETWEEN=function(e,r){return e=t.parseNumber(e),r=t.parseNumber(r),t.anyIsError(e,r)?n.value:e+Math.ceil((r-e+1)*Math.random())-1},e.ROMAN=function(e){if((e=t.parseNumber(e))instanceof Error)return e;for(var n=String(e).split(""),r=["","C","CC","CCC","CD","D","DC","DCC","DCCC","CM","","X","XX","XXX","XL","L","LX","LXX","LXXX","XC","","I","II","III","IV","V","VI","VII","VIII","IX"],o="",a=3;a--;)o=(r[+n.pop()+10*a]||"")+o;return new Array(+n.join("")+1).join("M")+o},e.ROUND=function(e,r){return e=t.parseNumber(e),r=t.parseNumber(r),t.anyIsError(e,r)?n.value:Math.round(e*Math.pow(10,r))/Math.pow(10,r)},e.ROUNDDOWN=function(e,r){return e=t.parseNumber(e),r=t.parseNumber(r),t.anyIsError(e,r)?n.value:(e>0?1:-1)*Math.floor(Math.abs(e)*Math.pow(10,r))/Math.pow(10,r)},e.ROUNDUP=function(e,r){return e=t.parseNumber(e),r=t.parseNumber(r),t.anyIsError(e,r)?n.value:(e>0?1:-1)*Math.ceil(Math.abs(e)*Math.pow(10,r))/Math.pow(10,r)},e.SEC=function(e){return(e=t.parseNumber(e))instanceof Error?e:1/Math.cos(e)},e.SECH=function(e){return(e=t.parseNumber(e))instanceof Error?e:2/(Math.exp(e)+Math.exp(-e))},e.SERIESSUM=function(e,r,o,a){if(e=t.parseNumber(e),r=t.parseNumber(r),o=t.parseNumber(o),a=t.parseNumberArray(a),t.anyIsError(e,r,o,a))return n.value;for(var i=a[0]*Math.pow(e,r),u=1;u<a.length;u++)i+=a[u]*Math.pow(e,r+u*o);return i},e.SIGN=function(e){return(e=t.parseNumber(e))instanceof Error?e:e<0?-1:0===e?0:1},e.SIN=function(e){return(e=t.parseNumber(e))instanceof Error?e:Math.sin(e)},e.SINH=function(e){return(e=t.parseNumber(e))instanceof Error?e:(Math.exp(e)-Math.exp(-e))/2},e.SQRT=function(e){return(e=t.parseNumber(e))instanceof Error?e:e<0?n.num:Math.sqrt(e)},e.SQRTPI=function(e){return(e=t.parseNumber(e))instanceof Error?e:Math.sqrt(e*Math.PI)},e.SQRT1_2=function(){return 1/Math.sqrt(2)},e.SQRT2=function(){return Math.sqrt(2)},e.SUBTOTAL=function(n,o){if((n=t.parseNumber(n))instanceof Error)return n;switch(n){case 1:case 101:return r.AVERAGE(o);case 2:case 102:return r.COUNT(o);case 3:case 103:return r.COUNTA(o);case 4:case 104:return r.MAX(o);case 5:case 105:return r.MIN(o);case 6:case 106:return e.PRODUCT(o);case 7:case 107:return r.STDEV.S(o);case 8:case 108:return r.STDEV.P(o);case 9:case 109:return e.SUM(o);case 10:case 110:return r.VAR.S(o);case 11:case 111:return r.VAR.P(o)}},e.ADD=function(e,r){return 2!==arguments.length?n.na:(e=t.parseNumber(e),r=t.parseNumber(r),t.anyIsError(e,r)?n.value:e+r)},e.MINUS=function(e,r){return 2!==arguments.length?n.na:(e=t.parseNumber(e),r=t.parseNumber(r),t.anyIsError(e,r)?n.value:e-r)},e.DIVIDE=function(e,r){return 2!==arguments.length?n.na:(e=t.parseNumber(e),r=t.parseNumber(r),t.anyIsError(e,r)?n.value:0===r?n.div0:e/r)},e.MULTIPLY=function(e,r){return 2!==arguments.length?n.na:(e=t.parseNumber(e),r=t.parseNumber(r),t.anyIsError(e,r)?n.value:e*r)},e.GTE=function(e,r){return 2!==arguments.length?n.na:(e=t.parseNumber(e),r=t.parseNumber(r),t.anyIsError(e,r)?n.error:e>=r)},e.LT=function(e,r){return 2!==arguments.length?n.na:(e=t.parseNumber(e),r=t.parseNumber(r),t.anyIsError(e,r)?n.error:e<r)},e.LTE=function(e,r){return 2!==arguments.length?n.na:(e=t.parseNumber(e),r=t.parseNumber(r),t.anyIsError(e,r)?n.error:e<=r)},e.EQ=function(e,t){return 2!==arguments.length?n.na:e===t},e.NE=function(e,t){return 2!==arguments.length?n.na:e!==t},e.POW=function(r,o){return 2!==arguments.length?n.na:(r=t.parseNumber(r),o=t.parseNumber(o),t.anyIsError(r,o)?n.error:e.POWER(r,o))},e.SUM=function(){var n=0;return t.arrayEach(t.argsToArray(arguments),(function(t){if("number"==typeof t)n+=t;else if("string"==typeof t){var r=parseFloat(t);!isNaN(r)&&(n+=r)}else Array.isArray(t)&&(n+=e.SUM.apply(null,t))})),n},e.SUMIF=function(e,n){if((e=t.parseNumberArray(t.flatten(e)))instanceof Error)return e;for(var r=0,o=void 0===n||"*"===n,i=o?null:a.parse(n+""),u=0;u<e.length;u++){var s=e[u];if(o)r+=s;else{var l=[a.createToken(s,a.TOKEN_TYPE_LITERAL)].concat(i);r+=a.compute(l)?s:0}}return r},e.SUMIFS=function(){var e=t.argsToArray(arguments),n=t.parseNumberArray(t.flatten(e.shift()));if(n instanceof Error)return n;for(var r=e,o=n.length,i=r.length,u=0,s=0;s<o;s++){for(var l=n[s],c=!1,f=0;f<i;f++){var d=r[f],h=!1;if(void 0===d||"*"===d)h=!0;else{var p=a.parse(d+""),m=[a.createToken(l,a.TOKEN_TYPE_LITERAL)].concat(p);h=a.compute(m)}if(!h){c=!1;break}c=!0}c&&(u+=l)}return u},e.SUMPRODUCT=function(){if(!arguments||0===arguments.length)return n.value;for(var e,r,o,a,i=arguments.length+1,u=0,s=0;s<arguments[0].length;s++)if(arguments[0][s]instanceof Array)for(var l=0;l<arguments[0][s].length;l++){for(e=1,r=1;r<i;r++){if((a=t.parseNumber(arguments[r-1][s][l]))instanceof Error)return a;e*=a}u+=e}else{for(e=1,r=1;r<i;r++){if((o=t.parseNumber(arguments[r-1][s]))instanceof Error)return o;e*=o}u+=e}return u},e.SUMSQ=function(){var e=t.parseNumberArray(t.flatten(arguments));if(e instanceof Error)return e;for(var n=0,r=e.length,a=0;a<r;a++)n+=o.ISNUMBER(e[a])?e[a]*e[a]:0;return n},e.SUMX2MY2=function(e,r){if(e=t.parseNumberArray(t.flatten(e)),r=t.parseNumberArray(t.flatten(r)),t.anyIsError(e,r))return n.value;for(var o=0,a=0;a<e.length;a++)o+=e[a]*e[a]-r[a]*r[a];return o},e.SUMX2PY2=function(e,r){if(e=t.parseNumberArray(t.flatten(e)),r=t.parseNumberArray(t.flatten(r)),t.anyIsError(e,r))return n.value;var o=0;e=t.parseNumberArray(t.flatten(e)),r=t.parseNumberArray(t.flatten(r));for(var a=0;a<e.length;a++)o+=e[a]*e[a]+r[a]*r[a];return o},e.SUMXMY2=function(e,r){if(e=t.parseNumberArray(t.flatten(e)),r=t.parseNumberArray(t.flatten(r)),t.anyIsError(e,r))return n.value;var o=0;e=t.flatten(e),r=t.flatten(r);for(var a=0;a<e.length;a++)o+=Math.pow(e[a]-r[a],2);return o},e.TAN=function(e){return(e=t.parseNumber(e))instanceof Error?e:Math.tan(e)},e.TANH=function(e){if((e=t.parseNumber(e))instanceof Error)return e;var n=Math.exp(2*e);return(n-1)/(n+1)},e.TRUNC=function(e,r){return r=void 0===r?0:r,e=t.parseNumber(e),r=t.parseNumber(r),t.anyIsError(e,r)?n.value:(e>0?1:-1)*Math.floor(Math.abs(e)*Math.pow(10,r))/Math.pow(10,r)}}(zd);var ch={},fh={};!function(e){var t;t=function(e){e.version="1.0.2";var t=Math;function n(e,t){for(var n=0,r=0;n<e.length;++n)r=t*r+e[n];return r}function r(e,t,n,r,o){if(0===t)return n;if(1===t)return r;for(var a=2/e,i=r,u=1;u<t;++u)i=r*u*a+o*n,n=r,r=i;return i}function o(e,t,n,o,a){return function(n,i){if(o){if(0===n)return 1==o?-1/0:1/0;if(n<0)return NaN}return 0===i?e(n):1===i?t(n):i<0?NaN:r(n,i|=0,e(n),t(n),a)}}var a,i,u,s,l,c,f,d,h,p,m,g,v,y=function(){var e=.636619772,o=[57568490574,-13362590354,651619640.7,-11214424.18,77392.33017,-184.9052456].reverse(),a=[57568490411,1029532985,9494680.718,59272.64853,267.8532712,1].reverse(),i=[1,-.001098628627,2734510407e-14,-2073370639e-15,2.093887211e-7].reverse(),u=[-.01562499995,.0001430488765,-6911147651e-15,7.621095161e-7,-9.34935152e-8].reverse();function s(r){var s=0,l=0,c=0,f=r*r;if(r<8)s=(l=n(o,f))/(c=n(a,f));else{var d=r-.785398164;l=n(i,f=64/f),c=n(u,f),s=t.sqrt(e/r)*(t.cos(d)*l-t.sin(d)*c*8/r)}return s}var l=[72362614232,-7895059235,242396853.1,-2972611.439,15704.4826,-30.16036606].reverse(),c=[144725228442,2300535178,18583304.74,99447.43394,376.9991397,1].reverse(),f=[1,.00183105,-3516396496e-14,2457520174e-15,-2.40337019e-7].reverse(),d=[.04687499995,-.0002002690873,8449199096e-15,-8.8228987e-7,1.05787412e-7].reverse();function h(r){var o=0,a=0,i=0,u=r*r,s=t.abs(r)-2.356194491;return Math.abs(r)<8?o=(a=r*n(l,u))/(i=n(c,u)):(a=n(f,u=64/u),i=n(d,u),o=t.sqrt(e/t.abs(r))*(t.cos(s)*a-t.sin(s)*i*8/t.abs(r)),r<0&&(o=-o)),o}return function e(n,o){if(o=Math.round(o),!isFinite(n))return isNaN(n)?n:0;if(o<0)return(o%2?-1:1)*e(n,-o);if(n<0)return(o%2?-1:1)*e(-n,o);if(0===o)return s(n);if(1===o)return h(n);if(0===n)return 0;var a=0;if(n>o)a=r(n,o,s(n),h(n),-1);else{for(var i=!1,u=0,l=0,c=1,f=0,d=2/n,p=2*t.floor((o+t.floor(t.sqrt(40*o)))/2);p>0;p--)f=p*d*c-u,u=c,c=f,t.abs(c)>1e10&&(c*=1e-10,u*=1e-10,a*=1e-10,l*=1e-10),i&&(l+=c),i=!i,p==o&&(a=u);a/=l=2*l-c}return a}}(),b=(a=.636619772,i=[-2957821389,7062834065,-512359803.6,10879881.29,-86327.92757,228.4622733].reverse(),u=[40076544269,745249964.8,7189466.438,47447.2647,226.1030244,1].reverse(),s=[1,-.001098628627,2734510407e-14,-2073370639e-15,2.093887211e-7].reverse(),l=[-.01562499995,.0001430488765,-6911147651e-15,7.621095161e-7,-9.34945152e-8].reverse(),c=[-4900604943e3,127527439e4,-51534381390,734926455.1,-4237922.726,8511.937935].reverse(),f=[249958057e5,424441966400,3733650367,22459040.02,102042.605,354.9632885,1].reverse(),d=[1,.00183105,-3516396496e-14,2457520174e-15,-2.40337019e-7].reverse(),h=[.04687499995,-.0002002690873,8449199096e-15,-8.8228987e-7,1.05787412e-7].reverse(),o((function(e){var r=0,o=0,c=0,f=e*e,d=e-.785398164;return e<8?r=(o=n(i,f))/(c=n(u,f))+a*y(e,0)*t.log(e):(o=n(s,f=64/f),c=n(l,f),r=t.sqrt(a/e)*(t.sin(d)*o+t.cos(d)*c*8/e)),r}),(function(e){var r=0,o=0,i=0,u=e*e,s=e-2.356194491;return e<8?r=(o=e*n(c,u))/(i=n(f,u))+a*(y(e,1)*t.log(e)-1/e):(o=n(d,u=64/u),i=n(h,u),r=t.sqrt(a/e)*(t.sin(s)*o+t.cos(s)*i*8/e)),r}),0,1,-1)),_=(p=[1,3.5156229,3.0899424,1.2067492,.2659732,.0360768,.0045813].reverse(),m=[.39894228,.01328592,.00225319,-.00157565,.00916281,-.02057706,.02635537,-.01647633,.00392377].reverse(),g=[.5,.87890594,.51498869,.15084934,.02658733,.00301532,32411e-8].reverse(),v=[.39894228,-.03988024,-.00362018,.00163801,-.01031555,.02282967,-.02895312,.01787654,-.00420059].reverse(),function e(r,o){if(0===(o=Math.round(o)))return function(e){return e<=3.75?n(p,e*e/14.0625):t.exp(t.abs(e))/t.sqrt(t.abs(e))*n(m,3.75/t.abs(e))}(r);if(1===o)return function(e){return e<3.75?e*n(g,e*e/14.0625):(e<0?-1:1)*t.exp(t.abs(e))/t.sqrt(t.abs(e))*n(v,3.75/t.abs(e))}(r);if(o<0)return NaN;if(0===t.abs(r))return 0;if(r==1/0)return 1/0;var a,i=0,u=2/t.abs(r),s=0,l=1,c=0;for(a=2*t.round((o+t.round(t.sqrt(40*o)))/2);a>0;a--)c=a*u*l+s,s=l,l=c,t.abs(l)>1e10&&(l*=1e-10,s*=1e-10,i*=1e-10),a==o&&(i=s);return i*=e(r,0)/l,r<0&&o%2?-i:i}),w=function(){var e=[-.57721566,.4227842,.23069756,.0348859,.00262698,1075e-7,74e-7].reverse(),r=[1.25331414,-.07832358,.02189568,-.01062446,.00587872,-.0025154,53208e-8].reverse(),a=[1,.15443144,-.67278579,-.18156897,-.01919402,-.00110404,-4686e-8].reverse(),i=[1.25331414,.23498619,-.0365562,.01504268,-.00780353,.00325614,-68245e-8].reverse();return o((function(o){return o<=2?-t.log(o/2)*_(o,0)+n(e,o*o/4):t.exp(-o)/t.sqrt(o)*n(r,2/o)}),(function(e){return e<=2?t.log(e/2)*_(e,1)+1/e*n(a,e*e/4):t.exp(-e)/t.sqrt(e)*n(i,2/e)}),0,2,1)}();e.besselj=y,e.bessely=b,e.besseli=_,e.besselk=w},"undefined"==typeof DO_NOT_EXPORT_BESSEL?t(e):t({})}(fh),function(e){var t=Xd,n=Zd.exports,r=Kd,o=Gd,a=fh;function i(e){return/^[01]{1,10}$/.test(e)}e.BESSELI=function(e,n){return e=o.parseNumber(e),n=o.parseNumber(n),o.anyIsError(e,n)?t.value:a.besseli(e,n)},e.BESSELJ=function(e,n){return e=o.parseNumber(e),n=o.parseNumber(n),o.anyIsError(e,n)?t.value:a.besselj(e,n)},e.BESSELK=function(e,n){return e=o.parseNumber(e),n=o.parseNumber(n),o.anyIsError(e,n)?t.value:a.besselk(e,n)},e.BESSELY=function(e,n){return e=o.parseNumber(e),n=o.parseNumber(n),o.anyIsError(e,n)?t.value:a.bessely(e,n)},e.BIN2DEC=function(e){if(!i(e))return t.num;var n=parseInt(e,2),r=e.toString();return 10===r.length&&"1"===r.substring(0,1)?parseInt(r.substring(1),2)-512:n},e.BIN2HEX=function(e,n){if(!i(e))return t.num;var o=e.toString();if(10===o.length&&"1"===o.substring(0,1))return(0xfffffffe00+parseInt(o.substring(1),2)).toString(16);var a=parseInt(e,2).toString(16);return void 0===n?a:isNaN(n)?t.value:n<0?t.num:(n=Math.floor(n))>=a.length?r.REPT("0",n-a.length)+a:t.num},e.BIN2OCT=function(e,n){if(!i(e))return t.num;var o=e.toString();if(10===o.length&&"1"===o.substring(0,1))return(1073741312+parseInt(o.substring(1),2)).toString(8);var a=parseInt(e,2).toString(8);return void 0===n?a:isNaN(n)?t.value:n<0?t.num:(n=Math.floor(n))>=a.length?r.REPT("0",n-a.length)+a:t.num},e.BITAND=function(e,n){return e=o.parseNumber(e),n=o.parseNumber(n),o.anyIsError(e,n)?t.value:e<0||n<0||Math.floor(e)!==e||Math.floor(n)!==n||e>0xffffffffffff||n>0xffffffffffff?t.num:e&n},e.BITLSHIFT=function(e,n){return e=o.parseNumber(e),n=o.parseNumber(n),o.anyIsError(e,n)?t.value:e<0||Math.floor(e)!==e||e>0xffffffffffff||Math.abs(n)>53?t.num:n>=0?e<<n:e>>-n},e.BITOR=function(e,n){return e=o.parseNumber(e),n=o.parseNumber(n),o.anyIsError(e,n)?t.value:e<0||n<0||Math.floor(e)!==e||Math.floor(n)!==n||e>0xffffffffffff||n>0xffffffffffff?t.num:e|n},e.BITRSHIFT=function(e,n){return e=o.parseNumber(e),n=o.parseNumber(n),o.anyIsError(e,n)?t.value:e<0||Math.floor(e)!==e||e>0xffffffffffff||Math.abs(n)>53?t.num:n>=0?e>>n:e<<-n},e.BITXOR=function(e,n){return e=o.parseNumber(e),n=o.parseNumber(n),o.anyIsError(e,n)?t.value:e<0||n<0||Math.floor(e)!==e||Math.floor(n)!==n||e>0xffffffffffff||n>0xffffffffffff?t.num:e^n},e.COMPLEX=function(e,n,r){if(e=o.parseNumber(e),n=o.parseNumber(n),o.anyIsError(e,n))return e;if("i"!==(r=void 0===r?"i":r)&&"j"!==r)return t.value;if(0===e&&0===n)return 0;if(0===e)return 1===n?r:n.toString()+r;if(0===n)return e.toString();var a=n>0?"+":"";return e.toString()+a+(1===n?r:n.toString()+r)},e.CONVERT=function(e,n,r){if((e=o.parseNumber(e))instanceof Error)return e;for(var a,i=[["a.u. of action","?",null,"action",!1,!1,105457168181818e-48],["a.u. of charge","e",null,"electric_charge",!1,!1,160217653141414e-33],["a.u. of energy","Eh",null,"energy",!1,!1,435974417757576e-32],["a.u. of length","a?",null,"length",!1,!1,529177210818182e-25],["a.u. of mass","m?",null,"mass",!1,!1,910938261616162e-45],["a.u. of time","?/Eh",null,"time",!1,!1,241888432650516e-31],["admiralty knot","admkn",null,"speed",!1,!0,.514773333],["ampere","A",null,"electric_current",!0,!1,1],["ampere per meter","A/m",null,"magnetic_field_intensity",!0,!1,1],["ångström","Å",["ang"],"length",!1,!0,1e-10],["are","ar",null,"area",!1,!0,100],["astronomical unit","ua",null,"length",!1,!1,149597870691667e-25],["bar","bar",null,"pressure",!1,!1,1e5],["barn","b",null,"area",!1,!1,1e-28],["becquerel","Bq",null,"radioactivity",!0,!1,1],["bit","bit",["b"],"information",!1,!0,1],["btu","BTU",["btu"],"energy",!1,!0,1055.05585262],["byte","byte",null,"information",!1,!0,8],["candela","cd",null,"luminous_intensity",!0,!1,1],["candela per square metre","cd/m?",null,"luminance",!0,!1,1],["coulomb","C",null,"electric_charge",!0,!1,1],["cubic ångström","ang3",["ang^3"],"volume",!1,!0,1e-30],["cubic foot","ft3",["ft^3"],"volume",!1,!0,.028316846592],["cubic inch","in3",["in^3"],"volume",!1,!0,16387064e-12],["cubic light-year","ly3",["ly^3"],"volume",!1,!0,846786664623715e-61],["cubic metre","m?",null,"volume",!0,!0,1],["cubic mile","mi3",["mi^3"],"volume",!1,!0,4168181825.44058],["cubic nautical mile","Nmi3",["Nmi^3"],"volume",!1,!0,6352182208],["cubic Pica","Pica3",["Picapt3","Pica^3","Picapt^3"],"volume",!1,!0,7.58660370370369e-8],["cubic yard","yd3",["yd^3"],"volume",!1,!0,.764554857984],["cup","cup",null,"volume",!1,!0,.0002365882365],["dalton","Da",["u"],"mass",!1,!1,166053886282828e-41],["day","d",["day"],"time",!1,!0,86400],["degree","°",null,"angle",!1,!1,.0174532925199433],["degrees Rankine","Rank",null,"temperature",!1,!0,.555555555555556],["dyne","dyn",["dy"],"force",!1,!0,1e-5],["electronvolt","eV",["ev"],"energy",!1,!0,1.60217656514141],["ell","ell",null,"length",!1,!0,1.143],["erg","erg",["e"],"energy",!1,!0,1e-7],["farad","F",null,"electric_capacitance",!0,!1,1],["fluid ounce","oz",null,"volume",!1,!0,295735295625e-16],["foot","ft",null,"length",!1,!0,.3048],["foot-pound","flb",null,"energy",!1,!0,1.3558179483314],["gal","Gal",null,"acceleration",!1,!1,.01],["gallon","gal",null,"volume",!1,!0,.003785411784],["gauss","G",["ga"],"magnetic_flux_density",!1,!0,1],["grain","grain",null,"mass",!1,!0,647989e-10],["gram","g",null,"mass",!1,!0,.001],["gray","Gy",null,"absorbed_dose",!0,!1,1],["gross registered ton","GRT",["regton"],"volume",!1,!0,2.8316846592],["hectare","ha",null,"area",!1,!0,1e4],["henry","H",null,"inductance",!0,!1,1],["hertz","Hz",null,"frequency",!0,!1,1],["horsepower","HP",["h"],"power",!1,!0,745.69987158227],["horsepower-hour","HPh",["hh","hph"],"energy",!1,!0,2684519.538],["hour","h",["hr"],"time",!1,!0,3600],["imperial gallon (U.K.)","uk_gal",null,"volume",!1,!0,.00454609],["imperial hundredweight","lcwt",["uk_cwt","hweight"],"mass",!1,!0,50.802345],["imperial quart (U.K)","uk_qt",null,"volume",!1,!0,.0011365225],["imperial ton","brton",["uk_ton","LTON"],"mass",!1,!0,1016.046909],["inch","in",null,"length",!1,!0,.0254],["international acre","uk_acre",null,"area",!1,!0,4046.8564224],["IT calorie","cal",null,"energy",!1,!0,4.1868],["joule","J",null,"energy",!0,!0,1],["katal","kat",null,"catalytic_activity",!0,!1,1],["kelvin","K",["kel"],"temperature",!0,!0,1],["kilogram","kg",null,"mass",!0,!0,1],["knot","kn",null,"speed",!1,!0,.514444444444444],["light-year","ly",null,"length",!1,!0,9460730472580800],["litre","L",["l","lt"],"volume",!1,!0,.001],["lumen","lm",null,"luminous_flux",!0,!1,1],["lux","lx",null,"illuminance",!0,!1,1],["maxwell","Mx",null,"magnetic_flux",!1,!1,1e-18],["measurement ton","MTON",null,"volume",!1,!0,1.13267386368],["meter per hour","m/h",["m/hr"],"speed",!1,!0,.00027777777777778],["meter per second","m/s",["m/sec"],"speed",!0,!0,1],["meter per second squared","m?s??",null,"acceleration",!0,!1,1],["parsec","pc",["parsec"],"length",!1,!0,0x6da012f958ee1c],["meter squared per second","m?/s",null,"kinematic_viscosity",!0,!1,1],["metre","m",null,"length",!0,!0,1],["miles per hour","mph",null,"speed",!1,!0,.44704],["millimetre of mercury","mmHg",null,"pressure",!1,!1,133.322],["minute","?",null,"angle",!1,!1,.000290888208665722],["minute","min",["mn"],"time",!1,!0,60],["modern teaspoon","tspm",null,"volume",!1,!0,5e-6],["mole","mol",null,"amount_of_substance",!0,!1,1],["morgen","Morgen",null,"area",!1,!0,2500],["n.u. of action","?",null,"action",!1,!1,105457168181818e-48],["n.u. of mass","m?",null,"mass",!1,!1,910938261616162e-45],["n.u. of speed","c?",null,"speed",!1,!1,299792458],["n.u. of time","?/(me?c??)",null,"time",!1,!1,128808866778687e-35],["nautical mile","M",["Nmi"],"length",!1,!0,1852],["newton","N",null,"force",!0,!0,1],["œrsted","Oe ",null,"magnetic_field_intensity",!1,!1,79.5774715459477],["ohm","Ω",null,"electric_resistance",!0,!1,1],["ounce mass","ozm",null,"mass",!1,!0,.028349523125],["pascal","Pa",null,"pressure",!0,!1,1],["pascal second","Pa?s",null,"dynamic_viscosity",!0,!1,1],["pferdestärke","PS",null,"power",!1,!0,735.49875],["phot","ph",null,"illuminance",!1,!1,1e-4],["pica (1/6 inch)","pica",null,"length",!1,!0,.00035277777777778],["pica (1/72 inch)","Pica",["Picapt"],"length",!1,!0,.00423333333333333],["poise","P",null,"dynamic_viscosity",!1,!1,.1],["pond","pond",null,"force",!1,!0,.00980665],["pound force","lbf",null,"force",!1,!0,4.4482216152605],["pound mass","lbm",null,"mass",!1,!0,.45359237],["quart","qt",null,"volume",!1,!0,.000946352946],["radian","rad",null,"angle",!0,!1,1],["second","?",null,"angle",!1,!1,484813681109536e-20],["second","s",["sec"],"time",!0,!0,1],["short hundredweight","cwt",["shweight"],"mass",!1,!0,45.359237],["siemens","S",null,"electrical_conductance",!0,!1,1],["sievert","Sv",null,"equivalent_dose",!0,!1,1],["slug","sg",null,"mass",!1,!0,14.59390294],["square ångström","ang2",["ang^2"],"area",!1,!0,1e-20],["square foot","ft2",["ft^2"],"area",!1,!0,.09290304],["square inch","in2",["in^2"],"area",!1,!0,64516e-8],["square light-year","ly2",["ly^2"],"area",!1,!0,895054210748189e17],["square meter","m?",null,"area",!0,!0,1],["square mile","mi2",["mi^2"],"area",!1,!0,2589988.110336],["square nautical mile","Nmi2",["Nmi^2"],"area",!1,!0,3429904],["square Pica","Pica2",["Picapt2","Pica^2","Picapt^2"],"area",!1,!0,1792111111111e-17],["square yard","yd2",["yd^2"],"area",!1,!0,.83612736],["statute mile","mi",null,"length",!1,!0,1609.344],["steradian","sr",null,"solid_angle",!0,!1,1],["stilb","sb",null,"luminance",!1,!1,1e-4],["stokes","St",null,"kinematic_viscosity",!1,!1,1e-4],["stone","stone",null,"mass",!1,!0,6.35029318],["tablespoon","tbs",null,"volume",!1,!0,147868e-10],["teaspoon","tsp",null,"volume",!1,!0,492892e-11],["tesla","T",null,"magnetic_flux_density",!0,!0,1],["thermodynamic calorie","c",null,"energy",!1,!0,4.184],["ton","ton",null,"mass",!1,!0,907.18474],["tonne","t",null,"mass",!1,!1,1e3],["U.K. pint","uk_pt",null,"volume",!1,!0,.00056826125],["U.S. bushel","bushel",null,"volume",!1,!0,.03523907],["U.S. oil barrel","barrel",null,"volume",!1,!0,.158987295],["U.S. pint","pt",["us_pt"],"volume",!1,!0,.000473176473],["U.S. survey mile","survey_mi",null,"length",!1,!0,1609.347219],["U.S. survey/statute acre","us_acre",null,"area",!1,!0,4046.87261],["volt","V",null,"voltage",!0,!1,1],["watt","W",null,"power",!0,!0,1],["watt-hour","Wh",["wh"],"energy",!1,!0,3600],["weber","Wb",null,"magnetic_flux",!0,!1,1],["yard","yd",null,"length",!1,!0,.9144],["year","yr",null,"time",!1,!0,31557600]],u={Yi:["yobi",80,12089258196146292e8,"Yi","yotta"],Zi:["zebi",70,11805916207174113e5,"Zi","zetta"],Ei:["exbi",60,0x1000000000000000,"Ei","exa"],Pi:["pebi",50,0x4000000000000,"Pi","peta"],Ti:["tebi",40,1099511627776,"Ti","tera"],Gi:["gibi",30,1073741824,"Gi","giga"],Mi:["mebi",20,1048576,"Mi","mega"],ki:["kibi",10,1024,"ki","kilo"]},s={Y:["yotta",1e24,"Y"],Z:["zetta",1e21,"Z"],E:["exa",1e18,"E"],P:["peta",1e15,"P"],T:["tera",1e12,"T"],G:["giga",1e9,"G"],M:["mega",1e6,"M"],k:["kilo",1e3,"k"],h:["hecto",100,"h"],e:["dekao",10,"e"],d:["deci",.1,"d"],c:["centi",.01,"c"],m:["milli",.001,"m"],u:["micro",1e-6,"u"],n:["nano",1e-9,"n"],p:["pico",1e-12,"p"],f:["femto",1e-15,"f"],a:["atto",1e-18,"a"],z:["zepto",1e-21,"z"],y:["yocto",1e-24,"y"]},l=null,c=null,f=n,d=r,h=1,p=1,m=0;m<i.length;m++)a=null===i[m][2]?[]:i[m][2],(i[m][1]===f||a.indexOf(f)>=0)&&(l=i[m]),(i[m][1]===d||a.indexOf(d)>=0)&&(c=i[m]);if(null===l){var g=u[n.substring(0,2)],v=s[n.substring(0,1)];"da"===n.substring(0,2)&&(v=["dekao",10,"da"]),g?(h=g[2],f=n.substring(2)):v&&(h=v[1],f=n.substring(v[2].length));for(var y=0;y<i.length;y++)a=null===i[y][2]?[]:i[y][2],(i[y][1]===f||a.indexOf(f)>=0)&&(l=i[y])}if(null===c){var b=u[r.substring(0,2)],_=s[r.substring(0,1)];"da"===r.substring(0,2)&&(_=["dekao",10,"da"]),b?(p=b[2],d=r.substring(2)):_&&(p=_[1],d=r.substring(_[2].length));for(var w=0;w<i.length;w++)a=null===i[w][2]?[]:i[w][2],(i[w][1]===d||a.indexOf(d)>=0)&&(c=i[w])}return null===l||null===c||l[3]!==c[3]?t.na:e*l[6]*h/(c[6]*p)},e.DEC2BIN=function(e,n){if((e=o.parseNumber(e))instanceof Error)return e;if(!/^-?[0-9]{1,3}$/.test(e)||e<-512||e>511)return t.num;if(e<0)return"1"+r.REPT("0",9-(512+e).toString(2).length)+(512+e).toString(2);var a=parseInt(e,10).toString(2);return void 0===n?a:isNaN(n)?t.value:n<0?t.num:(n=Math.floor(n))>=a.length?r.REPT("0",n-a.length)+a:t.num},e.DEC2HEX=function(e,n){if((e=o.parseNumber(e))instanceof Error)return e;if(!/^-?[0-9]{1,12}$/.test(e)||e<-549755813888||e>549755813887)return t.num;if(e<0)return(1099511627776+e).toString(16);var a=parseInt(e,10).toString(16);return void 0===n?a:isNaN(n)?t.value:n<0?t.num:(n=Math.floor(n))>=a.length?r.REPT("0",n-a.length)+a:t.num},e.DEC2OCT=function(e,n){if((e=o.parseNumber(e))instanceof Error)return e;if(!/^-?[0-9]{1,9}$/.test(e)||e<-536870912||e>536870911)return t.num;if(e<0)return(1073741824+e).toString(8);var a=parseInt(e,10).toString(8);return void 0===n?a:isNaN(n)?t.value:n<0?t.num:(n=Math.floor(n))>=a.length?r.REPT("0",n-a.length)+a:t.num},e.DELTA=function(e,n){return n=void 0===n?0:n,e=o.parseNumber(e),n=o.parseNumber(n),o.anyIsError(e,n)?t.value:e===n?1:0},e.ERF=function(e,r){return r=void 0===r?0:r,e=o.parseNumber(e),r=o.parseNumber(r),o.anyIsError(e,r)?t.value:n.erf(e)},e.ERF.PRECISE=function(){throw new Error("ERF.PRECISE is not implemented")},e.ERFC=function(e){return isNaN(e)?t.value:n.erfc(e)},e.ERFC.PRECISE=function(){throw new Error("ERFC.PRECISE is not implemented")},e.GESTEP=function(e,t){return t=t||0,e=o.parseNumber(e),o.anyIsError(t,e)?e:e>=t?1:0},e.HEX2BIN=function(e,n){if(!/^[0-9A-Fa-f]{1,10}$/.test(e))return t.num;var o=10===e.length&&"f"===e.substring(0,1).toLowerCase(),a=o?parseInt(e,16)-1099511627776:parseInt(e,16);if(a<-512||a>511)return t.num;if(o)return"1"+r.REPT("0",9-(512+a).toString(2).length)+(512+a).toString(2);var i=a.toString(2);return void 0===n?i:isNaN(n)?t.value:n<0?t.num:(n=Math.floor(n))>=i.length?r.REPT("0",n-i.length)+i:t.num},e.HEX2DEC=function(e){if(!/^[0-9A-Fa-f]{1,10}$/.test(e))return t.num;var n=parseInt(e,16);return n>=549755813888?n-1099511627776:n},e.HEX2OCT=function(e,n){if(!/^[0-9A-Fa-f]{1,10}$/.test(e))return t.num;var o=parseInt(e,16);if(o>536870911&&o<0xffe0000000)return t.num;if(o>=0xffe0000000)return(o-0xffc0000000).toString(8);var a=o.toString(8);return void 0===n?a:isNaN(n)?t.value:n<0?t.num:(n=Math.floor(n))>=a.length?r.REPT("0",n-a.length)+a:t.num},e.IMABS=function(n){var r=e.IMREAL(n),a=e.IMAGINARY(n);return o.anyIsError(r,a)?t.value:Math.sqrt(Math.pow(r,2)+Math.pow(a,2))},e.IMAGINARY=function(e){if(void 0===e||!0===e||!1===e)return t.value;if(0===e||"0"===e)return 0;if(["i","j"].indexOf(e)>=0)return 1;var n=(e=e.replace("+i","+1i").replace("-i","-1i").replace("+j","+1j").replace("-j","-1j")).indexOf("+"),r=e.indexOf("-");0===n&&(n=e.indexOf("+",1)),0===r&&(r=e.indexOf("-",1));var o=e.substring(e.length-1,e.length),a="i"===o||"j"===o;return n>=0||r>=0?a?n>=0?isNaN(e.substring(0,n))||isNaN(e.substring(n+1,e.length-1))?t.num:Number(e.substring(n+1,e.length-1)):isNaN(e.substring(0,r))||isNaN(e.substring(r+1,e.length-1))?t.num:-Number(e.substring(r+1,e.length-1)):t.num:a?isNaN(e.substring(0,e.length-1))?t.num:e.substring(0,e.length-1):isNaN(e)?t.num:0},e.IMARGUMENT=function(n){var r=e.IMREAL(n),a=e.IMAGINARY(n);return o.anyIsError(r,a)?t.value:0===r&&0===a?t.div0:0===r&&a>0?Math.PI/2:0===r&&a<0?-Math.PI/2:0===a&&r>0?0:0===a&&r<0?-Math.PI:r>0?Math.atan(a/r):r<0&&a>=0?Math.atan(a/r)+Math.PI:Math.atan(a/r)-Math.PI},e.IMCONJUGATE=function(n){var r=e.IMREAL(n),a=e.IMAGINARY(n);if(o.anyIsError(r,a))return t.value;var i=n.substring(n.length-1);return i="i"===i||"j"===i?i:"i",0!==a?e.COMPLEX(r,-a,i):n},e.IMCOS=function(n){var r=e.IMREAL(n),a=e.IMAGINARY(n);if(o.anyIsError(r,a))return t.value;var i=n.substring(n.length-1);return i="i"===i||"j"===i?i:"i",e.COMPLEX(Math.cos(r)*(Math.exp(a)+Math.exp(-a))/2,-Math.sin(r)*(Math.exp(a)-Math.exp(-a))/2,i)},e.IMCOSH=function(n){var r=e.IMREAL(n),a=e.IMAGINARY(n);if(o.anyIsError(r,a))return t.value;var i=n.substring(n.length-1);return i="i"===i||"j"===i?i:"i",e.COMPLEX(Math.cos(a)*(Math.exp(r)+Math.exp(-r))/2,Math.sin(a)*(Math.exp(r)-Math.exp(-r))/2,i)},e.IMCOT=function(n){var r=e.IMREAL(n),a=e.IMAGINARY(n);return o.anyIsError(r,a)?t.value:e.IMDIV(e.IMCOS(n),e.IMSIN(n))},e.IMDIV=function(n,r){var a=e.IMREAL(n),i=e.IMAGINARY(n),u=e.IMREAL(r),s=e.IMAGINARY(r);if(o.anyIsError(a,i,u,s))return t.value;var l=n.substring(n.length-1),c=r.substring(r.length-1),f="i";if(("j"===l||"j"===c)&&(f="j"),0===u&&0===s)return t.num;var d=u*u+s*s;return e.COMPLEX((a*u+i*s)/d,(i*u-a*s)/d,f)},e.IMEXP=function(n){var r=e.IMREAL(n),a=e.IMAGINARY(n);if(o.anyIsError(r,a))return t.value;var i=n.substring(n.length-1);i="i"===i||"j"===i?i:"i";var u=Math.exp(r);return e.COMPLEX(u*Math.cos(a),u*Math.sin(a),i)},e.IMLN=function(n){var r=e.IMREAL(n),a=e.IMAGINARY(n);if(o.anyIsError(r,a))return t.value;var i=n.substring(n.length-1);return i="i"===i||"j"===i?i:"i",e.COMPLEX(Math.log(Math.sqrt(r*r+a*a)),Math.atan(a/r),i)},e.IMLOG10=function(n){var r=e.IMREAL(n),a=e.IMAGINARY(n);if(o.anyIsError(r,a))return t.value;var i=n.substring(n.length-1);return i="i"===i||"j"===i?i:"i",e.COMPLEX(Math.log(Math.sqrt(r*r+a*a))/Math.log(10),Math.atan(a/r)/Math.log(10),i)},e.IMLOG2=function(n){var r=e.IMREAL(n),a=e.IMAGINARY(n);if(o.anyIsError(r,a))return t.value;var i=n.substring(n.length-1);return i="i"===i||"j"===i?i:"i",e.COMPLEX(Math.log(Math.sqrt(r*r+a*a))/Math.log(2),Math.atan(a/r)/Math.log(2),i)},e.IMPOWER=function(n,r){r=o.parseNumber(r);var a=e.IMREAL(n),i=e.IMAGINARY(n);if(o.anyIsError(r,a,i))return t.value;var u=n.substring(n.length-1);u="i"===u||"j"===u?u:"i";var s=Math.pow(e.IMABS(n),r),l=e.IMARGUMENT(n);return e.COMPLEX(s*Math.cos(r*l),s*Math.sin(r*l),u)},e.IMPRODUCT=function(){var n=arguments[0];if(!arguments.length)return t.value;for(var r=1;r<arguments.length;r++){var a=e.IMREAL(n),i=e.IMAGINARY(n),u=e.IMREAL(arguments[r]),s=e.IMAGINARY(arguments[r]);if(o.anyIsError(a,i,u,s))return t.value;n=e.COMPLEX(a*u-i*s,a*s+i*u)}return n},e.IMREAL=function(e){if(void 0===e||!0===e||!1===e)return t.value;if(0===e||"0"===e)return 0;if(["i","+i","1i","+1i","-i","-1i","j","+j","1j","+1j","-j","-1j"].indexOf(e)>=0)return 0;var n=e.indexOf("+"),r=e.indexOf("-");0===n&&(n=e.indexOf("+",1)),0===r&&(r=e.indexOf("-",1));var o=e.substring(e.length-1,e.length),a="i"===o||"j"===o;return n>=0||r>=0?a?n>=0?isNaN(e.substring(0,n))||isNaN(e.substring(n+1,e.length-1))?t.num:Number(e.substring(0,n)):isNaN(e.substring(0,r))||isNaN(e.substring(r+1,e.length-1))?t.num:Number(e.substring(0,r)):t.num:a?isNaN(e.substring(0,e.length-1))?t.num:0:isNaN(e)?t.num:e},e.IMSEC=function(n){if(!0===n||!1===n)return t.value;var r=e.IMREAL(n),a=e.IMAGINARY(n);return o.anyIsError(r,a)?t.value:e.IMDIV("1",e.IMCOS(n))},e.IMSECH=function(n){var r=e.IMREAL(n),a=e.IMAGINARY(n);return o.anyIsError(r,a)?t.value:e.IMDIV("1",e.IMCOSH(n))},e.IMSIN=function(n){var r=e.IMREAL(n),a=e.IMAGINARY(n);if(o.anyIsError(r,a))return t.value;var i=n.substring(n.length-1);return i="i"===i||"j"===i?i:"i",e.COMPLEX(Math.sin(r)*(Math.exp(a)+Math.exp(-a))/2,Math.cos(r)*(Math.exp(a)-Math.exp(-a))/2,i)},e.IMSINH=function(n){var r=e.IMREAL(n),a=e.IMAGINARY(n);if(o.anyIsError(r,a))return t.value;var i=n.substring(n.length-1);return i="i"===i||"j"===i?i:"i",e.COMPLEX(Math.cos(a)*(Math.exp(r)-Math.exp(-r))/2,Math.sin(a)*(Math.exp(r)+Math.exp(-r))/2,i)},e.IMSQRT=function(n){var r=e.IMREAL(n),a=e.IMAGINARY(n);if(o.anyIsError(r,a))return t.value;var i=n.substring(n.length-1);i="i"===i||"j"===i?i:"i";var u=Math.sqrt(e.IMABS(n)),s=e.IMARGUMENT(n);return e.COMPLEX(u*Math.cos(s/2),u*Math.sin(s/2),i)},e.IMCSC=function(n){if(!0===n||!1===n)return t.value;var r=e.IMREAL(n),a=e.IMAGINARY(n);return o.anyIsError(r,a)?t.num:e.IMDIV("1",e.IMSIN(n))},e.IMCSCH=function(n){if(!0===n||!1===n)return t.value;var r=e.IMREAL(n),a=e.IMAGINARY(n);return o.anyIsError(r,a)?t.num:e.IMDIV("1",e.IMSINH(n))},e.IMSUB=function(e,n){var r=this.IMREAL(e),a=this.IMAGINARY(e),i=this.IMREAL(n),u=this.IMAGINARY(n);if(o.anyIsError(r,a,i,u))return t.value;var s=e.substring(e.length-1),l=n.substring(n.length-1),c="i";return("j"===s||"j"===l)&&(c="j"),this.COMPLEX(r-i,a-u,c)},e.IMSUM=function(){if(!arguments.length)return t.value;for(var e=o.flatten(arguments),n=e[0],r=1;r<e.length;r++){var a=this.IMREAL(n),i=this.IMAGINARY(n),u=this.IMREAL(e[r]),s=this.IMAGINARY(e[r]);if(o.anyIsError(a,i,u,s))return t.value;n=this.COMPLEX(a+u,i+s)}return n},e.IMTAN=function(n){if(!0===n||!1===n)return t.value;var r=e.IMREAL(n),a=e.IMAGINARY(n);return o.anyIsError(r,a)?t.value:this.IMDIV(this.IMSIN(n),this.IMCOS(n))},e.OCT2BIN=function(e,n){if(!/^[0-7]{1,10}$/.test(e))return t.num;var o=10===e.length&&"7"===e.substring(0,1),a=o?parseInt(e,8)-1073741824:parseInt(e,8);if(a<-512||a>511)return t.num;if(o)return"1"+r.REPT("0",9-(512+a).toString(2).length)+(512+a).toString(2);var i=a.toString(2);return void 0===n?i:isNaN(n)?t.value:n<0?t.num:(n=Math.floor(n))>=i.length?r.REPT("0",n-i.length)+i:t.num},e.OCT2DEC=function(e){if(!/^[0-7]{1,10}$/.test(e))return t.num;var n=parseInt(e,8);return n>=536870912?n-1073741824:n},e.OCT2HEX=function(e,n){if(!/^[0-7]{1,10}$/.test(e))return t.num;var o=parseInt(e,8);if(o>=536870912)return"ff"+(o+3221225472).toString(16);var a=o.toString(16);return void 0===n?a:isNaN(n)?t.value:n<0?t.num:(n=Math.floor(n))>=a.length?r.REPT("0",n-a.length)+a:t.num}}(ch);var dh={};!function(e){var t=Xd,n=Gd,r=new Date(Date.UTC(1900,0,1)),o=[void 0,0,1,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,1,2,3,4,5,6,0],a=[[],[1,2,3,4,5,6,7],[7,1,2,3,4,5,6],[6,0,1,2,3,4,5],[],[],[],[],[],[],[],[7,1,2,3,4,5,6],[6,7,1,2,3,4,5],[5,6,7,1,2,3,4],[4,5,6,7,1,2,3],[3,4,5,6,7,1,2],[2,3,4,5,6,7,1],[1,2,3,4,5,6,7]],i=[[],[6,0],[0,1],[1,2],[2,3],[3,4],[4,5],[5,6],void 0,void 0,void 0,[0,0],[1,1],[2,2],[3,3],[4,4],[5,5],[6,6]];function u(e){return 1===new Date(e,1,29).getMonth()}function s(e,t){return Math.ceil((t-e)/1e3/60/60/24)}function l(e){var t=e>-22038912e5?2:1;return Math.ceil((e-r)/864e5)+t}e.DATE=function(e,r,o){return e=n.parseNumber(e),r=n.parseNumber(r),o=n.parseNumber(o),n.anyIsError(e,r,o)?t.value:e<0||r<0||o<0?t.num:new Date(e,r-1,o)},e.DATEVALUE=function(e){var n,o=2;return"string"!=typeof e?t.value:(n=Date.parse(e),isNaN(n)?t.value:(n<=-22038912e5&&(o=1),Math.ceil((n-r)/864e5)+o))},e.DAY=function(e){var t=n.parseDate(e);return t instanceof Error?t:t.getDate()},e.DAYS=function(e,t){return e=n.parseDate(e),t=n.parseDate(t),e instanceof Error?e:t instanceof Error?t:l(e)-l(t)},e.DAYS360=function(e,t,r){if(r=n.parseBool(r),e=n.parseDate(e),t=n.parseDate(t),e instanceof Error)return e;if(t instanceof Error)return t;if(r instanceof Error)return r;var o,a,i=e.getMonth(),u=t.getMonth();if(r)o=31===e.getDate()?30:e.getDate(),a=31===t.getDate()?30:t.getDate();else{var s=new Date(e.getFullYear(),i+1,0).getDate(),l=new Date(t.getFullYear(),u+1,0).getDate();o=e.getDate()===s?30:e.getDate(),t.getDate()===l?o<30?(u++,a=1):a=30:a=t.getDate()}return 360*(t.getFullYear()-e.getFullYear())+30*(u-i)+(a-o)},e.EDATE=function(e,r){return(e=n.parseDate(e))instanceof Error?e:isNaN(r)?t.value:(r=parseInt(r,10),e.setMonth(e.getMonth()+r),l(e))},e.EOMONTH=function(e,r){return(e=n.parseDate(e))instanceof Error?e:isNaN(r)?t.value:(r=parseInt(r,10),l(new Date(e.getFullYear(),e.getMonth()+r+1,0)))},e.HOUR=function(e){return(e=n.parseDate(e))instanceof Error?e:e.getHours()},e.INTERVAL=function(e){if("number"!=typeof e&&"string"!=typeof e)return t.value;e=parseInt(e,10);var n=Math.floor(e/94608e4);e%=94608e4;var r=Math.floor(e/2592e3);e%=2592e3;var o=Math.floor(e/86400);e%=86400;var a=Math.floor(e/3600);e%=3600;var i=Math.floor(e/60),u=e%=60;return"P"+(n=n>0?n+"Y":"")+(r=r>0?r+"M":"")+(o=o>0?o+"D":"")+"T"+(a=a>0?a+"H":"")+(i=i>0?i+"M":"")+(u=u>0?u+"S":"")},e.ISOWEEKNUM=function(e){if((e=n.parseDate(e))instanceof Error)return e;e.setHours(0,0,0),e.setDate(e.getDate()+4-(e.getDay()||7));var t=new Date(e.getFullYear(),0,1);return Math.ceil(((e-t)/864e5+1)/7)},e.MINUTE=function(e){return(e=n.parseDate(e))instanceof Error?e:e.getMinutes()},e.MONTH=function(e){return(e=n.parseDate(e))instanceof Error?e:e.getMonth()+1},e.NETWORKDAYS=function(e,t,n){return this.NETWORKDAYS.INTL(e,t,1,n)},e.NETWORKDAYS.INTL=function(e,r,o,a){if((e=n.parseDate(e))instanceof Error)return e;if((r=n.parseDate(r))instanceof Error)return r;if(!((o=void 0===o?i[1]:i[o])instanceof Array))return t.value;void 0===a?a=[]:a instanceof Array||(a=[a]);for(var u=0;u<a.length;u++){var s=n.parseDate(a[u]);if(s instanceof Error)return s;a[u]=s}var l=(r-e)/864e5+1,c=l,f=e;for(u=0;u<l;u++){var d=(new Date).getTimezoneOffset()>0?f.getUTCDay():f.getDay(),h=!1;d!==o[0]&&d!==o[1]||(h=!0);for(var p=0;p<a.length;p++){var m=a[p];if(m.getDate()===f.getDate()&&m.getMonth()===f.getMonth()&&m.getFullYear()===f.getFullYear()){h=!0;break}}h&&c--,f.setDate(f.getDate()+1)}return c},e.NOW=function(){return new Date},e.SECOND=function(e){return(e=n.parseDate(e))instanceof Error?e:e.getSeconds()},e.TIME=function(e,r,o){return e=n.parseNumber(e),r=n.parseNumber(r),o=n.parseNumber(o),n.anyIsError(e,r,o)?t.value:e<0||r<0||o<0?t.num:(3600*e+60*r+o)/86400},e.TIMEVALUE=function(e){return(e=n.parseDate(e))instanceof Error?e:(3600*e.getHours()+60*e.getMinutes()+e.getSeconds())/86400},e.TODAY=function(){return new Date},e.WEEKDAY=function(e,t){if((e=n.parseDate(e))instanceof Error)return e;void 0===t&&(t=1);var r=e.getDay();return a[t][r]},e.WEEKNUM=function(e,t){if((e=n.parseDate(e))instanceof Error)return e;if(void 0===t&&(t=1),21===t)return this.ISOWEEKNUM(e);var r=o[t],a=new Date(e.getFullYear(),0,1),i=a.getDay()<r?1:0;return a-=24*Math.abs(a.getDay()-r)*60*60*1e3,Math.floor((e-a)/864e5/7+1)+i},e.WORKDAY=function(e,t,n){return this.WORKDAY.INTL(e,t,1,n)},e.WORKDAY.INTL=function(e,r,o,a){if((e=n.parseDate(e))instanceof Error)return e;if((r=n.parseNumber(r))instanceof Error)return r;if(r<0)return t.num;if(!((o=void 0===o?i[1]:i[o])instanceof Array))return t.value;void 0===a?a=[]:a instanceof Array||(a=[a]);for(var u=0;u<a.length;u++){var s=n.parseDate(a[u]);if(s instanceof Error)return s;a[u]=s}for(var l=0;l<r;){e.setDate(e.getDate()+1);var c=e.getDay();if(c!==o[0]&&c!==o[1]){for(var f=0;f<a.length;f++){var d=a[f];if(d.getDate()===e.getDate()&&d.getMonth()===e.getMonth()&&d.getFullYear()===e.getFullYear()){l--;break}}l++}}return e},e.YEAR=function(e){return(e=n.parseDate(e))instanceof Error?e:e.getFullYear()},e.YEARFRAC=function(e,t,r){if((e=n.parseDate(e))instanceof Error)return e;if((t=n.parseDate(t))instanceof Error)return t;r=r||0;var o=e.getDate(),a=e.getMonth()+1,i=e.getFullYear(),l=t.getDate(),c=t.getMonth()+1,f=t.getFullYear();switch(r){case 0:return 31===o&&31===l?(o=30,l=30):31===o?o=30:30===o&&31===l&&(l=30),(l+30*c+360*f-(o+30*a+360*i))/360;case 1:var d=365;if(i===f||i+1===f&&(a>c||a===c&&o>=l))return(i===f&&u(i)||function(e,t){var n=e.getFullYear(),r=new Date(n,2,1);if(u(n)&&e<r&&t>=r)return!0;var o=t.getFullYear(),a=new Date(o,2,1);return u(o)&&t>=a&&e<a}(e,t)||1===c&&29===l)&&(d=366),s(e,t)/d;var h=f-i+1,p=(new Date(f+1,0,1)-new Date(i,0,1))/1e3/60/60/24/h;return s(e,t)/p;case 2:return s(e,t)/360;case 3:return s(e,t)/365;case 4:return(l+30*c+360*f-(o+30*a+360*i))/360}}}(dh);var hh=zd,ph=Wd,mh=ch,gh=dh;function vh(e,t){if(t)for(var n in t)e[n]=t[n];return e}jd.BETADIST=ph.BETA.DIST,jd.BETAINV=ph.BETA.INV,jd.BINOMDIST=ph.BINOM.DIST,jd.CEILING=jd.ISOCEILING=vh(hh.CEILING.MATH,hh.CEILING),jd.CEILINGMATH=hh.CEILING.MATH,jd.CEILINGPRECISE=hh.CEILING.PRECISE,jd.CHIDIST=ph.CHISQ.DIST,jd.CHIDISTRT=ph.CHISQ.DIST.RT,jd.CHIINV=ph.CHISQ.INV,jd.CHIINVRT=ph.CHISQ.INV.RT,jd.CHITEST=ph.CHISQ.TEST,jd.CONFIDENCE=vh(ph.CONFIDENCE.NORM,ph.CONFIDENCE),jd.COVAR=ph.COVARIANCE.P,jd.COVARIANCEP=ph.COVARIANCE.P,jd.COVARIANCES=ph.COVARIANCE.S,jd.CRITBINOM=ph.BINOM.INV,jd.EXPONDIST=ph.EXPON.DIST,jd.ERFCPRECISE=mh.ERFC.PRECISE,jd.ERFPRECISE=mh.ERF.PRECISE,jd.FDIST=ph.F.DIST,jd.FDISTRT=ph.F.DIST.RT,jd.FINVRT=ph.F.INV.RT,jd.FINV=ph.F.INV,jd.FLOOR=vh(hh.FLOOR.MATH,hh.FLOOR),jd.FLOORMATH=hh.FLOOR.MATH,jd.FLOORPRECISE=hh.FLOOR.PRECISE,jd.FTEST=ph.F.TEST,jd.GAMMADIST=ph.GAMMA.DIST,jd.GAMMAINV=ph.GAMMA.INV,jd.GAMMALNPRECISE=ph.GAMMALN.PRECISE,jd.HYPGEOMDIST=ph.HYPGEOM.DIST,jd.LOGINV=ph.LOGNORM.INV,jd.LOGNORMINV=ph.LOGNORM.INV,jd.LOGNORMDIST=ph.LOGNORM.DIST,jd.MODE=vh(ph.MODE.SNGL,ph.MODE),jd.MODEMULT=ph.MODE.MULT,jd.MODESNGL=ph.MODE.SNGL,jd.NEGBINOMDIST=ph.NEGBINOM.DIST,jd.NETWORKDAYSINTL=gh.NETWORKDAYS.INTL,jd.NORMDIST=ph.NORM.DIST,jd.NORMINV=ph.NORM.INV,jd.NORMSDIST=ph.NORM.S.DIST,jd.NORMSINV=ph.NORM.S.INV,jd.PERCENTILE=vh(ph.PERCENTILE.EXC,ph.PERCENTILE),jd.PERCENTILEEXC=ph.PERCENTILE.EXC,jd.PERCENTILEINC=ph.PERCENTILE.INC,jd.PERCENTRANK=vh(ph.PERCENTRANK.INC,ph.PERCENTRANK),jd.PERCENTRANKEXC=ph.PERCENTRANK.EXC,jd.PERCENTRANKINC=ph.PERCENTRANK.INC,jd.POISSON=vh(ph.POISSON.DIST,ph.POISSON),jd.POISSONDIST=ph.POISSON.DIST,jd.QUARTILE=vh(ph.QUARTILE.INC,ph.QUARTILE),jd.QUARTILEEXC=ph.QUARTILE.EXC,jd.QUARTILEINC=ph.QUARTILE.INC,jd.RANK=vh(ph.RANK.EQ,ph.RANK),jd.RANKAVG=ph.RANK.AVG,jd.RANKEQ=ph.RANK.EQ,jd.SKEWP=ph.SKEW.P,jd.STDEV=vh(ph.STDEV.S,ph.STDEV),jd.STDEVP=ph.STDEV.P,jd.STDEVS=ph.STDEV.S,jd.TDIST=ph.T.DIST,jd.TDISTRT=ph.T.DIST.RT,jd.TINV=ph.T.INV,jd.TTEST=ph.T.TEST,jd.VAR=vh(ph.VAR.S,ph.VAR),jd.VARP=ph.VAR.P,jd.VARS=ph.VAR.S,jd.WEIBULL=vh(ph.WEIBULL.DIST,ph.WEIBULL),jd.WEIBULLDIST=ph.WEIBULL.DIST,jd.WORKDAYINTL=gh.WORKDAY.INTL,jd.ZTEST=ph.Z.TEST;var yh={};!function(e){var t=Xd,n=Wd,r=zd,o=Gd,a=Jd;function i(e){var t=[];return o.arrayEach(e,(function(e){e&&t.push(e)})),t}function u(e,t){for(var n={},r=1;r<e[0].length;++r)n[r]=!0;var o=t[0].length;for(r=1;r<t.length;++r)t[r].length>o&&(o=t[r].length);for(var i=1;i<e.length;++i)for(var u=1;u<e[i].length;++u){for(var s=!1,l=!1,c=0;c<t.length;++c){var f=t[c];if(!(f.length<o)){var d=f[0];if(e[i][0]===d){l=!0;for(var h=1;h<f.length;++h){if(!s)if(void 0===f[h]||"*"===f[h])s=!0;else{var p=a.parse(f[h]+""),m=[a.createToken(e[i][u],a.TOKEN_TYPE_LITERAL)].concat(p);s=a.compute(m)}}}}}l&&(n[u]=n[u]&&s)}for(var g=[],v=0;v<e[0].length;++v)n[v]&&g.push(v-1);return g}e.FINDFIELD=function(e,n){var r=null;return o.arrayEach(e,(function(e,t){if(e[0]===n)return r=t,!1})),null==r?t.value:r},e.DAVERAGE=function(n,r,a){if(isNaN(r)&&"string"!=typeof r)return t.value;var i=u(n,a),s=[];if("string"==typeof r){var l=e.FINDFIELD(n,r);s=o.rest(n[l])}else s=o.rest(n[r]);var c=0;return o.arrayEach(i,(function(e){c+=s[e]})),0===i.length?t.div0:c/i.length},e.DCOUNT=function(r,a,i){if(isNaN(a)&&"string"!=typeof a)return t.value;var s=u(r,i),l=[];if("string"==typeof a){var c=e.FINDFIELD(r,a);l=o.rest(r[c])}else l=o.rest(r[a]);var f=[];return o.arrayEach(s,(function(e){f.push(l[e])})),n.COUNT(f)},e.DCOUNTA=function(r,a,i){if(isNaN(a)&&"string"!=typeof a)return t.value;var s=u(r,i),l=[];if("string"==typeof a){var c=e.FINDFIELD(r,a);l=o.rest(r[c])}else l=o.rest(r[a]);var f=[];return o.arrayEach(s,(function(e){f.push(l[e])})),n.COUNTA(f)},e.DGET=function(n,r,a){if(isNaN(r)&&"string"!=typeof r)return t.value;var i=u(n,a),s=[];if("string"==typeof r){var l=e.FINDFIELD(n,r);s=o.rest(n[l])}else s=o.rest(n[r]);return 0===i.length?t.value:i.length>1?t.num:s[i[0]]},e.DMAX=function(n,r,a){if(isNaN(r)&&"string"!=typeof r)return t.value;var i=u(n,a),s=[];if("string"==typeof r){var l=e.FINDFIELD(n,r);s=o.rest(n[l])}else s=o.rest(n[r]);var c=s[i[0]];return o.arrayEach(i,(function(e){c<s[e]&&(c=s[e])})),c},e.DMIN=function(n,r,a){if(isNaN(r)&&"string"!=typeof r)return t.value;var i=u(n,a),s=[];if("string"==typeof r){var l=e.FINDFIELD(n,r);s=o.rest(n[l])}else s=o.rest(n[r]);var c=s[i[0]];return o.arrayEach(i,(function(e){c>s[e]&&(c=s[e])})),c},e.DPRODUCT=function(n,r,a){if(isNaN(r)&&"string"!=typeof r)return t.value;var s=u(n,a),l=[];if("string"==typeof r){var c=e.FINDFIELD(n,r);l=o.rest(n[c])}else l=o.rest(n[r]);var f=[];o.arrayEach(s,(function(e){f.push(l[e])})),f=i(f);var d=1;return o.arrayEach(f,(function(e){d*=e})),d},e.DSTDEV=function(r,a,s){if(isNaN(a)&&"string"!=typeof a)return t.value;var l=u(r,s),c=[];if("string"==typeof a){var f=e.FINDFIELD(r,a);c=o.rest(r[f])}else c=o.rest(r[a]);var d=[];return o.arrayEach(l,(function(e){d.push(c[e])})),d=i(d),n.STDEV.S(d)},e.DSTDEVP=function(r,a,s){if(isNaN(a)&&"string"!=typeof a)return t.value;var l=u(r,s),c=[];if("string"==typeof a){var f=e.FINDFIELD(r,a);c=o.rest(r[f])}else c=o.rest(r[a]);var d=[];return o.arrayEach(l,(function(e){d.push(c[e])})),d=i(d),n.STDEV.P(d)},e.DSUM=function(n,a,i){if(isNaN(a)&&"string"!=typeof a)return t.value;var s=u(n,i),l=[];if("string"==typeof a){var c=e.FINDFIELD(n,a);l=o.rest(n[c])}else l=o.rest(n[a]);var f=[];return o.arrayEach(s,(function(e){f.push(l[e])})),r.SUM(f)},e.DVAR=function(r,a,i){if(isNaN(a)&&"string"!=typeof a)return t.value;var s=u(r,i),l=[];if("string"==typeof a){var c=e.FINDFIELD(r,a);l=o.rest(r[c])}else l=o.rest(r[a]);var f=[];return o.arrayEach(s,(function(e){f.push(l[e])})),n.VAR.S(f)},e.DVARP=function(r,a,i){if(isNaN(a)&&"string"!=typeof a)return t.value;var s=u(r,i),l=[];if("string"==typeof a){var c=e.FINDFIELD(r,a);l=o.rest(r[c])}else l=o.rest(r[a]);var f=[];return o.arrayEach(s,(function(e){f.push(l[e])})),n.VAR.P(f)}}(yh);var bh={},_h=Xd,wh=Gd,Eh=lh;bh.AND=function(){for(var e=wh.flatten(arguments),t=!0,n=0;n<e.length;n++)e[n]||(t=!1);return t},bh.CHOOSE=function(){if(arguments.length<2)return _h.na;var e=arguments[0];return e<1||e>254||arguments.length<e+1?_h.value:arguments[e]},bh.FALSE=function(){return!1},bh.IF=function(e,t,n){return e?t:n},bh.IFERROR=function(e,t){return Eh.ISERROR(e)?t:e},bh.IFNA=function(e,t){return e===_h.na?t:e},bh.NOT=function(e){return!e},bh.OR=function(){for(var e=wh.flatten(arguments),t=!1,n=0;n<e.length;n++)e[n]&&(t=!0);return t},bh.TRUE=function(){return!0},bh.XOR=function(){for(var e=wh.flatten(arguments),t=0,n=0;n<e.length;n++)e[n]&&t++;return!!(1&Math.floor(Math.abs(t)))},bh.SWITCH=function(){var e;if(arguments.length>0){var t=arguments[0],n=arguments.length-1,r=Math.floor(n/2),o=!1,a=n%2!=0,i=n%2==0?null:arguments[arguments.length-1];if(r)for(var u=0;u<r;u++)if(t===arguments[2*u+1]){e=arguments[2*u+2],o=!0;break}o||(e=a?i:_h.na)}else e=_h.value;return e};var Nh={};!function(e){var t=Xd,n=dh,r=Gd;function o(e){return e&&e.getTime&&!isNaN(e.getTime())}function a(e){return e instanceof Date?e:new Date(e)}e.ACCRINT=function(e,r,i,u,s,l,c){return e=a(e),r=a(r),i=a(i),o(e)&&o(r)&&o(i)?u<=0||s<=0||-1===[1,2,4].indexOf(l)||-1===[0,1,2,3,4].indexOf(c)||i<=e?t.num:(c=c||0,(s=s||0)*u*n.YEARFRAC(e,i,c)):t.value},e.ACCRINTM=function(){throw new Error("ACCRINTM is not implemented")},e.AMORDEGRC=function(){throw new Error("AMORDEGRC is not implemented")},e.AMORLINC=function(){throw new Error("AMORLINC is not implemented")},e.COUPDAYBS=function(){throw new Error("COUPDAYBS is not implemented")},e.COUPDAYS=function(){throw new Error("COUPDAYS is not implemented")},e.COUPDAYSNC=function(){throw new Error("COUPDAYSNC is not implemented")},e.COUPNCD=function(){throw new Error("COUPNCD is not implemented")},e.COUPNUM=function(){throw new Error("COUPNUM is not implemented")},e.COUPPCD=function(){throw new Error("COUPPCD is not implemented")},e.CUMIPMT=function(n,o,a,i,u,s){if(n=r.parseNumber(n),o=r.parseNumber(o),a=r.parseNumber(a),r.anyIsError(n,o,a))return t.value;if(n<=0||o<=0||a<=0)return t.num;if(i<1||u<1||i>u)return t.num;if(0!==s&&1!==s)return t.num;var l=e.PMT(n,o,a,0,s),c=0;1===i&&0===s&&(c=-a,i++);for(var f=i;f<=u;f++)c+=1===s?e.FV(n,f-2,l,a,1)-l:e.FV(n,f-1,l,a,0);return c*=n},e.CUMPRINC=function(n,o,a,i,u,s){if(n=r.parseNumber(n),o=r.parseNumber(o),a=r.parseNumber(a),r.anyIsError(n,o,a))return t.value;if(n<=0||o<=0||a<=0)return t.num;if(i<1||u<1||i>u)return t.num;if(0!==s&&1!==s)return t.num;var l=e.PMT(n,o,a,0,s),c=0;1===i&&(c=0===s?l+a*n:l,i++);for(var f=i;f<=u;f++)c+=s>0?l-(e.FV(n,f-2,l,a,1)-l)*n:l-e.FV(n,f-1,l,a,0)*n;return c},e.DB=function(e,n,o,a,i){if(i=void 0===i?12:i,e=r.parseNumber(e),n=r.parseNumber(n),o=r.parseNumber(o),a=r.parseNumber(a),i=r.parseNumber(i),r.anyIsError(e,n,o,a,i))return t.value;if(e<0||n<0||o<0||a<0)return t.num;if(-1===[1,2,3,4,5,6,7,8,9,10,11,12].indexOf(i))return t.num;if(a>o)return t.num;if(n>=e)return 0;for(var u=(1-Math.pow(n/e,1/o)).toFixed(3),s=e*u*i/12,l=s,c=0,f=a===o?o-1:a,d=2;d<=f;d++)l+=c=(e-l)*u;return 1===a?s:a===o?(e-l)*u:c},e.DDB=function(e,n,o,a,i){if(i=void 0===i?2:i,e=r.parseNumber(e),n=r.parseNumber(n),o=r.parseNumber(o),a=r.parseNumber(a),i=r.parseNumber(i),r.anyIsError(e,n,o,a,i))return t.value;if(e<0||n<0||o<0||a<0||i<=0)return t.num;if(a>o)return t.num;if(n>=e)return 0;for(var u=0,s=0,l=1;l<=a;l++)u+=s=Math.min(i/o*(e-u),e-n-u);return s},e.DISC=function(){throw new Error("DISC is not implemented")},e.DOLLARDE=function(e,n){if(e=r.parseNumber(e),n=r.parseNumber(n),r.anyIsError(e,n))return t.value;if(n<0)return t.num;if(n>=0&&n<1)return t.div0;n=parseInt(n,10);var o=parseInt(e,10);o+=e%1*Math.pow(10,Math.ceil(Math.log(n)/Math.LN10))/n;var a=Math.pow(10,Math.ceil(Math.log(n)/Math.LN2)+1);return o=Math.round(o*a)/a},e.DOLLARFR=function(e,n){if(e=r.parseNumber(e),n=r.parseNumber(n),r.anyIsError(e,n))return t.value;if(n<0)return t.num;if(n>=0&&n<1)return t.div0;n=parseInt(n,10);var o=parseInt(e,10);return o+=e%1*Math.pow(10,-Math.ceil(Math.log(n)/Math.LN10))*n},e.DURATION=function(){throw new Error("DURATION is not implemented")},e.EFFECT=function(e,n){return e=r.parseNumber(e),n=r.parseNumber(n),r.anyIsError(e,n)?t.value:e<=0||n<1?t.num:(n=parseInt(n,10),Math.pow(1+e/n,n)-1)},e.FV=function(e,n,o,a,i){if(a=a||0,i=i||0,e=r.parseNumber(e),n=r.parseNumber(n),o=r.parseNumber(o),a=r.parseNumber(a),i=r.parseNumber(i),r.anyIsError(e,n,o,a,i))return t.value;var u;if(0===e)u=a+o*n;else{var s=Math.pow(1+e,n);u=1===i?a*s+o*(1+e)*(s-1)/e:a*s+o*(s-1)/e}return-u},e.FVSCHEDULE=function(e,n){if(e=r.parseNumber(e),n=r.parseNumberArray(r.flatten(n)),r.anyIsError(e,n))return t.value;for(var o=n.length,a=e,i=0;i<o;i++)a*=1+n[i];return a},e.INTRATE=function(){throw new Error("INTRATE is not implemented")},e.IPMT=function(n,o,a,i,u,s){if(u=u||0,s=s||0,n=r.parseNumber(n),o=r.parseNumber(o),a=r.parseNumber(a),i=r.parseNumber(i),u=r.parseNumber(u),s=r.parseNumber(s),r.anyIsError(n,o,a,i,u,s))return t.value;var l=e.PMT(n,a,i,u,s);return(1===o?1===s?0:-i:1===s?e.FV(n,o-2,l,i,1)-l:e.FV(n,o-1,l,i,0))*n},e.IRR=function(e,n){if(n=n||0,e=r.parseNumberArray(r.flatten(e)),n=r.parseNumber(n),r.anyIsError(e,n))return t.value;for(var o=function(e,t,n){for(var r=n+1,o=e[0],a=1;a<e.length;a++)o+=e[a]/Math.pow(r,(t[a]-t[0])/365);return o},a=function(e,t,n){for(var r=n+1,o=0,a=1;a<e.length;a++){var i=(t[a]-t[0])/365;o-=i*e[a]/Math.pow(r,i+1)}return o},i=[],u=!1,s=!1,l=0;l<e.length;l++)i[l]=0===l?0:i[l-1]+365,e[l]>0&&(u=!0),e[l]<0&&(s=!0);if(!u||!s)return t.num;var c,f,d,h=n=void 0===n?.1:n,p=!0;do{c=h-(d=o(e,i,h))/a(e,i,h),f=Math.abs(c-h),h=c,p=f>1e-10&&Math.abs(d)>1e-10}while(p);return h},e.ISPMT=function(e,n,o,a){return e=r.parseNumber(e),n=r.parseNumber(n),o=r.parseNumber(o),a=r.parseNumber(a),r.anyIsError(e,n,o,a)?t.value:a*e*(n/o-1)},e.MDURATION=function(){throw new Error("MDURATION is not implemented")},e.MIRR=function(n,o,a){if(n=r.parseNumberArray(r.flatten(n)),o=r.parseNumber(o),a=r.parseNumber(a),r.anyIsError(n,o,a))return t.value;for(var i=n.length,u=[],s=[],l=0;l<i;l++)n[l]<0?u.push(n[l]):s.push(n[l]);var c=-e.NPV(a,s)*Math.pow(1+a,i-1),f=e.NPV(o,u)*(1+o);return Math.pow(c/f,1/(i-1))-1},e.NOMINAL=function(e,n){return e=r.parseNumber(e),n=r.parseNumber(n),r.anyIsError(e,n)?t.value:e<=0||n<1?t.num:(n=parseInt(n,10),(Math.pow(e+1,1/n)-1)*n)},e.NPER=function(e,n,o,a,i){if(i=void 0===i?0:i,a=void 0===a?0:a,e=r.parseNumber(e),n=r.parseNumber(n),o=r.parseNumber(o),a=r.parseNumber(a),i=r.parseNumber(i),r.anyIsError(e,n,o,a,i))return t.value;var u=n*(1+e*i)-a*e,s=o*e+n*(1+e*i);return Math.log(u/s)/Math.log(1+e)},e.NPV=function(){var e=r.parseNumberArray(r.flatten(arguments));if(e instanceof Error)return e;for(var t=e[0],n=0,o=1;o<e.length;o++)n+=e[o]/Math.pow(1+t,o);return n},e.ODDFPRICE=function(){throw new Error("ODDFPRICE is not implemented")},e.ODDFYIELD=function(){throw new Error("ODDFYIELD is not implemented")},e.ODDLPRICE=function(){throw new Error("ODDLPRICE is not implemented")},e.ODDLYIELD=function(){throw new Error("ODDLYIELD is not implemented")},e.PDURATION=function(e,n,o){return e=r.parseNumber(e),n=r.parseNumber(n),o=r.parseNumber(o),r.anyIsError(e,n,o)?t.value:e<=0?t.num:(Math.log(o)-Math.log(n))/Math.log(1+e)},e.PMT=function(e,n,o,a,i){if(a=a||0,i=i||0,e=r.parseNumber(e),n=r.parseNumber(n),o=r.parseNumber(o),a=r.parseNumber(a),i=r.parseNumber(i),r.anyIsError(e,n,o,a,i))return t.value;var u;if(0===e)u=(o+a)/n;else{var s=Math.pow(1+e,n);u=1===i?(a*e/(s-1)+o*e/(1-1/s))/(1+e):a*e/(s-1)+o*e/(1-1/s)}return-u},e.PPMT=function(n,o,a,i,u,s){return u=u||0,s=s||0,n=r.parseNumber(n),a=r.parseNumber(a),i=r.parseNumber(i),u=r.parseNumber(u),s=r.parseNumber(s),r.anyIsError(n,a,i,u,s)?t.value:e.PMT(n,a,i,u,s)-e.IPMT(n,o,a,i,u,s)},e.PRICE=function(){throw new Error("PRICE is not implemented")},e.PRICEDISC=function(){throw new Error("PRICEDISC is not implemented")},e.PRICEMAT=function(){throw new Error("PRICEMAT is not implemented")},e.PV=function(e,n,o,a,i){return a=a||0,i=i||0,e=r.parseNumber(e),n=r.parseNumber(n),o=r.parseNumber(o),a=r.parseNumber(a),i=r.parseNumber(i),r.anyIsError(e,n,o,a,i)?t.value:0===e?-o*n-a:((1-Math.pow(1+e,n))/e*o*(1+e*i)-a)/Math.pow(1+e,n)},e.RATE=function(e,n,o,a,i,u){if(u=void 0===u?.01:u,a=void 0===a?0:a,i=void 0===i?0:i,e=r.parseNumber(e),n=r.parseNumber(n),o=r.parseNumber(o),a=r.parseNumber(a),i=r.parseNumber(i),u=r.parseNumber(u),r.anyIsError(e,n,o,a,i,u))return t.value;var s,l,c,f=1e-10,d=0,h=0,p=0,m=u;for(Math.abs(m)<f?o*(1+e*m)+n*(1+m*i)*e+a:o*(h=Math.exp(e*Math.log(1+m)))+n*(1/m+i)*(h-1)+a,s=o+n*e+a,l=o*h+n*(1/m+i)*(h-1)+a,p=c=0,d=m;Math.abs(s-l)>f&&p<50;)m=(l*c-s*d)/(l-s),c=d,d=m,s=l,l=Math.abs(m)<f?o*(1+e*m)+n*(1+m*i)*e+a:o*(h=Math.exp(e*Math.log(1+m)))+n*(1/m+i)*(h-1)+a,++p;return m},e.RECEIVED=function(){throw new Error("RECEIVED is not implemented")},e.RRI=function(e,n,o){return e=r.parseNumber(e),n=r.parseNumber(n),o=r.parseNumber(o),r.anyIsError(e,n,o)?t.value:0===e||0===n?t.num:Math.pow(o/n,1/e)-1},e.SLN=function(e,n,o){return e=r.parseNumber(e),n=r.parseNumber(n),o=r.parseNumber(o),r.anyIsError(e,n,o)?t.value:0===o?t.num:(e-n)/o},e.SYD=function(e,n,o,a){return e=r.parseNumber(e),n=r.parseNumber(n),o=r.parseNumber(o),a=r.parseNumber(a),r.anyIsError(e,n,o,a)?t.value:0===o||a<1||a>o?t.num:(e-n)*(o-(a=parseInt(a,10))+1)*2/(o*(o+1))},e.TBILLEQ=function(e,o,a){return e=r.parseDate(e),o=r.parseDate(o),a=r.parseNumber(a),r.anyIsError(e,o,a)?t.value:a<=0||e>o||o-e>31536e6?t.num:365*a/(360-a*n.DAYS360(e,o,!1))},e.TBILLPRICE=function(e,o,a){return e=r.parseDate(e),o=r.parseDate(o),a=r.parseNumber(a),r.anyIsError(e,o,a)?t.value:a<=0||e>o||o-e>31536e6?t.num:100*(1-a*n.DAYS360(e,o,!1)/360)},e.TBILLYIELD=function(e,o,a){return e=r.parseDate(e),o=r.parseDate(o),a=r.parseNumber(a),r.anyIsError(e,o,a)?t.value:a<=0||e>o||o-e>31536e6?t.num:360*(100-a)/(a*n.DAYS360(e,o,!1))},e.VDB=function(){throw new Error("VDB is not implemented")},e.XNPV=function(e,o,a){if(e=r.parseNumber(e),o=r.parseNumberArray(r.flatten(o)),a=r.parseDateArray(r.flatten(a)),r.anyIsError(e,o,a))return t.value;for(var i=0,u=0;u<o.length;u++)i+=o[u]/Math.pow(1+e,n.DAYS(a[u],a[0])/365);return i},e.YIELD=function(){throw new Error("YIELD is not implemented")},e.YIELDDISC=function(){throw new Error("YIELDDISC is not implemented")},e.YIELDMAT=function(){throw new Error("YIELDMAT is not implemented")}}(Nh);var Mh={},xh=Xd,Ih=Gd;Mh.MATCH=function(e,t,n){if(!e&&!t)return xh.na;if(2===arguments.length&&(n=1),!(t instanceof Array))return xh.na;if(-1!==n&&0!==n&&1!==n)return xh.na;for(var r,o,a=0;a<t.length;a++)if(1===n){if(t[a]===e)return a+1;t[a]<e&&(o?t[a]>o&&(r=a+1,o=t[a]):(r=a+1,o=t[a]))}else if(0===n){if("string"==typeof e){if(e=e.replace(/\?/g,"."),t[a].toLowerCase().match(e.toLowerCase()))return a+1}else if(t[a]===e)return a+1}else if(-1===n){if(t[a]===e)return a+1;t[a]>e&&(o?t[a]<o&&(r=a+1,o=t[a]):(r=a+1,o=t[a]))}return r||xh.na},Mh.VLOOKUP=function(e,t,n,r){if(!e||!t||!n)return xh.na;r=r||!1;for(var o=0;o<t.length;o++){var a=t[o];if(!r&&a[0]===e||a[0]===e||r&&"string"==typeof a[0]&&-1!==a[0].toLowerCase().indexOf(e.toLowerCase()))return n<a.length+1?a[n-1]:xh.ref}return xh.na},Mh.HLOOKUP=function(e,t,n,r){if(!e||!t||!n)return xh.na;r=r||!1;for(var o=Ih.transpose(t),a=0;a<o.length;a++){var i=o[a];if(!r&&i[0]===e||i[0]===e||r&&"string"==typeof i[0]&&-1!==i[0].toLowerCase().indexOf(e.toLowerCase()))return n<i.length+1?i[n-1]:xh.ref}return xh.na},function(e){var t=[jd,yh,ch,bh,zd,Kd,dh,Nh,lh,Mh,Wd,ih];for(var n in t){var r=t[n];for(var o in r)e[o]=e[o]||r[o]}}(Bd);var Ah=["ABS","ACCRINT","ACOS","ACOSH","ACOT","ACOTH","ADD","AGGREGATE","AND","ARABIC","ARGS2ARRAY","ASIN","ASINH","ATAN","ATAN2","ATANH","AVEDEV","AVERAGE","AVERAGEA","AVERAGEIF","AVERAGEIFS","BASE","BESSELI","BESSELJ","BESSELK","BESSELY","BETA.DIST","BETA.INV","BETADIST","BETAINV","BIN2DEC","BIN2HEX","BIN2OCT","BINOM.DIST","BINOM.DIST.RANGE","BINOM.INV","BINOMDIST","BITAND","BITLSHIFT","BITOR","BITRSHIFT","BITXOR","CEILING","CEILINGMATH","CEILINGPRECISE","CHAR","CHISQ.DIST","CHISQ.DIST.RT","CHISQ.INV","CHISQ.INV.RT","CHOOSE","CHOOSE","CLEAN","CODE","COLUMN","COLUMNS","COMBIN","COMBINA","COMPLEX","CONCATENATE","CONFIDENCE","CONFIDENCE.NORM","CONFIDENCE.T","CONVERT","CORREL","COS","COSH","COT","COTH","COUNT","COUNTA","COUNTBLANK","COUNTIF","COUNTIFS","COUNTIN","COUNTUNIQUE","COVARIANCE.P","COVARIANCE.S","CSC","CSCH","CUMIPMT","CUMPRINC","DATE","DATEVALUE","DAY","DAYS","DAYS360","DB","DDB","DEC2BIN","DEC2HEX","DEC2OCT","DECIMAL","DEGREES","DELTA","DEVSQ","DIVIDE","DOLLARDE","DOLLARFR","E","EDATE","EFFECT","EOMONTH","EQ","ERF","ERFC","EVEN","EXACT","EXP","EXPON.DIST","EXPONDIST","F.DIST","F.DIST.RT","F.INV","F.INV.RT","FACT","FACTDOUBLE","FALSE","FDIST","FDISTRT","FIND","FINV","FINVRT","FISHER","FISHERINV","FLATTEN","FLOOR","FORECAST","FREQUENCY","FV","FVSCHEDULE","GAMMA","GAMMA.DIST","GAMMA.INV","GAMMADIST","GAMMAINV","GAMMALN","GAMMALN.PRECISE","GAUSS","GCD","GEOMEAN","GESTEP","GROWTH","GTE","HARMEAN","HEX2BIN","HEX2DEC","HEX2OCT","HOUR","HTML2TEXT","HYPGEOM.DIST","HYPGEOMDIST","IF","IMABS","IMAGINARY","IMARGUMENT","IMCONJUGATE","IMCOS","IMCOSH","IMCOT","IMCSC","IMCSCH","IMDIV","IMEXP","IMLN","IMLOG10","IMLOG2","IMPOWER","IMPRODUCT","IMREAL","IMSEC","IMSECH","IMSIN","IMSINH","IMSQRT","IMSUB","IMSUM","IMTAN","INT","INTERCEPT","INTERVAL","IPMT","IRR","ISBINARY","ISBLANK","ISEVEN","ISLOGICAL","ISNONTEXT","ISNUMBER","ISODD","ISODD","ISOWEEKNUM","ISPMT","ISTEXT","JOIN","KURT","LARGE","LCM","LEFT","LEN","LINEST","LN","LOG","LOG10","LOGEST","LOGNORM.DIST","LOGNORM.INV","LOGNORMDIST","LOGNORMINV","LOWER","LT","LTE","MATCH","MAX","MAXA","MEDIAN","MID","MIN","MINA","MINUS","MINUTE","MIRR","MOD","MODE.MULT","MODE.SNGL","MODEMULT","MODESNGL","MONTH","MROUND","MULTINOMIAL","MULTIPLY","NE","NEGBINOM.DIST","NEGBINOMDIST","NETWORKDAYS","NOMINAL","NORM.DIST","NORM.INV","NORM.S.DIST","NORM.S.INV","NORMDIST","NORMINV","NORMSDIST","NORMSINV","NOT","NOW","NPER","NPV","NUMBERS","OCT2BIN","OCT2DEC","OCT2HEX","ODD","OR","PDURATION","PEARSON","PERCENTILEEXC","PERCENTILEINC","PERCENTRANKEXC","PERCENTRANKINC","PERMUT","PERMUTATIONA","PHI","PI","PMT","POISSON.DIST","POISSONDIST","POW","POWER","PPMT","PROB","PRODUCT","PROPER","PV","QUARTILE.EXC","QUARTILE.INC","QUARTILEEXC","QUARTILEINC","QUOTIENT","RADIANS","RAND","RANDBETWEEN","RANK.AVG","RANK.EQ","RANKAVG","RANKEQ","RATE","REFERENCE","REGEXEXTRACT","REGEXMATCH","REGEXREPLACE","REPLACE","REPT","RIGHT","ROMAN","ROUND","ROUNDDOWN","ROUNDUP","ROW","ROWS","RRI","RSQ","SEARCH","SEC","SECH","SECOND","SERIESSUM","SIGN","SIN","SINH","SKEW","SKEW.P","SKEWP","SLN","SLOPE","SMALL","SPLIT","SPLIT","SQRT","SQRTPI","STANDARDIZE","STDEV.P","STDEV.S","STDEVA","STDEVP","STDEVPA","STDEVS","STEYX","SUBSTITUTE","SUBTOTAL","SUM","SUMIF","SUMIFS","SUMPRODUCT","SUMSQ","SUMX2MY2","SUMX2PY2","SUMXMY2","SWITCH","SYD","T","T.DIST","T.DIST.2T","T.DIST.RT","T.INV","T.INV.2T","TAN","TANH","TBILLEQ","TBILLPRICE","TBILLYIELD","TDIST","TDIST2T","TDISTRT","TIME","TIMEVALUE","TINV","TINV2T","TODAY","TRANSPOSE","TREND","TRIM","TRIMMEAN","TRUE","TRUNC","UNICHAR","UNICODE","UNIQUE","UPPER","VAR.P","VAR.S","VARA","VARP","VARPA","VARS","WEEKDAY","WEEKNUM","WEIBULL.DIST","WEIBULLDIST","WORKDAY","XIRR","XNPV","XOR","YEAR","YEARFRAC"];function Ch(e){return function(){var t,n=(e=e.toUpperCase()).split("."),r=!1;if(1===n.length)Bd[n[0]]&&(r=!0,t=Bd[n[0]].apply(Bd,arguments));else{for(var o=n.length,a=0,i=Bd;a<o;)if(i=i[n[a]],a++,!i){i=null;break}i&&(r=!0,t=i.apply(void 0,arguments))}if(!r)throw Error(Fd);return t}}Ch.isFactory=!0,Ch.SYMBOL=Ah;function Sh(e,t){return e>t}Sh.SYMBOL=">";function Th(e,t){return e>=t}Th.SYMBOL=">=";function Dh(e,t){return e<t}Dh.SYMBOL="<";function Oh(e,t){return e<=t}Oh.SYMBOL="<=";function Rh(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=n.reduce((function(e,t){return e-Dd(t)}),Dd(e));if(isNaN(o))throw Error(Pd);return o}Rh.SYMBOL="-";function kh(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=n.reduce((function(e,t){return e*Dd(t)}),Dd(e));if(isNaN(o))throw Error(Pd);return o}kh.SYMBOL="*";function Lh(e,t){return e!==t}Lh.SYMBOL="<>";function Fh(e,t){var n=Math.pow(Dd(e),Dd(t));if(isNaN(n))throw Error(Pd);return n}function Ph(e){return function(e){if(Array.isArray(e))return Uh(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Uh(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Uh(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Uh(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Fh.SYMBOL="^";var Yh=Object.create(null);function Vh(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(e=e.toUpperCase(),!Yh[e])throw Error(Fd);return Yh[e].apply(Yh,Ph(t))}function $h(e,t){Array.isArray(e)||(e=[e.toUpperCase()]),e.forEach((function(e){t.isFactory?Yh[e]=t(e):Yh[e]=t}))}$h(Vd.SYMBOL,Vd),$h($d.SYMBOL,$d),$h(Hd.SYMBOL,Hd),$h(qd.SYMBOL,qd),$h(Fh.SYMBOL,Fh),$h(Ch.SYMBOL,Ch),$h(Sh.SYMBOL,Sh),$h(Th.SYMBOL,Th),$h(Dh.SYMBOL,Dh),$h(Oh.SYMBOL,Oh),$h(kh.SYMBOL,kh),$h(Lh.SYMBOL,Lh),$h(Rh.SYMBOL,Rh);var Hh=function(e,t,n,r){for(n=n||{},r=e.length;r--;n[e[r]]=t);return n},qh=[1,5],Bh=[1,8],jh=[1,6],zh=[1,7],Gh=[1,9],Xh=[1,14],Wh=[1,15],Kh=[1,16],Qh=[1,12],Zh=[1,13],Jh=[1,17],ep=[1,19],tp=[1,20],np=[1,21],rp=[1,22],op=[1,23],ap=[1,24],ip=[1,25],up=[1,26],sp=[1,27],lp=[1,28],cp=[5,9,10,11,13,14,15,16,17,18,19,20,29,30],fp=[5,9,10,11,13,14,15,16,17,18,19,20,29,30,32],dp=[5,9,10,11,13,14,15,16,17,18,19,20,29,30,34],hp=[5,10,11,13,14,15,16,17,29,30],pp=[5,10,13,14,15,16,29,30],mp=[5,10,11,13,14,15,16,17,18,19,29,30],gp=[13,29,30],vp={trace:function(){},yy:{},symbols_:{error:2,expressions:3,expression:4,EOF:5,variableSequence:6,number:7,STRING:8,"&":9,"=":10,"+":11,"(":12,")":13,"<":14,">":15,NOT:16,"-":17,"*":18,"/":19,"^":20,FUNCTION:21,expseq:22,cell:23,ABSOLUTE_CELL:24,RELATIVE_CELL:25,MIXED_CELL:26,":":27,ARRAY:28,";":29,",":30,VARIABLE:31,DECIMAL:32,NUMBER:33,"%":34,ERROR:35,$accept:0,$end:1},terminals_:{5:"EOF",8:"STRING",9:"&",10:"=",11:"+",12:"(",13:")",14:"<",15:">",16:"NOT",17:"-",18:"*",19:"/",20:"^",21:"FUNCTION",24:"ABSOLUTE_CELL",25:"RELATIVE_CELL",26:"MIXED_CELL",27:":",28:"ARRAY",29:";",30:",",31:"VARIABLE",32:"DECIMAL",33:"NUMBER",34:"%",35:"ERROR"},productions_:[0,[3,2],[4,1],[4,1],[4,1],[4,3],[4,3],[4,3],[4,3],[4,4],[4,4],[4,4],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,2],[4,2],[4,3],[4,4],[4,1],[4,1],[4,2],[23,1],[23,1],[23,1],[23,3],[23,3],[23,3],[23,3],[23,3],[23,3],[23,3],[23,3],[23,3],[22,1],[22,1],[22,3],[22,3],[6,1],[6,3],[7,1],[7,3],[7,2],[2,1]],performAction:function(e,t,n,r,o,a,i){var u=a.length-1;switch(o){case 1:return a[u-1];case 2:this.$=r.callVariable(a[u][0]);break;case 3:this.$=r.toNumber(a[u]);break;case 4:this.$=r.trimEdges(a[u]);break;case 5:this.$=r.evaluateByOperator("&",[a[u-2],a[u]]);break;case 6:this.$=r.evaluateByOperator("=",[a[u-2],a[u]]);break;case 7:this.$=r.evaluateByOperator("+",[a[u-2],a[u]]);break;case 8:this.$=a[u-1];break;case 9:this.$=r.evaluateByOperator("<=",[a[u-3],a[u]]);break;case 10:this.$=r.evaluateByOperator(">=",[a[u-3],a[u]]);break;case 11:this.$=r.evaluateByOperator("<>",[a[u-3],a[u]]);break;case 12:this.$=r.evaluateByOperator("NOT",[a[u-2],a[u]]);break;case 13:this.$=r.evaluateByOperator(">",[a[u-2],a[u]]);break;case 14:this.$=r.evaluateByOperator("<",[a[u-2],a[u]]);break;case 15:this.$=r.evaluateByOperator("-",[a[u-2],a[u]]);break;case 16:this.$=r.evaluateByOperator("*",[a[u-2],a[u]]);break;case 17:this.$=r.evaluateByOperator("/",[a[u-2],a[u]]);break;case 18:this.$=r.evaluateByOperator("^",[a[u-2],a[u]]);break;case 19:var s=r.invertNumber(a[u]);this.$=s,isNaN(this.$)&&(this.$=0);break;case 20:s=r.toNumber(a[u]);this.$=s,isNaN(this.$)&&(this.$=0);break;case 21:this.$=r.callFunction(a[u-2]);break;case 22:this.$=r.callFunction(a[u-3],a[u-1]);break;case 26:case 27:case 28:this.$=r.cellValue(a[u]);break;case 29:case 30:case 31:case 32:case 33:case 34:case 35:case 36:case 37:this.$=r.rangeValue(a[u-2],a[u]);break;case 38:case 42:this.$=[a[u]];break;case 39:this.$=r.trimEdges(e).split(",");break;case 40:case 41:a[u-2].push(a[u]),this.$=a[u-2];break;case 43:this.$=Array.isArray(a[u-2])?a[u-2]:[a[u-2]],this.$.push(a[u]);break;case 44:this.$=a[u];break;case 45:this.$=1*(a[u-2]+"."+a[u]);break;case 46:this.$=.01*a[u-1];break;case 47:this.$=r.throwError(a[u])}},table:[{2:11,3:1,4:2,6:3,7:4,8:qh,11:Bh,12:jh,17:zh,21:Gh,23:10,24:Xh,25:Wh,26:Kh,31:Qh,33:Zh,35:Jh},{1:[3]},{5:[1,18],9:ep,10:tp,11:np,14:rp,15:op,16:ap,17:ip,18:up,19:sp,20:lp},Hh(cp,[2,2],{32:[1,29]}),Hh(cp,[2,3],{34:[1,30]}),Hh(cp,[2,4]),{2:11,4:31,6:3,7:4,8:qh,11:Bh,12:jh,17:zh,21:Gh,23:10,24:Xh,25:Wh,26:Kh,31:Qh,33:Zh,35:Jh},{2:11,4:32,6:3,7:4,8:qh,11:Bh,12:jh,17:zh,21:Gh,23:10,24:Xh,25:Wh,26:Kh,31:Qh,33:Zh,35:Jh},{2:11,4:33,6:3,7:4,8:qh,11:Bh,12:jh,17:zh,21:Gh,23:10,24:Xh,25:Wh,26:Kh,31:Qh,33:Zh,35:Jh},{12:[1,34]},Hh(cp,[2,23]),Hh(cp,[2,24],{2:35,35:Jh}),Hh(fp,[2,42]),Hh(dp,[2,44],{32:[1,36]}),Hh(cp,[2,26],{27:[1,37]}),Hh(cp,[2,27],{27:[1,38]}),Hh(cp,[2,28],{27:[1,39]}),Hh([5,9,10,11,13,14,15,16,17,18,19,20,29,30,35],[2,47]),{1:[2,1]},{2:11,4:40,6:3,7:4,8:qh,11:Bh,12:jh,17:zh,21:Gh,23:10,24:Xh,25:Wh,26:Kh,31:Qh,33:Zh,35:Jh},{2:11,4:41,6:3,7:4,8:qh,11:Bh,12:jh,17:zh,21:Gh,23:10,24:Xh,25:Wh,26:Kh,31:Qh,33:Zh,35:Jh},{2:11,4:42,6:3,7:4,8:qh,11:Bh,12:jh,17:zh,21:Gh,23:10,24:Xh,25:Wh,26:Kh,31:Qh,33:Zh,35:Jh},{2:11,4:45,6:3,7:4,8:qh,10:[1,43],11:Bh,12:jh,15:[1,44],17:zh,21:Gh,23:10,24:Xh,25:Wh,26:Kh,31:Qh,33:Zh,35:Jh},{2:11,4:47,6:3,7:4,8:qh,10:[1,46],11:Bh,12:jh,17:zh,21:Gh,23:10,24:Xh,25:Wh,26:Kh,31:Qh,33:Zh,35:Jh},{2:11,4:48,6:3,7:4,8:qh,11:Bh,12:jh,17:zh,21:Gh,23:10,24:Xh,25:Wh,26:Kh,31:Qh,33:Zh,35:Jh},{2:11,4:49,6:3,7:4,8:qh,11:Bh,12:jh,17:zh,21:Gh,23:10,24:Xh,25:Wh,26:Kh,31:Qh,33:Zh,35:Jh},{2:11,4:50,6:3,7:4,8:qh,11:Bh,12:jh,17:zh,21:Gh,23:10,24:Xh,25:Wh,26:Kh,31:Qh,33:Zh,35:Jh},{2:11,4:51,6:3,7:4,8:qh,11:Bh,12:jh,17:zh,21:Gh,23:10,24:Xh,25:Wh,26:Kh,31:Qh,33:Zh,35:Jh},{2:11,4:52,6:3,7:4,8:qh,11:Bh,12:jh,17:zh,21:Gh,23:10,24:Xh,25:Wh,26:Kh,31:Qh,33:Zh,35:Jh},{31:[1,53]},Hh(dp,[2,46]),{9:ep,10:tp,11:np,13:[1,54],14:rp,15:op,16:ap,17:ip,18:up,19:sp,20:lp},Hh(hp,[2,19],{9:ep,18:up,19:sp,20:lp}),Hh(hp,[2,20],{9:ep,18:up,19:sp,20:lp}),{2:11,4:57,6:3,7:4,8:qh,11:Bh,12:jh,13:[1,55],17:zh,21:Gh,22:56,23:10,24:Xh,25:Wh,26:Kh,28:[1,58],31:Qh,33:Zh,35:Jh},Hh(cp,[2,25]),{33:[1,59]},{24:[1,60],25:[1,61],26:[1,62]},{24:[1,63],25:[1,64],26:[1,65]},{24:[1,66],25:[1,67],26:[1,68]},Hh(cp,[2,5]),Hh([5,10,13,29,30],[2,6],{9:ep,11:np,14:rp,15:op,16:ap,17:ip,18:up,19:sp,20:lp}),Hh(hp,[2,7],{9:ep,18:up,19:sp,20:lp}),{2:11,4:69,6:3,7:4,8:qh,11:Bh,12:jh,17:zh,21:Gh,23:10,24:Xh,25:Wh,26:Kh,31:Qh,33:Zh,35:Jh},{2:11,4:70,6:3,7:4,8:qh,11:Bh,12:jh,17:zh,21:Gh,23:10,24:Xh,25:Wh,26:Kh,31:Qh,33:Zh,35:Jh},Hh(pp,[2,14],{9:ep,11:np,17:ip,18:up,19:sp,20:lp}),{2:11,4:71,6:3,7:4,8:qh,11:Bh,12:jh,17:zh,21:Gh,23:10,24:Xh,25:Wh,26:Kh,31:Qh,33:Zh,35:Jh},Hh(pp,[2,13],{9:ep,11:np,17:ip,18:up,19:sp,20:lp}),Hh([5,10,13,16,29,30],[2,12],{9:ep,11:np,14:rp,15:op,17:ip,18:up,19:sp,20:lp}),Hh(hp,[2,15],{9:ep,18:up,19:sp,20:lp}),Hh(mp,[2,16],{9:ep,20:lp}),Hh(mp,[2,17],{9:ep,20:lp}),Hh([5,10,11,13,14,15,16,17,18,19,20,29,30],[2,18],{9:ep}),Hh(fp,[2,43]),Hh(cp,[2,8]),Hh(cp,[2,21]),{13:[1,72],29:[1,73],30:[1,74]},Hh(gp,[2,38],{9:ep,10:tp,11:np,14:rp,15:op,16:ap,17:ip,18:up,19:sp,20:lp}),Hh(gp,[2,39]),Hh(dp,[2,45]),Hh(cp,[2,29]),Hh(cp,[2,30]),Hh(cp,[2,31]),Hh(cp,[2,32]),Hh(cp,[2,33]),Hh(cp,[2,34]),Hh(cp,[2,35]),Hh(cp,[2,36]),Hh(cp,[2,37]),Hh(pp,[2,9],{9:ep,11:np,17:ip,18:up,19:sp,20:lp}),Hh(pp,[2,11],{9:ep,11:np,17:ip,18:up,19:sp,20:lp}),Hh(pp,[2,10],{9:ep,11:np,17:ip,18:up,19:sp,20:lp}),Hh(cp,[2,22]),{2:11,4:75,6:3,7:4,8:qh,11:Bh,12:jh,17:zh,21:Gh,23:10,24:Xh,25:Wh,26:Kh,31:Qh,33:Zh,35:Jh},{2:11,4:76,6:3,7:4,8:qh,11:Bh,12:jh,17:zh,21:Gh,23:10,24:Xh,25:Wh,26:Kh,31:Qh,33:Zh,35:Jh},Hh(gp,[2,40],{9:ep,10:tp,11:np,14:rp,15:op,16:ap,17:ip,18:up,19:sp,20:lp}),Hh(gp,[2,41],{9:ep,10:tp,11:np,14:rp,15:op,16:ap,17:ip,18:up,19:sp,20:lp})],defaultActions:{18:[2,1]},parseError:function(e,t){if(!t.recoverable){var n=new Error(e);throw n.hash=t,n}this.trace(e)},parse:function(e){var t=this,n=[0],r=[null],o=[],a=this.table,i="",u=0,s=0,l=0,c=o.slice.call(arguments,1),f=Object.create(this.lexer),d={yy:{}};for(var h in this.yy)Object.prototype.hasOwnProperty.call(this.yy,h)&&(d.yy[h]=this.yy[h]);f.setInput(e,d.yy),d.yy.lexer=f,d.yy.parser=this,void 0===f.yylloc&&(f.yylloc={});var p=f.yylloc;o.push(p);var m=f.options&&f.options.ranges;"function"==typeof d.yy.parseError?this.parseError=d.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var g,v,y,b,_,w,E,N,M,x,I=function(){var e;return"number"!=typeof(e=f.lex()||1)&&(e=t.symbols_[e]||e),e},A={};;){if(y=n[n.length-1],this.defaultActions[y]?b=this.defaultActions[y]:(null==g&&(g=I()),b=a[y]&&a[y][g]),void 0===b||!b.length||!b[0]){var C,S=function(e){for(var t=n.length-1,r=0;;){if(2..toString()in a[e])return r;if(0===e||t<2)return!1;e=n[t-=2],++r}},T="";if(l)1!==v&&(C=S(y));else{for(w in C=S(y),M=[],a[y])this.terminals_[w]&&w>2&&M.push("'"+this.terminals_[w]+"'");T=f.showPosition?"Parse error on line "+(u+1)+":\n"+f.showPosition()+"\nExpecting "+M.join(", ")+", got '"+(this.terminals_[g]||g)+"'":"Parse error on line "+(u+1)+": Unexpected "+(1==g?"end of input":"'"+(this.terminals_[g]||g)+"'"),this.parseError(T,{text:f.match,token:this.terminals_[g]||g,line:f.yylineno,loc:p,expected:M,recoverable:!1!==C})}if(3==l){if(1===g||1===v)throw new Error(T||"Parsing halted while starting to recover from another error.");s=f.yyleng,i=f.yytext,u=f.yylineno,p=f.yylloc,g=I()}if(!1===C)throw new Error(T||"Parsing halted. No suitable error recovery rule available.");x=C,n.length=n.length-2*x,r.length=r.length-x,o.length=o.length-x,v=2==g?null:g,g=2,y=n[n.length-1],b=a[y]&&a[y][2],l=3}if(b[0]instanceof Array&&b.length>1)throw new Error("Parse Error: multiple actions possible at state: "+y+", token: "+g);switch(b[0]){case 1:n.push(g),r.push(f.yytext),o.push(f.yylloc),n.push(b[1]),g=null,v?(g=v,v=null):(s=f.yyleng,i=f.yytext,u=f.yylineno,p=f.yylloc,l>0&&l--);break;case 2:if(E=this.productions_[b[1]][1],A.$=r[r.length-E],A._$={first_line:o[o.length-(E||1)].first_line,last_line:o[o.length-1].last_line,first_column:o[o.length-(E||1)].first_column,last_column:o[o.length-1].last_column},m&&(A._$.range=[o[o.length-(E||1)].range[0],o[o.length-1].range[1]]),void 0!==(_=this.performAction.apply(A,[i,s,u,d.yy,b[1],r,o].concat(c))))return _;E&&(n=n.slice(0,-1*E*2),r=r.slice(0,-1*E),o=o.slice(0,-1*E)),n.push(this.productions_[b[1]][0]),r.push(A.$),o.push(A._$),N=a[n[n.length-2]][n[n.length-1]],n.push(N);break;case 3:return!0}}return!0}},yp=function(){var e={EOF:1,parseError:function(e,t){if(!this.yy.parser)throw new Error(e);this.yy.parser.parseError(e,t)},setInput:function(e,t){return this.yy=t||this.yy||{},this._input=e,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var e=this._input[0];return this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e,e.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function(e){var t=e.length,n=e.split(/(?:\r\n?|\n)/g);this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t),this.offset-=t;var r=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var o=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===r.length?this.yylloc.first_column:0)+r[r.length-n.length].length-n[0].length:this.yylloc.first_column-t},this.options.ranges&&(this.yylloc.range=[o[0],o[0]+this.yyleng-t]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"},test_match:function(e,t){var n,r,o;if(this.options.backtrack_lexer&&(o={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(o.yylloc.range=this.yylloc.range.slice(0))),(r=e[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=r.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:r?r[r.length-1].length-r[r.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],n=this.performAction.call(this,this.yy,this,t,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),n)return n;if(this._backtrack){for(var a in o)this[a]=o[a];return!1}return!1},next:function(){if(this.done)return this.EOF;var e,t,n,r;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var o=this._currentRules(),a=0;a<o.length;a++)if((n=this._input.match(this.rules[o[a]]))&&(!t||n[0].length>t[0].length)){if(t=n,r=a,this.options.backtrack_lexer){if(!1!==(e=this.test_match(n,o[a])))return e;if(this._backtrack){t=!1;continue}return!1}if(!this.options.flex)break}return t?!1!==(e=this.test_match(t,o[r]))&&e:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var e=this.next();return e||this.lex()},begin:function(e){this.conditionStack.push(e)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(e){return(e=this.conditionStack.length-1-Math.abs(e||0))>=0?this.conditionStack[e]:"INITIAL"},pushState:function(e){this.begin(e)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(e,t,n,r){switch(n){case 0:break;case 1:case 2:return 8;case 3:case 9:return 21;case 4:return 35;case 5:return 24;case 6:case 7:return 26;case 8:return 25;case 10:case 11:return 31;case 12:return 33;case 13:return 28;case 14:return 9;case 15:return" ";case 16:return 32;case 17:return 27;case 18:return 29;case 19:return 30;case 20:return 18;case 21:return 19;case 22:return 17;case 23:return 11;case 24:return 20;case 25:return 12;case 26:return 13;case 27:return 15;case 28:return 14;case 29:return 16;case 30:return'"';case 31:return"'";case 32:return"!";case 33:return 10;case 34:return 34;case 35:return"#";case 36:return 5}},rules:[/^(?:\s+)/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:[A-Za-z]{1,}[A-Za-z_0-9\.]+(?=[(]))/,/^(?:#[A-Z0-9\/]+(!|\?)?)/,/^(?:\$[A-Za-z]+\$[0-9]+)/,/^(?:\$[A-Za-z]+[0-9]+)/,/^(?:[A-Za-z]+\$[0-9]+)/,/^(?:[A-Za-z]+[0-9]+)/,/^(?:[A-Za-z\.]+(?=[(]))/,/^(?:[A-Za-z]{1,}[A-Za-z_0-9]+)/,/^(?:[A-Za-z_]+)/,/^(?:[0-9]+)/,/^(?:\[(.*)?\])/,/^(?:&)/,/^(?: )/,/^(?:[.])/,/^(?::)/,/^(?:;)/,/^(?:,)/,/^(?:\*)/,/^(?:\/)/,/^(?:-)/,/^(?:\+)/,/^(?:\^)/,/^(?:\()/,/^(?:\))/,/^(?:>)/,/^(?:<)/,/^(?:NOT\b)/,/^(?:")/,/^(?:')/,/^(?:!)/,/^(?:=)/,/^(?:%)/,/^(?:[#])/,/^(?:$)/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36],inclusive:!0}}};return e}();function bp(){this.yy={}}function _p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return e=e.substring(t,e.length-t)}function wp(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ep(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ep(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ep(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Np(e){var t=parseInt(e,10);return t=isNaN(t)?-1:Math.max(t-1,-1)}vp.lexer=yp,bp.prototype=vp,vp.Parser=bp;var Mp="ABCDEFGHIJKLMNOPQRSTUVWXYZ";function xp(e){var t=0;if("string"==typeof e)for(var n=0,r=(e=e.toUpperCase()).length-1;n<e.length;n+=1,r-=1)t+=Math.pow(26,r)*(Mp.indexOf(e[n])+1);return--t}var Ip=/^([$])?([A-Za-z]+)([$])?([0-9]+)$/;function Ap(e){if("string"!=typeof e||!Ip.test(e))return[];var t=wp(e.toUpperCase().match(Ip),5),n=t[1],r=t[2],o=t[3],a=t[4];return[{index:Np(a),label:a,isAbsolute:"$"===o},{index:xp(r),label:r,isAbsolute:"$"===n}]}function Cp(e,t){var n=(e.isAbsolute?"$":"")+function(e){var t="";return e>=0&&(t="".concat(e+1)),t}(e.index),r=(t.isAbsolute?"$":"")+function(e){for(var t="";e>=0;)t=String.fromCharCode(e%26+97)+t,e=Math.floor(e/26)-1;return t.toUpperCase()}(t.index);return r+n}function Sp(e){return Sp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sp(e)}function Tp(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Dp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Dp(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Dp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Op(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}function Rp(e,t){return Rp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Rp(e,t)}function kp(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Lp(e);if(t){var o=Lp(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===Sp(t)||"function"==typeof t))return t;return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function Lp(e){return Lp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Lp(e)}var Fp=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Rp(e,t)}(n,e);var t=kp(n);function n(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(e=t.call(this)).parser=new bp,e.parser.yy={toNumber:Dd,trimEdges:_p,invertNumber:Od,throwError:function(t){return e._throwError(t)},callVariable:function(t){return e._callVariable(t)},evaluateByOperator:Vh,callFunction:function(t,n){return e._callFunction(t,n)},cellValue:function(t){return e._callCellValue(t)},rangeValue:function(t,n){return e._callRangeValue(t,n)}},e.variables=Object.create(null),e.functions=Object.create(null),e.setVariable("TRUE",!0).setVariable("FALSE",!1).setVariable("NULL",null),e}return Op(n,[{key:"parse",value:function(e){var t=null,n=null;try{t=""===e?"":this.parser.parse(e)}catch(e){var r=Yd(e.message);n=r||Yd(kd)}return t instanceof Error&&(n=Yd(t.message)||Yd(kd),t=null),{error:n,result:t}}},{key:"setVariable",value:function(e,t){return this.variables[e]=t,this}},{key:"getVariable",value:function(e){return this.variables[e]}},{key:"_callVariable",value:function(e){var t=this.getVariable(e);if(this.emit("callVariable",e,(function(e){void 0!==e&&(t=e)})),void 0===t)throw Error(Fd);return t}},{key:"setFunction",value:function(e,t){return this.functions[e]=t,this}},{key:"getFunction",value:function(e){return this.functions[e]}},{key:"_callFunction",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=this.getFunction(e);return r&&(t=r(n)),this.emit("callFunction",e,n,(function(e){void 0!==e&&(t=e)})),void 0===t?Vh(e,n):t}},{key:"_callCellValue",value:function(e){var t=Tp(Ap(e=e.toUpperCase()),2),n=t[0],r=t[1],o=void 0;return this.emit("callCellValue",{label:e,row:n,column:r},(function(e){o=e})),o}},{key:"_callRangeValue",value:function(e,t){e=e.toUpperCase(),t=t.toUpperCase();var n=Tp(Ap(e),2),r=n[0],o=n[1],a=Tp(Ap(t),2),i=a[0],u=a[1],s={},l={};r.index<=i.index?(s.row=r,l.row=i):(s.row=i,l.row=r),o.index<=u.index?(s.column=o,l.column=u):(s.column=u,l.column=o),s.label=Cp(s.row,s.column),l.label=Cp(l.row,l.column);var c=[];return this.emit("callRangeValue",s,l,(function(){c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]})),c}},{key:"_throwError",value:function(e){if(function(e){var t=!1;for(var n in Ud)if(Object.prototype.hasOwnProperty.call(Ud,n)&&Ud[n]===e){t=!0;break}return t}(e))throw Error(e);throw Error(kd)}}]),n}(Td);const Pp=new Fp,Up=new Map([["#ERROR!","General error"],["#DIV/0!","Divide by zero error"],["#NAME?","Function or variable name not recognised"],["#N/A","Value not available"],["#NUM!","Invalid number"],["#VALUE!","Formula argument of wrong type"]]);function Yp(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"closed";"range"===t?Pp.setVariable(`q_${e.order_index+2}`,e.value.join(" -- ")):Pp.setVariable(`q_${e.order_index+2}`,e.value.join(" :: ")),"closed"===t&&(e.answers.map(((t,n)=>{Pp.setVariable(`q_${e.order_index+2}_${n}`,!!e.value.includes(t.answer)&&t.answer)})),Pp.setVariable(`q_${e.order_index+2}_selected`,e.value.filter(Boolean).length)),"range"===t&&(Pp.setVariable(`q_${e.order_index+2}_0`,e.value[0]),Pp.setVariable(`q_${e.order_index+2}_1`,e.value[1]),Pp.setVariable(`q_${e.order_index+2}_start`,e.value[0]),Pp.setVariable(`q_${e.order_index+2}_end`,e.value[1]))}function Vp(){eu.questions.forEach((e=>{switch(("number input"===e.question_type||"rating"===e.question_type||e.question_type.includes("slider"))&&(e.value=e.value.map(xc)),e.question_type){case"number input":case"text input":case"single response buttons":case"dropdown":case"single date picker":case"single slider":case"rating":!function(e){Pp.setVariable(`q_${e.order_index+2}`,e.value[0])}(e);break;case"multi response buttons":Yp(e,"closed");break;case"multi date picker":Yp(e,"open");break;case"range date picker":case"range slider":Yp(e,"range");break;case"":break;default:Flourish.warn(`Sorry, question type ${e.question_type} is unknown.`)}}))}function $p(e){const t=e.split("\n").filter(Boolean),n=t.map((e=>e.replace(/\s*=\s*/g,"=").replace(/\s+/g," ").trim().split(/=(.+)/).filter(Boolean)));!function(e,t){e.reduce(((e,t)=>e+t.length),0)!==2*t.length&&Flourish.warn("Your variable declarations need to follow the form <variable> = <value>"),new Set(e.map((e=>e[0]))).size!==e.length&&Flourish.warn("You have duplicate variable names, please ensure each variable name is unique."),e.some((e=>e[0].startsWith("q_")))&&Flourish.warn('Your self created variable names should not start with "q_" as this is reserved for question variables.')}(n,t);return n.map((e=>({variable:e[0],expression:e[1].replace(/Q_/g,"q_")})))}function Hp(e,t){const n=e.expression.match(/\[.+?\]/g),r=Array.from(new Set(n));for(const n of r){const r=n.replace(/\[|\]/g,""),o=t.find((e=>e.variable===r));o?e.expression=e.expression.replaceAll(n,o.result):Flourish.warn(`Variable "${r}" unknown; it will be ignored in your calculation.`)}}function qp(e){let t=[];for(let n=0;n<e.length;n++){const r=e[n];n&&Hp(r,t);const o=Pp.parse(r.expression);t.push({...r,result:o.result,error:o.error})}return function(e){for(let n=0;n<e.length;n++){const r=e[n];("number"==typeof(t=r.result)&&!Number.isNaN(t)||"string"==typeof t&&!isNaN(t)&&!isNaN(parseFloat(t)))&&(r.result=vm(r.result))}var t}(t),function(e){const t=e.filter((e=>e.error));t.length&&Flourish.warn(t.map((e=>`${Up.get(e.error)} for your expression: "${e.expression}"`)).join("\n"))}(t),t}function Bp(){eu.parser=Pp,Vp();const e=$p(eu.result.variables);!function(e){for(const t of Object.keys(Pp.variables))t.startsWith("q_")&&e.push({variable:t,expression:t})}(e);return qp(e)}function jp(e,t){const n=e.replace(/\{\{((?:[^}]|\}[^}])*)\}\}/g,(function(e,n){if(!function(e,t){return!!t.has(e)||(Flourish.warn(`Formula variable "${e}" is unknown. You can choose from the following variables: "${Array.from(t.keys()).toString()}"`),!1)}(n,t))return;return t.get(n)[0].result}));return n}function zp(e){e.style("display","horizontal"===eu.question_flow&&eu.navigation.current_index<eu.navigation.max_index?"none":"flex").style("justify-content",eu.design.align_horizontal).style("align-items",eu.design.align_vertical).style("margin",`${eu.design.margin_vertical}rem ${(100-eu.design.max_width)/2}%`).style("padding",`${eu.design.padding_vertical}rem ${eu.design.padding_horizontal}rem`).style("border-radius",`${eu.design.border_radius}px`).style("font-size",`${"custom"==eu.result.font_size?eu.result.font_size_custom:eu.result.font_size}rem`).style("color",eu.result.font_color||eu.layout.font_color).style("font-style",eu.result.font_style).style("font-weight",eu.result.font_weight).style("box-shadow",eu.design.shadow?`${eu.design.shadow_values} ${eu.design.shadow_color}`:null).style("background",(()=>"image"==eu.result.bg_type?`url(${eu.result.bg_image_src}) center center no-repeat`:eu.result.bg_color||"transparent")).style("background-size",eu.result.bg_image_size)}function Gp(e){if(!e)return;"horizontal"===eu.question_flow&&(eu.navigation.handler("+"),hm());const t=We(e,(e=>e.variable));!function(e){const t=eu.navigation.getOrderIndex("result");Es("#wrapper-results").selectAll("*").remove(),Es("#wrapper-results").append("div").attr("class",`result-container element element-${t}`).call(em,!0,"result").call(zp).append("div").style("text-align",eu.design.align_horizontal).style("line-height",`${eu.result.line_height}rem`).html(e)}(jp(eu.result.input,t))}function Xp(e,t,n){const r=Es(`.element-${e.order_index}`).selectAll("input").node()._flatpickr;if(r)if(t){if(t.includes("::")){if("multi"!==n)return void Flourish.warn(`You are trying to use "::" separators for a ${n} date picker, but they only work with multi date pickers.`);const o=t.split("::").map((e=>e.trim()));return r.clear(),r.setDate(o),void ed(e,o,"multi")}if(t.includes("--")){if("range"!==n)return void Flourish.warn(`You are trying to use "--" separators for a ${n} date picker, but they only work with range date pickers.`);const o=t.split("--").map((e=>e.trim()));return r.clear(),r.setDate(o),void ed(e,o,"range")}r.clear(),r.setDate(t),ed(e,t,"single")}else Jf(e,"");else Flourish.warn(`No date picker found for element ${e.order_index}`)}function Wp(e,t){return Array.isArray(e)?e[0]>=t[0]&&e[0]<=t[1]&&e[1]>=t[0]&&e[1]<=t[1]:e>=t[0]&&e<=t[1]}function Kp(){eu.questions.forEach((e=>{const t=function(e){const t=eu.default_info.filter((t=>t.question_types.includes(e)));if(t.length)return t[0];throw Error(`No default value info found for question type: ${e}`)}(e.question_type),n=e.fallback_value||t.value;if(!e.value.length)switch(e.question_type){case"number input":!function(e,t){const n=Es(`.element-${e.order_index}`).select("input");n.node().value||(n.node().value=t,Jf(e,t))}(e,n);break;case"text input":!function(e,t){const n=Es(`.element-${e.order_index}`).select("input");n.node().value||(n.node().value=t,Jf(e,t))}(e,n);break;case"rating":!function(e,t){const n=Es(".element-"+e.order_index).selectAll("use.rating-symbol");n.classed("last-clicked",!1).call(fd,!1);const r=rd(e.order_index).answers,o=r.map((e=>e.answer)).indexOf(t);if(t&&o<0&&Flourish.warn(`No rating value found for ${t} - resorting to first available value.`),!t||o<0)return n.filter(((e,t)=>0===t)).classed("last-clicked",!0).call(fd,!0),void Jf(e,r[0].answer);n.filter(((e,t)=>t<=o)).classed("last-clicked",!0).call(fd,!0),Jf(e,r[o].answer)}(e,n);break;case"dropdown":!function(e,t){if(Jf(e,""),!t)return;const n=Es(`.element-${e.order_index}`).select("select"),r=rd(e.order_index).answers.map((e=>e.answer)).indexOf(t)>-1;t&&!r&&Flourish.warn(`Ignoring dropdown value "${t}" not found in dropdown data`),t&&r&&(n.select(`option[value="${t}"]`).node().selected=!0,Jf(e,t))}(e,n);break;case"single response buttons":!function(e,t){if(Jf(e,""),!t)return;const n=Es(`.element-${e.order_index}`).selectAll("button"),r=rd(e.order_index).answers.map((e=>e.answer)).indexOf(t)>-1;t&&!r&&Flourish.warn(`Ignoring button value "${t}" not found in button data`),t&&r&&(n.filter((e=>e.answer===t)).classed("selected",!0),Jf(e,t))}(e,n);break;case"multi response buttons":!function(e,t){if(Jf(e,""),!t)return;const n=Es(`.element-${e.order_index}`).selectAll("button"),r=rd(e.order_index).answers.map((e=>e.answer)),o=t.split("::").map((e=>e.trim())),a=[];o.forEach((e=>{r.includes(e)?a.push(e):Flourish.warn(`Ignoring button value "${e}" not found in button data`)})),t&&a.length&&(n.filter((e=>a.includes(e.answer))).classed("selected",!0),Jf(e,a))}(e,n);break;case"single date picker":Xp(e,n,"single");break;case"multi date picker":Xp(e,n,"multi");break;case"range date picker":Xp(e,n,"range");break;case"single slider":case"range slider":!function(e,t){const n=Es(`.element-${e.order_index}`).select(".answer-slider-container").node().noUiSlider;if(!n)return void Flourish.warn(`No slider found for element ${e.order_index}`);if(!t)return;const r=[n.options.range.min[0],n.options.range.max[0]];if(t.includes(",")){const o=t.split(",").map((e=>e.trim()));return Wp(o,r)?(n.set(o),void Jf(e,o)):void Flourish.warn("One or more of your default values are not within the slider range.")}Wp(t,r)?(n.set(t),Jf(e,t)):Flourish.warn("Your default value is not within the slider range.")}(e,n);break;case"":break;default:Flourish.warn(`Unknown question type "${e.question_type}"`)}}))}let Qp,Zp=!1;function Jp(e){if("button"===e&&(Zp=!0),!Zp)return;"horizontal"===eu.question_flow&&eu.navigation.toggleResultAccess(!0),Kp();const t=Bp();!function(e){if(!eu.external_write.enabled)return;const t={};e.forEach((e=>{t[e.variable]=e.result})),su(t,eu.external_write,!1)}(t),Gp(t)}function em(e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"design";arguments.length>1&&void 0!==arguments[1]&&!arguments[1]?e.style("border","0px solid"):("border"===eu[t].border_type&&e.style("border-bottom",null).style("border",`${eu[t].border_width}px ${eu[t].border_style} ${eu[t].border_color||eu.button_style.border_color}`),"border-bottom"===eu[t].border_type&&e.style("border",null).style("border-bottom",`${eu[t].border_width}px ${eu[t].border_style} ${eu[t].border_color||eu.button_style.border_color}`))}function tm(e){e.style("max-height",`calc(100% - ${eu.design.progress.height}rem)`)}function nm(e){e.style("display","flex").style("flex-direction","column").style("justify-content",eu.design.align_vertical).style("margin",`${eu.design.margin_vertical}rem ${(100-eu.design.max_width)/2}%`).style("padding",`${eu.design.padding_vertical}rem ${eu.design.padding_horizontal}rem`).style("border-radius",`${eu.design.border_radius}px`).style("box-shadow",eu.design.shadow?`${eu.design.shadow_values} ${eu.design.shadow_color}`:null).style("background",(e=>e.image?`url(${e.image}) center center no-repeat`:eu.design.background||"transparent")).style("background-size",(e=>e.image?"cover":"none")).call(em)}function rm(e,t){e.style("display",(e=>{if("question"!==t)return"context"===t&&e[`${t}_text`]?"block":"none"})),e.style("justify-content",eu.design.align_horizontal).style("margin",`${eu.design[t].margin_vertical}rem ${eu.design[t].margin_horizontal}rem`).style("padding",`${eu.design.question.padding}rem`).style("color",(()=>"context"===t?eu.design[t].font_color||b(eu.layout.font_color).brighter(2):eu.design[t].font_color||eu.layout.font_color)).style("font-size",`${"custom"==eu.design[t].font_size?eu.design[t].font_size_custom:eu.design[t].font_size}rem`).style("font-weight",eu.design[t].font_weight).style("font-style",eu.design[t].font_style).style("line-height",eu.design[t].line_height).style("text-align",eu.design.align_horizontal).style("background-color",(()=>{if(eu.design.question.bg_color){const e=b(eu.design.question.bg_color);return e.opacity=eu.design.question.bg_opacity,e}return"transparent"})).style("border-radius",`${eu.design.question.border_radius}px`).html((e=>e[`${t}_text`]))}function om(e){e.style("justify-content",eu.design.align_horizontal).style("margin",`${eu.design.answer.margin_vertical}rem ${eu.design.answer.margin_horizontal}rem`)}function am(e){e.style("flex-direction",eu.submit.flex_direction).style("justify-content",eu.design.align_vertical).style("align-items",eu.design.align_horizontal).style("margin",`${eu.design.margin_vertical}rem ${(100-eu.design.max_width)/2}%`).style("padding",`${eu.design.padding_vertical}rem ${eu.design.padding_horizontal}rem`).style("border-radius",`${eu.design.border_radius}px`).style("box-shadow",(()=>eu.design.shadow?`${eu.design.shadow_values} ${eu.design.shadow_color}`:null)).style("background",(()=>"image"==eu.submit.bg_type?`url(${eu.submit.bg_image_src}) center center no-repeat`:eu.submit.bg_color||"transparent")).style("background-size",eu.submit.bg_image_size).call(em,eu.submit.border)}function im(e){e.html(eu.submit.comment.text).style("margin",`${eu.submit.comment.margin}rem 0rem`).style("font-size",`${"custom"==eu.submit.comment.font_size?eu.submit.comment.font_size_custom:eu.submit.comment.font_size}rem`).style("color",eu.submit.comment.font_color||eu.layout.font_color).style("font-style",eu.submit.comment.font_style).style("font-weight",eu.submit.comment.font_weight)}function um(e){e.html(eu.submit.button.text).style("margin",`${eu.submit.button.margin}rem`).style("padding",`${.2*eu.submit.button.padding_factor}rem ${.4*eu.submit.button.padding_factor}rem`).style("font-size",`${"custom"==eu.submit.button.font_size?eu.submit.button.font_size_custom:eu.submit.button.font_size}rem`).style("font-style",eu.submit.button.font_style).style("font-weight",eu.submit.button.font_weight);const t=eu.submit.button.use_default_styles,n=(t?eu.button_style.background:eu.submit.button.bg_color)||eu.layout.background_color||"transparent",r=t?eu.button_style.background_hover:eu.submit.button.bg_color_hover,o=(t?eu.button_style.font_color:eu.submit.button.font_color)||eu.layout.font_color||"#333333",a=t?eu.button_style.font_color_hover:eu.submit.button.font_color_hover,i=t?j(eu.button_style.border_color||o,eu.button_style.border_transparency):j(eu.submit.button.border_color,eu.submit.button.border_transparency);e.style("background-color",n).style("color",o).style("border-style",t?eu.button.border_style:eu.submit.button.border_style).style("border-width",t?`${eu.button_style.border_width}px`:`${eu.submit.button.border_width}px`).style("border-color",i).style("border-radius",`${t?eu.button_style.border_radius:eu.submit.button.border_radius}px`),e.on("mouseenter",(function(){Es(this).classed("shadow",eu.submit.button.box_shadow).style("background-color",r||eu.layout.background_color||"transparent").style("color",a||eu.layout.font_color||"#333333")})).on("mouseout",(function(){Es(this).classed("shadow",!1).style("background-color",n||eu.layout.background_color||"transparent").style("color",o||eu.layout.font_color||"#333333")})).on("click",(()=>{Jp("button"),gm(),"vertical"===eu.question_flow&&setTimeout((()=>{document.querySelector("#wrapper-results").scrollIntoView({behavior:"smooth"})}),1)}))}const sm={top_left:{top:0,right:null,bottom:null,left:0,transform:null},top_centre:{top:0,right:null,bottom:null,left:"50%",transform:"translateX(-50%)"},top_right:{top:0,right:0,bottom:null,left:null,transform:null},bottom_left:{top:null,right:null,bottom:0,left:0,transform:null},bottom_centre:{top:null,right:null,bottom:0,left:"50%",transform:"translateX(-50%)"},bottom_right:{top:null,right:0,bottom:0,left:null,transform:null}};function lm(e){const t=sm[eu.design.controls.position];e.style("top",t.top).style("right",t.right).style("bottom",t.bottom).style("left",t.left).style("transform",t.transform)}function cm(e){e.html((e=>e.symbol)).style("margin",`${eu.design.controls.button.margin}rem`).style("padding",`${.2*eu.design.controls.button.padding_factor}rem ${.4*eu.design.controls.button.padding_factor}rem`).style("color",eu.design.controls.button.font_color||eu.layout.font_color).style("font-size",`${eu.design.controls.button.font_size}rem`).style("font-style",eu.design.controls.button.font_style).style("font-weight",eu.design.controls.button.font_weight).style("border-width",`${eu.design.controls.button.border_width}px`).style("border-style",eu.design.controls.button.border_style).style("border-color",eu.design.controls.button.border_color).style("border-radius",`${eu.design.controls.button.border_radius}px`).style("background-color",Nc(eu.design.controls.button.bg_color,eu.design.controls.button.bg_opacity)).attr("aria-label",(e=>"-"==e.direction?"Previous question":"Next question"))}function fm(){Es("#wrapper-questions").call(tm).selectAll(".question-container").data(eu.questions,(e=>e)).join((e=>function(e){const t=e.append("div").attr("class",(e=>`question-container element element-${e.order_index}`)).call(nm);t.append("div").attr("class","question-text").call(rm,"question"),t.append("div").attr("class","context-text").call(rm,"context"),t.append("div").attr("class","answer-container-outer").append("div").attr("class","answer-container-inner").call(om).each(Md)}(e)),(e=>function(e){e.attr("class",(e=>`question-container element element-${e.order_index}`)).call(nm),e.select(".question-text").call(rm,"question"),e.select(".context-text").call(rm,"context"),e.select(".answer-container-inner *").remove(),e.select(".answer-container-inner").call(om).each(Md)}(e)),(e=>e.remove()))}function dm(){const e=Es(this).datum().direction;eu.navigation.handler(e,Qp),hm(),gm()}function hm(){Es("#wrapper-content").style("flex-direction","bottom"===eu.design.progress.position?"column":"column-reverse"),Qp=Qp||function(e,t){return new xd(e,t)}("#wrapper-progress");const e=eu.navigation.getNumberOfProgressBars(),t=eu.navigation.getNavigationDatum();Qp.show("horizontal"===eu.question_flow&&eu.design.progress.show&&t.progress_bar_show).bars_total(eu.navigation.data.filter((e=>e.progress_bar)).length).height(eu.design.progress.height).margin(eu.design.progress.margin).bg_color(eu.design.progress.bg_color).bg_opacity(eu.design.progress.bg_opacity).update(e)}function pm(e){return`calc(100% - ${2*eu[e].margin_vertical}rem)`}class mm{constructor(){this.wrapper=document.querySelector("#wrapper-template"),this.content=document.querySelector("#wrapper-content"),this.questions=document.querySelector("#wrapper-questions"),this.progress=document.querySelector("#wrapper-progress"),this.results=document.querySelector("#wrapper-results"),this.container_sel=Ns(".question-container, #submit-button-container"),this.result=document.querySelector(".result-container")}setFullHeightLayout(){this.content.style.height="result"===eu.section?"0%":"100%",this.results.style.height="result"===eu.section?"100%":"0%",this.questions.style.flex="1 0 auto",this.progress.style.flex="0 0 auto",this.container_sel.style("height",pm("design")),this.result&&(this.result.style.height=pm("result"))}setContentHeightLayout(){this.content.style.height="auto",this.results.style.height="auto",this.questions.style.flex="0 1 auto",this.progress.style.flex="0 1 auto",this.container_sel.style("height","auto"),this.result&&(this.result.style.height="auto")}checkForOverflow(){this.container_sel.each((function(){if(!this||"none"===this.style.display)return;let e=0;const t=Mc(this).height;Ns(this.childNodes).each((function(){const t=Mc(this),n=t.height+t.margin.top+t.margin.bottom;e+=n})),e>t?Es(this).style("justify-content","flex-start"):Es(this).style("justify-content",eu.design.align_vertical)}))}updateWhenFixed(){this.wrapper.style.overflow="auto",this.wrapper.style.height="100%","horizontal"===eu.question_flow?this.setFullHeightLayout():this.setContentHeightLayout(),ru.setHeight(window.innerHeight),this.checkForOverflow()}updateWhenNotFixed(){this.wrapper.style.overflow="hidden",this.wrapper.style.height="auto",this.setContentHeightLayout(),ru.setHeight(this.wrapper.offsetHeight)}}function gm(){const e=new mm;Flourish.fixed_height?e.updateWhenFixed():e.updateWhenNotFixed()}let vm;function ym(e){null==e&&(e=eu.animation_duration),As()&&(!function(){const e=ou.getFormatterFunction();vm=au(e)}(),fm(),Es("#wrapper-controls").call(lm).selectAll("button").data([{symbol:eu.design.controls.button.symbol_back,direction:"-"},{symbol:eu.design.controls.button.symbol_forward,direction:"+"}]).join("button").call(cm).on("click",dm),hm(),function(){const e=eu.navigation.getOrderIndex("submit");Es("#wrapper-questions").select("#submit-button-container").remove();const t=Es("#wrapper-questions").append("div").attr("id","submit-button-container").attr("class",`element element-${e}`).call(am);t.append("div").attr("id","submit-comment").call(im),t.append("button").call(um)}(),function(){if("vertical"===eu.question_flow)Es("#wrapper-controls").style("display","none"),Ns(".question-container").style("overflow",null).style("display","flex"),Es("#submit-button-container").style("display","flex");else{if("horizontal"!==eu.question_flow)throw new Error(`Unknown question_flow value "${eu.question_flow}"`);Es("#wrapper-controls").style("display","flex"),Ns(".question-container").style("overflow","auto").style("position","relative").style("display",((e,t)=>t?"none":"flex")),Es("#submit-button-container").style("display","none")}}(),Jp("update"),ru.update(),requestAnimationFrame((()=>gm())))}return e.data=lu,e.draw=function(){!function(){const e=Es(ru.getSection("primary")).append("div").attr("id","wrapper-template"),t=e.append("div").attr("id","wrapper-content");t.append("section").attr("id","wrapper-questions"),t.append("div").attr("id","wrapper-progress"),e.append("section").attr("id","wrapper-results"),e.append("div").attr("id","wrapper-controls")}(),ym(0)},e.state=eu,e.update=function(){ym()},e}({});
//# sourceMappingURL=template.js.map
</script><script>!function(){"use strict";var e=!1;function t(t){if(e&&window.top!==window.self){var n=window;"srcdoc"===n.location.pathname&&(n=n.parent);var o,i=(o={},window._Flourish_template_id&&(o.template_id=window._Flourish_template_id),window.Flourish&&window.Flourish.app&&window.Flourish.app.loaded_template_id&&(o.template_id=window.Flourish.app.loaded_template_id),window._Flourish_visualisation_id&&(o.visualisation_id=window._Flourish_visualisation_id),window.Flourish&&window.Flourish.app&&window.Flourish.app.loaded_visualisation&&(o.visualisation_id=window.Flourish.app.loaded_visualisation.id),window.Flourish&&window.Flourish.app&&window.Flourish.app.story&&(o.story_id=window.Flourish.app.story.id,o.slide_count=window.Flourish.app.story.slides.length),window.Flourish&&window.Flourish.app&&window.Flourish.app.current_slide&&(o.slide_index=window.Flourish.app.current_slide.index+1),o),r={sender:"Flourish",method:"customerAnalytics"};for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a]);for(var a in t)t.hasOwnProperty(a)&&(r[a]=t[a]);n.parent.postMessage(JSON.stringify(r),"*")}}function n(e){if("function"!=typeof e)throw new Error("Analytics callback is not a function");window.Flourish._analytics_listeners.push(e)}function o(){e=!0;[{event_name:"click",action_name:"click",use_capture:!0},{event_name:"keydown",action_name:"key_down",use_capture:!0},{event_name:"mouseenter",action_name:"mouse_enter",use_capture:!1},{event_name:"mouseleave",action_name:"mouse_leave",use_capture:!1}].forEach(function(e){document.body.addEventListener(e.event_name,function(){t({action:e.action_name})},e.use_capture)})}
/*! @license DOMPurify 3.2.4 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.4/LICENSE */const{entries:i,setPrototypeOf:r,isFrozen:a,getPrototypeOf:l,getOwnPropertyDescriptor:s}=Object;let{freeze:c,seal:u,create:d}=Object,{apply:m,construct:p}="undefined"!=typeof Reflect&&Reflect;c||(c=function(e){return e}),u||(u=function(e){return e}),m||(m=function(e,t,n){return e.apply(t,n)}),p||(p=function(e,t){return new e(...t)});const f=R(Array.prototype.forEach),h=R(Array.prototype.lastIndexOf),g=R(Array.prototype.pop),y=R(Array.prototype.push),w=R(Array.prototype.splice),_=R(String.prototype.toLowerCase),v=R(String.prototype.toString),T=R(String.prototype.match),A=R(String.prototype.replace),E=R(String.prototype.indexOf),b=R(String.prototype.trim),S=R(Object.prototype.hasOwnProperty),N=R(RegExp.prototype.test),x=(O=TypeError,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return p(O,t)});var O;function R(e){return function(t){for(var n=arguments.length,o=new Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];return m(e,t,o)}}function L(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_;r&&r(e,null);let o=t.length;for(;o--;){let i=t[o];if("string"==typeof i){const e=n(i);e!==i&&(a(t)||(t[o]=e),i=e)}e[i]=!0}return e}function C(e){for(let t=0;t<e.length;t++){S(e,t)||(e[t]=null)}return e}function M(e){const t=d(null);for(const[n,o]of i(e)){S(e,n)&&(Array.isArray(o)?t[n]=C(o):o&&"object"==typeof o&&o.constructor===Object?t[n]=M(o):t[n]=o)}return t}function k(e,t){for(;null!==e;){const n=s(e,t);if(n){if(n.get)return R(n.get);if("function"==typeof n.value)return R(n.value)}e=l(e)}return function(){return null}}const D=c(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),F=c(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),I=c(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),z=c(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),P=c(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),U=c(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),H=c(["#text"]),W=c(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),B=c(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),G=c(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),j=c(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),q=u(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Y=u(/<%[\w\W]*|[\w\W]*%>/gm),$=u(/\$\{[\w\W]*/gm),X=u(/^data-[\-\w.\u00B7-\uFFFF]+$/),J=u(/^aria-[\-\w]+$/),V=u(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),K=u(/^(?:\w+script|data):/i),Z=u(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Q=u(/^html$/i),ee=u(/^[a-z][.\w]*(-[.\w]+)+$/i);var te=Object.freeze({__proto__:null,ARIA_ATTR:J,ATTR_WHITESPACE:Z,CUSTOM_ELEMENT:ee,DATA_ATTR:X,DOCTYPE_NAME:Q,ERB_EXPR:Y,IS_ALLOWED_URI:V,IS_SCRIPT_OR_DATA:K,MUSTACHE_EXPR:q,TMPLIT_EXPR:$});const ne=1,oe=3,ie=7,re=8,ae=9,le=function(){return"undefined"==typeof window?null:window};var se,ce,ue=function e(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le();const n=t=>e(t);if(n.version="3.2.4",n.removed=[],!t||!t.document||t.document.nodeType!==ae||!t.Element)return n.isSupported=!1,n;let{document:o}=t;const r=o,a=r.currentScript,{DocumentFragment:l,HTMLTemplateElement:s,Node:u,Element:m,NodeFilter:p,NamedNodeMap:O=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:R,DOMParser:C,trustedTypes:q}=t,Y=m.prototype,$=k(Y,"cloneNode"),X=k(Y,"remove"),J=k(Y,"nextSibling"),K=k(Y,"childNodes"),Z=k(Y,"parentNode");if("function"==typeof s){const e=o.createElement("template");e.content&&e.content.ownerDocument&&(o=e.content.ownerDocument)}let ee,se="";const{implementation:ce,createNodeIterator:ue,createDocumentFragment:de,getElementsByTagName:me}=o,{importNode:pe}=r;let fe={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]};n.isSupported="function"==typeof i&&"function"==typeof Z&&ce&&void 0!==ce.createHTMLDocument;const{MUSTACHE_EXPR:he,ERB_EXPR:ge,TMPLIT_EXPR:ye,DATA_ATTR:we,ARIA_ATTR:_e,IS_SCRIPT_OR_DATA:ve,ATTR_WHITESPACE:Te,CUSTOM_ELEMENT:Ae}=te;let{IS_ALLOWED_URI:Ee}=te,be=null;const Se=L({},[...D,...F,...I,...P,...H]);let Ne=null;const xe=L({},[...W,...B,...G,...j]);let Oe=Object.seal(d(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Re=null,Le=null,Ce=!0,Me=!0,ke=!1,De=!0,Fe=!1,Ie=!0,ze=!1,Pe=!1,Ue=!1,He=!1,We=!1,Be=!1,Ge=!0,je=!1,qe=!0,Ye=!1,$e={},Xe=null;const Je=L({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Ve=null;const Ke=L({},["audio","video","img","source","image","track"]);let Ze=null;const Qe=L({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),et="http://www.w3.org/1998/Math/MathML",tt="http://www.w3.org/2000/svg",nt="http://www.w3.org/1999/xhtml";let ot=nt,it=!1,rt=null;const at=L({},[et,tt,nt],v);let lt=L({},["mi","mo","mn","ms","mtext"]),st=L({},["annotation-xml"]);const ct=L({},["title","style","font","a","script"]);let ut=null;const dt=["application/xhtml+xml","text/html"];let mt=null,pt=null;const ft=o.createElement("form"),ht=function(e){return e instanceof RegExp||e instanceof Function},gt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!pt||pt!==e){if(e&&"object"==typeof e||(e={}),e=M(e),ut=-1===dt.indexOf(e.PARSER_MEDIA_TYPE)?"text/html":e.PARSER_MEDIA_TYPE,mt="application/xhtml+xml"===ut?v:_,be=S(e,"ALLOWED_TAGS")?L({},e.ALLOWED_TAGS,mt):Se,Ne=S(e,"ALLOWED_ATTR")?L({},e.ALLOWED_ATTR,mt):xe,rt=S(e,"ALLOWED_NAMESPACES")?L({},e.ALLOWED_NAMESPACES,v):at,Ze=S(e,"ADD_URI_SAFE_ATTR")?L(M(Qe),e.ADD_URI_SAFE_ATTR,mt):Qe,Ve=S(e,"ADD_DATA_URI_TAGS")?L(M(Ke),e.ADD_DATA_URI_TAGS,mt):Ke,Xe=S(e,"FORBID_CONTENTS")?L({},e.FORBID_CONTENTS,mt):Je,Re=S(e,"FORBID_TAGS")?L({},e.FORBID_TAGS,mt):{},Le=S(e,"FORBID_ATTR")?L({},e.FORBID_ATTR,mt):{},$e=!!S(e,"USE_PROFILES")&&e.USE_PROFILES,Ce=!1!==e.ALLOW_ARIA_ATTR,Me=!1!==e.ALLOW_DATA_ATTR,ke=e.ALLOW_UNKNOWN_PROTOCOLS||!1,De=!1!==e.ALLOW_SELF_CLOSE_IN_ATTR,Fe=e.SAFE_FOR_TEMPLATES||!1,Ie=!1!==e.SAFE_FOR_XML,ze=e.WHOLE_DOCUMENT||!1,He=e.RETURN_DOM||!1,We=e.RETURN_DOM_FRAGMENT||!1,Be=e.RETURN_TRUSTED_TYPE||!1,Ue=e.FORCE_BODY||!1,Ge=!1!==e.SANITIZE_DOM,je=e.SANITIZE_NAMED_PROPS||!1,qe=!1!==e.KEEP_CONTENT,Ye=e.IN_PLACE||!1,Ee=e.ALLOWED_URI_REGEXP||V,ot=e.NAMESPACE||nt,lt=e.MATHML_TEXT_INTEGRATION_POINTS||lt,st=e.HTML_INTEGRATION_POINTS||st,Oe=e.CUSTOM_ELEMENT_HANDLING||{},e.CUSTOM_ELEMENT_HANDLING&&ht(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Oe.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&ht(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Oe.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(Oe.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Fe&&(Me=!1),We&&(He=!0),$e&&(be=L({},H),Ne=[],!0===$e.html&&(L(be,D),L(Ne,W)),!0===$e.svg&&(L(be,F),L(Ne,B),L(Ne,j)),!0===$e.svgFilters&&(L(be,I),L(Ne,B),L(Ne,j)),!0===$e.mathMl&&(L(be,P),L(Ne,G),L(Ne,j))),e.ADD_TAGS&&(be===Se&&(be=M(be)),L(be,e.ADD_TAGS,mt)),e.ADD_ATTR&&(Ne===xe&&(Ne=M(Ne)),L(Ne,e.ADD_ATTR,mt)),e.ADD_URI_SAFE_ATTR&&L(Ze,e.ADD_URI_SAFE_ATTR,mt),e.FORBID_CONTENTS&&(Xe===Je&&(Xe=M(Xe)),L(Xe,e.FORBID_CONTENTS,mt)),qe&&(be["#text"]=!0),ze&&L(be,["html","head","body"]),be.table&&(L(be,["tbody"]),delete Re.tbody),e.TRUSTED_TYPES_POLICY){if("function"!=typeof e.TRUSTED_TYPES_POLICY.createHTML)throw x('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if("function"!=typeof e.TRUSTED_TYPES_POLICY.createScriptURL)throw x('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');ee=e.TRUSTED_TYPES_POLICY,se=ee.createHTML("")}else void 0===ee&&(ee=function(e,t){if("object"!=typeof e||"function"!=typeof e.createPolicy)return null;let n=null;const o="data-tt-policy-suffix";t&&t.hasAttribute(o)&&(n=t.getAttribute(o));const i="dompurify"+(n?"#"+n:"");try{return e.createPolicy(i,{createHTML:e=>e,createScriptURL:e=>e})}catch(e){return console.warn("TrustedTypes policy "+i+" could not be created."),null}}(q,a)),null!==ee&&"string"==typeof se&&(se=ee.createHTML(""));c&&c(e),pt=e}},yt=L({},[...F,...I,...z]),wt=L({},[...P,...U]),_t=function(e){y(n.removed,{element:e});try{Z(e).removeChild(e)}catch(t){X(e)}},vt=function(e,t){try{y(n.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){y(n.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e)if(He||We)try{_t(t)}catch(e){}else try{t.setAttribute(e,"")}catch(e){}},Tt=function(e){let t=null,n=null;if(Ue)e="<remove></remove>"+e;else{const t=T(e,/^[\r\n\t ]+/);n=t&&t[0]}"application/xhtml+xml"===ut&&ot===nt&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");const i=ee?ee.createHTML(e):e;if(ot===nt)try{t=(new C).parseFromString(i,ut)}catch(e){}if(!t||!t.documentElement){t=ce.createDocument(ot,"template",null);try{t.documentElement.innerHTML=it?se:i}catch(e){}}const r=t.body||t.documentElement;return e&&n&&r.insertBefore(o.createTextNode(n),r.childNodes[0]||null),ot===nt?me.call(t,ze?"html":"body")[0]:ze?t.documentElement:r},At=function(e){return ue.call(e.ownerDocument||e,e,p.SHOW_ELEMENT|p.SHOW_COMMENT|p.SHOW_TEXT|p.SHOW_PROCESSING_INSTRUCTION|p.SHOW_CDATA_SECTION,null)},Et=function(e){return e instanceof R&&("string"!=typeof e.nodeName||"string"!=typeof e.textContent||"function"!=typeof e.removeChild||!(e.attributes instanceof O)||"function"!=typeof e.removeAttribute||"function"!=typeof e.setAttribute||"string"!=typeof e.namespaceURI||"function"!=typeof e.insertBefore||"function"!=typeof e.hasChildNodes)},bt=function(e){return"function"==typeof u&&e instanceof u};function St(e,t,o){f(e,e=>{e.call(n,t,o,pt)})}const Nt=function(e){let t=null;if(St(fe.beforeSanitizeElements,e,null),Et(e))return _t(e),!0;const o=mt(e.nodeName);if(St(fe.uponSanitizeElement,e,{tagName:o,allowedTags:be}),e.hasChildNodes()&&!bt(e.firstElementChild)&&N(/<[/\w]/g,e.innerHTML)&&N(/<[/\w]/g,e.textContent))return _t(e),!0;if(e.nodeType===ie)return _t(e),!0;if(Ie&&e.nodeType===re&&N(/<[/\w]/g,e.data))return _t(e),!0;if(!be[o]||Re[o]){if(!Re[o]&&Ot(o)){if(Oe.tagNameCheck instanceof RegExp&&N(Oe.tagNameCheck,o))return!1;if(Oe.tagNameCheck instanceof Function&&Oe.tagNameCheck(o))return!1}if(qe&&!Xe[o]){const t=Z(e)||e.parentNode,n=K(e)||e.childNodes;if(n&&t){for(let o=n.length-1;o>=0;--o){const i=$(n[o],!0);i.__removalCount=(e.__removalCount||0)+1,t.insertBefore(i,J(e))}}}return _t(e),!0}return e instanceof m&&!function(e){let t=Z(e);t&&t.tagName||(t={namespaceURI:ot,tagName:"template"});const n=_(e.tagName),o=_(t.tagName);return!!rt[e.namespaceURI]&&(e.namespaceURI===tt?t.namespaceURI===nt?"svg"===n:t.namespaceURI===et?"svg"===n&&("annotation-xml"===o||lt[o]):Boolean(yt[n]):e.namespaceURI===et?t.namespaceURI===nt?"math"===n:t.namespaceURI===tt?"math"===n&&st[o]:Boolean(wt[n]):e.namespaceURI===nt?!(t.namespaceURI===tt&&!st[o])&&!(t.namespaceURI===et&&!lt[o])&&!wt[n]&&(ct[n]||!yt[n]):!("application/xhtml+xml"!==ut||!rt[e.namespaceURI]))}(e)?(_t(e),!0):"noscript"!==o&&"noembed"!==o&&"noframes"!==o||!N(/<\/no(script|embed|frames)/i,e.innerHTML)?(Fe&&e.nodeType===oe&&(t=e.textContent,f([he,ge,ye],e=>{t=A(t,e," ")}),e.textContent!==t&&(y(n.removed,{element:e.cloneNode()}),e.textContent=t)),St(fe.afterSanitizeElements,e,null),!1):(_t(e),!0)},xt=function(e,t,n){if(Ge&&("id"===t||"name"===t)&&(n in o||n in ft))return!1;if(Me&&!Le[t]&&N(we,t));else if(Ce&&N(_e,t));else if(!Ne[t]||Le[t]){if(!(Ot(e)&&(Oe.tagNameCheck instanceof RegExp&&N(Oe.tagNameCheck,e)||Oe.tagNameCheck instanceof Function&&Oe.tagNameCheck(e))&&(Oe.attributeNameCheck instanceof RegExp&&N(Oe.attributeNameCheck,t)||Oe.attributeNameCheck instanceof Function&&Oe.attributeNameCheck(t))||"is"===t&&Oe.allowCustomizedBuiltInElements&&(Oe.tagNameCheck instanceof RegExp&&N(Oe.tagNameCheck,n)||Oe.tagNameCheck instanceof Function&&Oe.tagNameCheck(n))))return!1}else if(Ze[t]);else if(N(Ee,A(n,Te,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==E(n,"data:")||!Ve[e]){if(ke&&!N(ve,A(n,Te,"")));else if(n)return!1}else;return!0},Ot=function(e){return"annotation-xml"!==e&&T(e,Ae)},Rt=function(e){St(fe.beforeSanitizeAttributes,e,null);const{attributes:t}=e;if(!t||Et(e))return;const o={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Ne,forceKeepAttr:void 0};let i=t.length;for(;i--;){const r=t[i],{name:a,namespaceURI:l,value:s}=r,c=mt(a);let u="value"===a?s:b(s);if(o.attrName=c,o.attrValue=u,o.keepAttr=!0,o.forceKeepAttr=void 0,St(fe.uponSanitizeAttribute,e,o),u=o.attrValue,!je||"id"!==c&&"name"!==c||(vt(a,e),u="user-content-"+u),Ie&&N(/((--!?|])>)|<\/(style|title)/i,u)){vt(a,e);continue}if(o.forceKeepAttr)continue;if(vt(a,e),!o.keepAttr)continue;if(!De&&N(/\/>/i,u)){vt(a,e);continue}Fe&&f([he,ge,ye],e=>{u=A(u,e," ")});const d=mt(e.nodeName);if(xt(d,c,u)){if(ee&&"object"==typeof q&&"function"==typeof q.getAttributeType)if(l);else switch(q.getAttributeType(d,c)){case"TrustedHTML":u=ee.createHTML(u);break;case"TrustedScriptURL":u=ee.createScriptURL(u)}try{l?e.setAttributeNS(l,a,u):e.setAttribute(a,u),Et(e)?_t(e):g(n.removed)}catch(e){}}}St(fe.afterSanitizeAttributes,e,null)},Lt=function e(t){let n=null;const o=At(t);for(St(fe.beforeSanitizeShadowDOM,t,null);n=o.nextNode();)St(fe.uponSanitizeShadowNode,n,null),Nt(n),Rt(n),n.content instanceof l&&e(n.content);St(fe.afterSanitizeShadowDOM,t,null)};return n.sanitize=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=null,i=null,a=null,s=null;if(it=!e,it&&(e="\x3c!--\x3e"),"string"!=typeof e&&!bt(e)){if("function"!=typeof e.toString)throw x("toString is not a function");if("string"!=typeof(e=e.toString()))throw x("dirty is not a string, aborting")}if(!n.isSupported)return e;if(Pe||gt(t),n.removed=[],"string"==typeof e&&(Ye=!1),Ye){if(e.nodeName){const t=mt(e.nodeName);if(!be[t]||Re[t])throw x("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof u)o=Tt("\x3c!----\x3e"),i=o.ownerDocument.importNode(e,!0),i.nodeType===ne&&"BODY"===i.nodeName||"HTML"===i.nodeName?o=i:o.appendChild(i);else{if(!He&&!Fe&&!ze&&-1===e.indexOf("<"))return ee&&Be?ee.createHTML(e):e;if(o=Tt(e),!o)return He?null:Be?se:""}o&&Ue&&_t(o.firstChild);const c=At(Ye?e:o);for(;a=c.nextNode();)Nt(a),Rt(a),a.content instanceof l&&Lt(a.content);if(Ye)return e;if(He){if(We)for(s=de.call(o.ownerDocument);o.firstChild;)s.appendChild(o.firstChild);else s=o;return(Ne.shadowroot||Ne.shadowrootmode)&&(s=pe.call(r,s,!0)),s}let d=ze?o.outerHTML:o.innerHTML;return ze&&be["!doctype"]&&o.ownerDocument&&o.ownerDocument.doctype&&o.ownerDocument.doctype.name&&N(Q,o.ownerDocument.doctype.name)&&(d="<!DOCTYPE "+o.ownerDocument.doctype.name+">\n"+d),Fe&&f([he,ge,ye],e=>{d=A(d,e," ")}),ee&&Be?ee.createHTML(d):d},n.setConfig=function(){gt(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),Pe=!0},n.clearConfig=function(){pt=null,Pe=!1},n.isValidAttribute=function(e,t,n){pt||gt({});const o=mt(e),i=mt(t);return xt(o,i,n)},n.addHook=function(e,t){"function"==typeof t&&y(fe[e],t)},n.removeHook=function(e,t){if(void 0!==t){const n=h(fe[e],t);return-1===n?void 0:w(fe[e],n,1)[0]}return g(fe[e])},n.removeHooks=function(e){fe[e]=[]},n.removeAllHooks=function(){fe={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}},n}();function de(){if(null==se){var e=function(){var e=window.location;"about:srcdoc"==e.href&&(e=window.parent.location);var t={};return function(e,n,o){for(;o=n.exec(e);)t[decodeURIComponent(o[1])]=decodeURIComponent(o[2])}(e.search.substring(1).replace(/\+/g,"%20"),/([^&=]+)=?([^&]*)/g),t}();se="referrer"in e?/^https:\/\/medium.com\//.test(e.referrer):!("auto"in e)}return se}function me(e){var t=e||window.innerWidth;return t>999?650:t>599?575:400}function pe(e){if(e&&window.top!==window.self){var t=window;"srcdoc"==t.location.pathname&&(t=t.parent);var n={sender:"Flourish",method:"scrolly",captions:e.captions,hasScrollyTransformFix:e.hasScrollyTransformFix};t.parent.postMessage(JSON.stringify(n),"*")}}function fe(e,t){if(window.top!==window.self){var n=window;if("srcdoc"==n.location.pathname&&(n=n.parent),ce)return e=parseInt(e,10),void n.parent.postMessage({sentinel:"amp",type:"embed-size",height:e},"*");var o={sender:"Flourish",context:"iframe.resize",method:"resize",height:e,src:n.location.toString()};if(t)for(var i in t)o[i]=t[i];n.parent.postMessage(JSON.stringify(o),"*")}}function he(){return(-1!==navigator.userAgent.indexOf("Safari")||-1!==navigator.userAgent.indexOf("iPhone"))&&-1==navigator.userAgent.indexOf("Chrome")}function ge(e){return"string"==typeof e||e instanceof String}function ye(e){return"warn"!==e.method?(console.warn("BUG: validateWarnMessage called for method"+e.method),!1):!(null!=e.message&&!ge(e.message))&&!(null!=e.explanation&&!ge(e.explanation))}function we(e){return"resize"!==e.method?(console.warn("BUG: validateResizeMessage called for method"+e.method),!1):!!ge(e.src)&&(!!ge(e.context)&&!!("number"==typeof(t=e.height)?!isNaN(t)&&t>=0:ge(t)&&/\d/.test(t)&&/^[0-9]*(\.[0-9]*)?(cm|mm|Q|in|pc|pt|px|em|ex|ch|rem|lh|vw|vh|vmin|vmax|%)?$/i.test(t)));var t}function _e(e){throw new Error("Validation for setSetting is not implemented yet; see issue #4328")}function ve(e){return"scrolly"!==e.method?(console.warn("BUG: validateScrolly called for method"+e.method),!1):!!Array.isArray(e.captions)}function Te(e){return"customerAnalytics"===e.method||(console.warn("BUG: validateCustomerAnalyticsMessage called for method"+e.method),!1)}function Ae(e){return"request-upload"!==e.method?(console.warn("BUG: validateResizeMessage called for method"+e.method),!1):!!ge(e.name)&&!(null!=e.accept&&!ge(e.accept))}function Ee(e,t,n){var o=function(e){for(var t={warn:ye,resize:we,setSetting:_e,customerAnalytics:Te,"request-upload":Ae,scrolly:ve},n={},o=0;o<e.length;o++){var i=e[o];if(!t[i])throw new Error("No validator found for method "+i);n[i]=t[i]}return n}(t);window.addEventListener("message",function(t){var i=function(){if(t.origin==document.location.origin)return!0;if(n){const e=t.origin.toLowerCase();if(n=n.toLowerCase(),e.endsWith("//"+n))return!0;if(e.endsWith("."+n))return!0}return!!t.origin.match(/\/\/localhost:\d+$|\/\/(?:public|app)\.local\.flourish-internal\.com$|\/\/flourish-api\.com$|\.flourish\.(?:local(:\d+)?|net|rocks|studio)$|\.uri\.sh$|\/\/flourish-user-templates\.com$/)}();if(null!=t.source&&i){var r;try{r="object"==typeof t.data?t.data:JSON.parse(t.data)}catch(e){return void console.warn("Unexpected non-JSON message: "+JSON.stringify(t.data))}if("Flourish"===r.sender)if(r.method)if(Object.prototype.hasOwnProperty.call(o,r.method))if(o[r.method](r)){for(var a=document.querySelectorAll("iframe"),l=0;l<a.length;l++)if(a[l].contentWindow==t.source||a[l].contentWindow==t.source.parent)return void e(r,a[l]);console.warn("could not find frame",r)}else console.warn("Validation failed for the message",r);else console.warn("No validator implemented for message",r);else console.warn("The 'method' property was missing from message",r)}}),he()&&(window.addEventListener("resize",be),be())}function be(){for(var e=document.querySelectorAll(".flourish-embed"),t=0;t<e.length;t++){var n=e[t];if(!n.getAttribute("data-width")){var o=n.querySelector("iframe");if(o){var i=window.getComputedStyle(n),r=n.offsetWidth-parseFloat(i.paddingLeft)-parseFloat(i.paddingRight);o.style.width=r+"px"}}}}function Se(e,t,n){var o=e.parentNode;if(o.classList.contains("fl-scrolly-wrapper"))return void console.warn("createScrolly is being called more than once per story. This should not happen.");o.classList.add("fl-scrolly-wrapper"),o.style.position="relative",o.style.paddingBottom="1px",o.style.transform="translate3d(0, 0, 0)";const i=navigator.platform.indexOf("Win")>-1,r=!!window.chrome&&(navigator.userAgent.indexOf("Chrome")>-1||navigator.userAgent.indexOf("Edg")>-1||navigator.userAgent.indexOf("OPR")>-1);if(i&&r&&n){let e,t=0;window.addEventListener("scroll",function(){clearTimeout(e),e=setTimeout(()=>{t=0===t?1:0,o.style.transform=`translateZ(${t}px)`},100)})}e.style.position="sticky";var a=o.getAttribute("data-height")||null;a||(a="80vh",e.style.height=a),e.style.top="calc(50vh - "+a+"/2)";var l=o.querySelector(".flourish-credit");l&&(l.style.position="sticky",l.style.top="calc(50vh + "+a+"/2)"),t.forEach(function(e,t){var n="string"==typeof e&&""!=e.trim(),i=document.createElement("div");i.setAttribute("data-slide",t),i.classList.add("fl-scrolly-caption"),i.style.position="relative",i.style.transform="translate3d(0,0,0)",i.style.textAlign="center",i.style.maxWidth="500px",i.style.height="auto",i.style.marginTop="0",i.style.marginBottom=n?"100vh":"50vh",i.style.marginLeft="auto",i.style.marginRight="auto";var r=document.createElement("div");r.innerHTML=ue.sanitize(e,{ADD_ATTR:["target"]}),r.style.visibility=n?"":"hidden",r.style.display="inline-block",r.style.paddingTop="1.25em",r.style.paddingRight="1.25em",r.style.paddingBottom="1.25em",r.style.paddingLeft="1.25em",r.style.background="rgba(255,255,255,0.9)",r.style.boxShadow="0px 0px 10px rgba(0,0,0,0.2)",r.style.borderRadius="10px",r.style.textAlign="center",r.style.maxWidth="100%",r.style.margin="0 20px",r.style.overflowX="hidden",i.appendChild(r),o.appendChild(i)}),function(e){for(var t=new IntersectionObserver(function(t){t.forEach(function(t){if(t.isIntersecting){var n=e.querySelector("iframe");n&&(n.src=n.src.replace(/#slide-.*/,"")+"#slide-"+t.target.getAttribute("data-slide"))}})},{rootMargin:"0px 0px -0% 0px"}),n=e.querySelectorAll(".fl-scrolly-caption"),o=0;o<n.length;o++)t.observe(n[o]);e.querySelectorAll(".fl-scrolly-caption img").forEach(function(e){e.style.maxWidth="100%"})}(o)}function Ne(e,t,n,o,i){var r=document.createElement("iframe");if(r.setAttribute("scrolling","no"),r.setAttribute("frameborder","0"),r.setAttribute("title","Interactive or visual content"),r.setAttribute("sandbox","allow-same-origin allow-forms allow-scripts allow-downloads allow-popups allow-popups-to-escape-sandbox allow-top-navigation-by-user-activation"),t.appendChild(r),r.offsetParent||"fixed"===getComputedStyle(r).position)xe(e,t,r,n,o,i);else{var a={embed_url:e,container:t,iframe:r,width:n,height:o,play_on_load:i};if(window._flourish_poll_items?window._flourish_poll_items.push(a):window._flourish_poll_items=[a],window._flourish_poll_items.length>1)return r;var l=setInterval(function(){window._flourish_poll_items=window._flourish_poll_items.filter(function(e){return!e.iframe.offsetParent||(xe(e.embed_url,e.container,e.iframe,e.width,e.height,e.play_on_load),!1)}),window._flourish_poll_items.length||clearInterval(l)},500)}return r}function xe(e,t,n,o,i,r){var a;return o&&"number"==typeof o?(a=o,o+="px"):o&&o.match(/^[ \t\r\n\f]*([+-]?\d+|\d*\.\d+(?:[eE][+-]?\d+)?)(?:\\?[Pp]|\\0{0,4}[57]0(?:\r\n|[ \t\r\n\f])?)(?:\\?[Xx]|\\0{0,4}[57]8(?:\r\n|[ \t\r\n\f])?)[ \t\r\n\f]*$/)&&(a=parseFloat(o)),i&&"number"==typeof i&&(i+="px"),o?n.style.width=o:he()?n.style.width=t.offsetWidth+"px":n.style.width="100%",!!i||(e.match(/\?/)?e+="&auto=1":e+="?auto=1",i=me(a||n.offsetWidth)+"px"),i&&("%"===i.charAt(i.length-1)&&(i=parseFloat(i)/100*t.parentNode.offsetHeight+"px"),n.style.height=i),n.setAttribute("src",e+(r?"#play-on-load":"")),n}function Oe(e){return!Array.isArray(e)&&"object"==typeof e&&null!=e}function Re(e,t){for(const n in t)Oe(e[n])&&Oe(t[n])?Re(e[n],t[n]):e[n]=t[n];return e}!function(){var e,i=window.top===window.self,r=i?null:(ce="#amp=1"==window.location.hash,{createEmbedIframe:Ne,isFixedHeight:de,getHeightForBreakpoint:me,startEventListeners:Ee,notifyParentWindow:fe,initScrolly:pe,createScrolly:Se,isSafari:he,initCustomerAnalytics:o,addAnalyticsListener:n,sendCustomerAnalyticsMessage:t}),a=!0;function l(){var t;Flourish.fixed_height||(null!=e?t=e:a&&(t=r.getHeightForBreakpoint()),t!==window.innerHeight&&r.notifyParentWindow(t))}function s(){-1!==window.location.search.indexOf("enable_customer_analytics=1")&&Flourish.enableCustomerAnalytics(),l(),window.addEventListener("resize",l)}Flourish.warn=function(e){if("string"==typeof e&&(e={message:e}),i||"editor"!==Flourish.environment)console.warn(e.message);else{var t={sender:"Flourish",method:"warn",message:e.message,explanation:e.explanation};window.parent.postMessage(JSON.stringify(t),"*")}},Flourish.uploadImage=function(e){if(i||"story_editor"!==Flourish.environment)throw"Invalid upload request";var t={sender:"Flourish",method:"request-upload",name:e.name,accept:e.accept};window.parent.postMessage(JSON.stringify(t),"*")},Flourish.setSetting=function(e,t){if("editor"===Flourish.environment||"sdk"===Flourish.environment){var n={sender:"Flourish",method:"setSetting",name:e,value:t};window.parent.postMessage(JSON.stringify(n),"*")}else if("story_editor"===Flourish.environment){var o={};o[e]=t,Re(window.template.state,function(e){var t=Object.create(null);for(var n in e){for(var o=t,i=n.indexOf("."),r=0;i>=0;i=n.indexOf(".",r=i+1)){var a=n.substring(r,i);a in o||(o[a]=Object.create(null)),o=o[a]}o[n.substring(r)]=e[n]}return t}(o))}},Flourish.setHeight=function(t){Flourish.fixed_height||(e=t,a=null==t,l())},Flourish.checkHeight=function(){if(!i){var e=Flourish.__container_height;null!=e?(Flourish.fixed_height=!0,r.notifyParentWindow(e)):r.isFixedHeight()?Flourish.fixed_height=!0:(Flourish.fixed_height=!1,l())}},Flourish.fixed_height=i||r.isFixedHeight(),Flourish.enableCustomerAnalytics=function(){r&&r.initCustomerAnalytics()},"loading"===document.readyState?document.addEventListener("DOMContentLoaded",s):s()}()}();
//# sourceMappingURL=embedded.js.map
</script><script>
			function _Flourish_unflattenInto(dest, src) {
				dest = dest || {};
				for (var k in src) {
					var t = dest;
					for (var i = k.indexOf("."), p = 0; i >= 0; i = k.indexOf(".", p = i+1)) {
						var s = k.substring(p, i);
						if (!(s in t)) t[s] = {};
						t = t[s];
					}
					t[k.substring(p)] = src[k];
				}
				return dest;
			}
			var _Flourish_settings = {"button_style.background_selected":"#135ae1","layout.source_label":"Source: ","layout.source_name":"The Otherness Institute","layout.subtitle":"","number_format.n_dec":0,"question_flow":"vertical","result.advanced":false,"result.input":"\u003ch2>{{name}}’s Score\u003c/h2>\n\u003ch2>{{total}}\u003c/h2>\n\u003ch5>What Your Score Means\u003c/h5>\n\u003cb>{{type}}\u003c/b>\u003cbr>\n{{result}}","result.variables":"name = q_3\n\nQ4 = SWITCH(q_4,'Strongly Disagree',1,'Disagree',2,'Neutral',3,'Agree',4,'Strongly Agree',5)\n\nQ5 = SWITCH(q_5,'Strongly Disagree',1,'Disagree',2,'Neutral',3,'Agree',4,'Strongly Agree',5) \n\nQ6 = SWITCH(q_6,'Strongly Disagree',1,'Disagree',2,'Neutral',3,'Agree',4,'Strongly Agree',5)\n\nQ7 = SWITCH(q_7,'Strongly Disagree',1,'Disagree',2,'Neutral',3,'Agree',4,'Strongly Agree',5)\n\nQ8 = SWITCH(q_8,'Strongly Disagree',1,'Disagree',2,'Neutral',3,'Agree',4,'Strongly Agree',5)\n\nQ9 = SWITCH(q_9,'Strongly Disagree',1,'Disagree',2,'Neutral',3,'Agree',4,'Strongly Agree',5)\n\nQ10 = SWITCH(q_10,'Strongly Disagree',1,'Disagree',2,'Neutral',3,'Agree',4,'Strongly Agree',5)\n\nQ11 = SWITCH(q_11,'Strongly Disagree',1,'Disagree',2,'Neutral',3,'Agree',4,'Strongly Agree',5)\n\nQ12 = SWITCH(q_12,'Strongly Disagree',1,'Disagree',2,'Neutral',3,'Agree',4,'Strongly Agree',5)\n\nQ13 = SWITCH(q_13,'Strongly Disagree',1,'Disagree',2,'Neutral',3,'Agree',4,'Strongly Agree',5)\n\nQ14 = SWITCH(q_14,'Strongly Disagree',1,'Disagree',2,'Neutral',3,'Agree',4,'Strongly Agree',5)\n\nQ15 = SWITCH(q_15,'Strongly Disagree',1,'Disagree',2,'Neutral',3,'Agree',4,'Strongly Agree',5)\n\nQ16 = SWITCH(q_16,'Strongly Disagree',1,'Disagree',2,'Neutral',3,'Agree',4,'Strongly Agree',5)\n\nQ17 = SWITCH(q_17,'Strongly Disagree',1,'Disagree',2,'Neutral',3,'Agree',4,'Strongly Agree',5)\n\nQ18 = SWITCH(q_18,'Strongly Disagree',1,'Disagree',2,'Neutral',3,'Agree',4,'Strongly Agree',5)\n\ntotal = SUM([Q4]+[Q5]+[Q6]+[Q7]+[Q8]+[Q9]+[Q10]+[Q11]+[Q12]+[Q13]+[Q14]+[Q15]+[Q16]+[Q17]+[Q18])\n\ntype =IF([total]\u003c=35, \"15 - 35 Points - The Insider\", IF([total]\u003c=55, \"36 - 55 Points - The Balanced Navigator\", IF([total]\u003c=75, \"56 - 75 Points - The Otrovert\", \"Invalid\")))\n\nresult =IF([total]\u003c=35, \"You are a 'belonger.' You find comfort and identity in groups, from friends to teams to community. The feeling of 'we' is natural and central to your experience.\", IF([total]\u003c=55, \"You move between social connection and independence. You can enjoy groups but also value your own perspective, sometimes feeling a pull between the two.\", IF([total]\u003c=75, \" Your primary orientation is 'otherness.' You are likely empathetic and social, but feel like an outsider even in groups. Your identity is internally driven, not from group allegiance, making social settings feel performative. This is not a flaw, but a different way of connecting to the world.\", \"Invalid\")))","slider.handle_color":"#135ae1","slider.track_active_color":"#135ae1","url_state.enabled":true,"layout.margin_top":0.3125,"layout.margin_right":0.3125,"layout.margin_bottom":0.3125,"layout.margin_left":0.3125,"layout.space_between_sections":"1","layout.space_between_sections_custom":0.625,"layout.font_color":"#0a0a0a","layout.header_border":"top","layout.header_border_width":3,"layout.header_border_color":"#0a0a0a","layout.header_border_space":0.625,"layout.title_size":"custom","layout.title_size_custom":1.3,"layout.title_color":"#0a0a0a","layout.subtitle_color":"#0a0a0a","layout.title_space_above":"custom","layout.title_space_above_custom":0.625,"layout.subtitle_size":"custom","layout.subtitle_size_custom":1.2,"layout.subtitle_space_above":"custom","layout.subtitle_space_above_custom":0.625,"layout.header_text_size":"custom","layout.header_text_size_custom":1,"layout.header_text_space_above":"custom","layout.header_text_space_above_custom":0.625,"layout.footer_text_size":0.8,"layout.footer_color":"#a0a0a0","layout.footer_border":"bottom","layout.footer_border_color":"#0a0a0a","layout.footer_border_space":0.625,"layout.footer_logo_enabled":true,"layout.footer_logo_height":1.2,"layout.footer_logo_src":"https://public.flourish.studio/uploads/1148293/bfa72141-4f6d-4690-ba9d-8f49d4bc6688.png","layout.header_text_styling":false,"layout.multiple_sources":false,"color.categorical_palette":["#053568","#0251b6","#2eebff","#8ceded","#84022a","#d91d40","#f297ab","#ffcaca","#0a0a0a","#a3a3a3","#d8d8d8"],"popup.popup_text_color":"#0a0a0a","popup.popup_width":20,"popup.popup_padding":0.75,"popup.popup_radius":0.75,"popup.popup_shadow":false,"popup.popup_header_background":"#0a0a0a","popup.popup_list_label_weight":"bold","popup.show_popup_styles":false,"controls.control_type":"buttons","controls.button_group":false,"controls.button_group_width_mode":"full","controls.control_styles":true,"controls_style.font_size":1.2,"controls_style.padding":1,"button_style.background":"#ffffff","button_style.font_color":"#0a0a0a","button_style.background_hover":"#cccccc","button_style.border_radius":10,"button_style.button_styles_advanced":true,"dropdown_style.border_styles_advanced":false,"line_end_labels":false,"dot_mode":"off","x.linear_min":0,"x.line_and_tick_color":"#0a0a0a","x.line_and_tick_width":0.06,"x.tick_label_color":null,"x.gridline_color":"#cccccc","x.gridline_width":0.03,"x.title_color":null,"x.title_styling":true,"x.tick_label_styling":true,"x.tick_label_angle":"0","x.gridlines_styling":false,"y.linear_min":0,"y.line_and_tick_color":"#0a0a0a","y.line_and_tick_width":0.06,"y.tick_label_color":null,"y.tick_label_position":"above","y.gridline_color":"#cccccc","y.gridline_width":0.03,"y.title_color":null,"y.title_styling":false,"y.gridlines_styling":false,"y.tick_label_styling":true,"y.line_visible":false,"legend_container.orientation":"vertical","legend_categorical.swatch_width":1,"legend_categorical.swatch_radius":11,"legend_continuous.color_band_width":12,"legend_continuous.color_band_height":1.2,"legend_continuous.color_band_radius":10,"legend_size.shape_fill":"#cccccc","legend_size.shape_stroke":"#0a0a0a","legend_mode":"on","colors.categorical_palette":["#053568","#0251b6","#2eebff","#8ceded","#84022a","#d91d40","#f297ab","#ffcaca","#0a0a0a","#a3a3a3","#d8d8d8"],"color.palette":["#053568","#0251b6","#2eebff","#8ceded","#84022a","#d91d40","#f297ab","#ffcaca","#0a0a0a","#a3a3a3","#d8d8d8"],"colors.palette":["#053568","#0251b6","#2eebff","#8ceded","#84022a","#d91d40","#f297ab","#ffcaca","#0a0a0a","#a3a3a3","#d8d8d8"],"map_categorical_colors.palette":["#053568","#0251b6","#2eebff","#8ceded","#84022a","#d91d40","#f297ab","#ffcaca","#0a0a0a","#a3a3a3","#d8d8d8"],"point_categorical_colors.palette":["#053568","#0251b6","#2eebff","#8ceded","#84022a","#d91d40","#f297ab","#ffcaca","#0a0a0a","#a3a3a3","#d8d8d8"],"point_colors.categorical_palette":["#053568","#0251b6","#2eebff","#8ceded","#84022a","#d91d40","#f297ab","#ffcaca","#0a0a0a","#a3a3a3","#d8d8d8"],"map_colors.categorical_palette":["#053568","#0251b6","#2eebff","#8ceded","#84022a","#d91d40","#f297ab","#ffcaca","#0a0a0a","#a3a3a3","#d8d8d8"],"map.points.colors.categorical_palette":["#053568","#0251b6","#2eebff","#8ceded","#84022a","#d91d40","#f297ab","#ffcaca","#0a0a0a","#a3a3a3","#d8d8d8"],"map.regions.colors.categorical_palette":["#053568","#0251b6","#2eebff","#8ceded","#84022a","#d91d40","#f297ab","#ffcaca","#0a0a0a","#a3a3a3","#d8d8d8"],"legend_categorical_points.swatch_width":1,"legend_categorical_map.swatch_width":1,"legend_categorical_points.swatch_radius":11,"legend_categorical_map.swatch_radius":11,"legend_continuous_points.color_band_width":12,"legend_continuous_map.color_band_width":12,"legend_continuous_points.color_band_height":1.2,"legend_continuous_map.color_band_height":1.2,"legend_continuous_points.color_band_radius":10,"legend_continuous_map.color_band_radius":10,"layout.body_font":{"name":"Inter","url":"https://fonts.googleapis.com/css?family=Inter:400,700"}};
			_Flourish_unflattenInto(window.template.state, _Flourish_settings);

			var _Flourish_data_column_names = {"questions":{"answers_raw":"Answers","context_text":"Question context","fallback_value":"Fallback value","image":"Image","question_text":"Question text","question_type":"Question type"}},
				_Flourish_data_metadata = {"questions":{"answers_raw":{"type":"string","type_id":"string$arbitrary_string","output_format_id":"string$arbitrary_string"},"context_text":{"type":"string","type_id":"string$arbitrary_string","output_format_id":"string$arbitrary_string"},"fallback_value":{"type":"string","type_id":"string$arbitrary_string","output_format_id":"string$arbitrary_string"},"image":{"type":"string","type_id":"string$arbitrary_string","output_format_id":"string$arbitrary_string"},"question_text":{"type":"string","type_id":"string$arbitrary_string","output_format_id":"string$arbitrary_string"},"question_type":{"type":"string","type_id":"string$arbitrary_string","output_format_id":"string$arbitrary_string"}}},
				_Flourish_data_timestamps = {"questions":{"last_updated":new Date(1760635792787)}},
				_Flourish_data = {"questions":[{"answers_raw":"","context_text":"For each statement below, indicate how accurately it describes your typical feelings, thoughts, and behaviors throughout your life.","fallback_value":"","image":"","question_text":"\u003cb>Are you an otrovert?\u003c/b>","question_type":""},{"answers_raw":"{{name}}","context_text":"","fallback_value":"","image":"","question_text":"Enter your name","question_type":"text input"},{"answers_raw":"Strongly Disagree :: Disagree :: Neutral :: Agree :: Strongly Agree","context_text":"","fallback_value":"","image":"","question_text":"1.  I have always felt like an outsider, even when I am part of a group.","question_type":"single response buttons"},{"answers_raw":"Strongly Disagree :: Disagree :: Neutral :: Agree :: Strongly Agree","context_text":"","fallback_value":"","image":"","question_text":"2. Concepts like national pride or team spirit are abstract ideas to me, not deep feelings.","question_type":"single response buttons"},{"answers_raw":"Strongly Disagree :: Disagree :: Neutral :: Agree :: Strongly Agree","context_text":"","fallback_value":"","image":"","question_text":"3. I rarely feel a strong sense of allegiance or belonging to any large group (e.g., political party, organized religion, large corporation).","question_type":"single response buttons"},{"answers_raw":"Strongly Disagree :: Disagree :: Neutral :: Agree :: Strongly Agree","context_text":"","fallback_value":"","image":"","question_text":"4. The idea of a \"hive mind\" or groupthink is something I instinctively resist.","question_type":"single response buttons"},{"answers_raw":"Strongly Disagree :: Disagree :: Neutral :: Agree :: Strongly Agree","context_text":"","fallback_value":"","image":"","question_text":"5. I struggle to understand intense rivalries between groups (e.g., sports teams, brands, political factions).","question_type":"single response buttons"},{"answers_raw":"Strongly Disagree :: Disagree :: Neutral :: Agree :: Strongly Agree","context_text":"","fallback_value":"","image":"","question_text":"6. While I can be social and friendly, I often feel like I am performing a role in group settings.","question_type":"single response buttons"},{"answers_raw":"Strongly Disagree :: Disagree :: Neutral :: Agree :: Strongly Agree","context_text":"","fallback_value":"","image":"","question_text":"7. I have a few deep, one-on-one friendships, but I am not part of a tight-knit \"circle\" or \"crew.\"","question_type":"single response buttons"},{"answers_raw":"Strongly Disagree :: Disagree :: Neutral :: Agree :: Strongly Agree","context_text":"","fallback_value":"","image":"","question_text":"8. I find large social gatherings (like parties, weddings, or reunions) more draining than energizing, not because of the people, but because of the social performance required.","question_type":"single response buttons"},{"answers_raw":"Strongly Disagree :: Disagree :: Neutral :: Agree :: Strongly Agree","context_text":"","fallback_value":"","image":"","question_text":"9. I tend to float between different social groups rather than being a core member of one.","question_type":"single response buttons"},{"answers_raw":"Strongly Disagree :: Disagree :: Neutral :: Agree :: Strongly Agree","context_text":"","fallback_value":"","image":"","question_text":"10. I rarely feel the need to \"keep up\" with popular culture, trends, or gossip that my peers are discussing.","question_type":"single response buttons"},{"answers_raw":"Strongly Disagree :: Disagree :: Neutral :: Agree :: Strongly Agree","context_text":"","fallback_value":"","image":"","question_text":"11. My sense of self comes from my own internal values and thoughts, not from my affiliations with any group.","question_type":"single response buttons"},{"answers_raw":"Strongly Disagree :: Disagree :: Neutral :: Agree :: Strongly Agree","context_text":"","fallback_value":"","image":"","question_text":"12. I am often the one in a group who questions the prevailing opinion or suggests an alternative perspective.","question_type":"single response buttons"},{"answers_raw":"Strongly Disagree :: Disagree :: Neutral :: Agree :: Strongly Agree","context_text":"","fallback_value":"","image":"","question_text":"13.I am drawn to activities and hobbies that I can do independently or with one other person (e.g., writing, hiking, gardening, coding) over team-based activities.","question_type":"single response buttons"},{"answers_raw":"Strongly Disagree :: Disagree :: Neutral :: Agree :: Strongly Agree","context_text":"","fallback_value":"","image":"","question_text":"14. Making a decision that goes against a group's consensus, but that I believe is right, feels natural to me.","question_type":"single response buttons"},{"answers_raw":"Strongly Disagree :: Disagree :: Neutral :: Agree :: Strongly Agree","context_text":"","fallback_value":"","image":"","question_text":"15. I was the kind of child who preferred individual pursuits over team sports or group activities.","question_type":"single response buttons"}]},
				_Flourish_visualisation_id = 25684972,
				_Flourish_visualisation_version_number = 265,
				_Flourish_template_id = 75307;
			for (var _Flourish_dataset in _Flourish_data) {
					window.template.data[_Flourish_dataset] = _Flourish_data[_Flourish_dataset];
					window.template.data[_Flourish_dataset].column_names = _Flourish_data_column_names[_Flourish_dataset];
					window.template.data[_Flourish_dataset].metadata = _Flourish_data_metadata[_Flourish_dataset];
					window.template.data[_Flourish_dataset].timestamps = _Flourish_data_timestamps[_Flourish_dataset];
			}

			window.template.metadata = {"visualization_title":"Are you an otrovert?"};

			if (Flourish.enableCustomerAnalytics) { Flourish.enableCustomerAnalytics(); }
			window.template.draw();
		</script></body></html>